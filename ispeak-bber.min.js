var e,t;e=self,t=function(){return function(){function e(r){if(n[r])return n[r].exports;var o=n[r]={id:r,loaded:!1,exports:{}};return t[r](o,o.exports,e),o.loaded=!0,o.exports}var t={9215:function(e){"use strict";e.exports=JSON.parse('{"name":"@cloudbase/js-sdk","version":"1.7.1","description":"cloudbase javascript sdk","main":"dist/index.cjs.js","module":"dist/index.esm.js","miniprogram":"miniprogram_dist","typings":"./index.d.ts","scripts":{"lint":"eslint --fix \\"./src/**/*.ts\\" \\"./database/**/*.ts\\"","build":"rm -rf dist/ && gulp build","build:cdn":"gulp cdn","build:miniapp":"gulp miniapp","build:e2e":"rm -rf dist/ && NODE_ENV=e2e gulp e2e"},"publishConfig":{"access":"public"},"repository":{"type":"git","url":"https://github.com/TencentCloudBase/cloudbase-js-sdk"},"keywords":["tcb","cloudbase","Cloudbase","serverless","Serverless","javascript","JavaScript"],"files":["miniprogram_dist","**/dist/","/index.d.ts","**/package.json"],"components":["app","auth","database","functions","storage"],"author":"","license":"ISC","dependencies":{"@cloudbase/analytics":"^1.1.1-alpha.0","@cloudbase/app":"^1.4.1","@cloudbase/auth":"^1.6.1","@cloudbase/database":"0.9.18-next","@cloudbase/functions":"^1.3.4","@cloudbase/realtime":"^1.1.4-alpha.0","@cloudbase/storage":"^1.3.4","@cloudbase/types":"^1.1.3-alpha.0","@cloudbase/utilities":"^1.3.4"},"devDependencies":{"@babel/core":"^7.9.0","@babel/plugin-proposal-class-properties":"^7.8.3","@babel/plugin-transform-runtime":"^7.9.0","@babel/preset-env":"^7.9.5","@babel/preset-typescript":"^7.9.0","@typescript-eslint/eslint-plugin":"^3.8.0","@typescript-eslint/parser":"^3.8.0","awesome-typescript-loader":"^5.2.1","babel-loader":"^8.1.0","eslint":"^7.6.0","eslint-config-alloy":"^3.7.4","gulp":"^4.0.2","gulp-clean":"^0.4.0","gulp-rename":"^2.0.0","gulp-sourcemaps":"^2.6.5","gulp-typescript":"^6.0.0-alpha.1","json-loader":"^0.5.7","merge-stream":"^2.0.0","package-json-cleanup-loader":"^1.0.3","typescript":"^3.8.3","webpack":"4.41.3","webpack-cli":"^3.3.11","webpack-node-externals":"^1.7.2","webpack-stream":"^5.2.1","webpack-visualizer-plugin":"^0.1.11"},"browserslist":["last 2 version","> 1%","not dead","chrome 53"],"gitHead":"ab207863756e06d702ad17554e67a3c6242ce4b6"}')},7402:function(e){"use strict";function t(e,t,n,r,o,i,s){try{var a=e[i](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise(function(o,i){function s(e){t(u,o,i,s,a,"next",e)}function a(e){t(u,o,i,s,a,"throw",e)}var u=e.apply(n,r);s(void 0)})}},e.exports.default=e.exports,e.exports.__esModule=!0},6247:function(e){"use strict";e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},3483:function(e){"use strict";e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},2370:function(e,t,n){"use strict";function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}var o=n(3988).default;e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,t&&t.set(e,n),n},e.exports.default=e.exports,e.exports.__esModule=!0},3988:function(e){"use strict";function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},6304:function(e,t,n){"use strict";e.exports=n(3355)},1588:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3125);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))});var o=n(9206);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))})},3125:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractStorage=t.AbstractSDKRequest=t.StorageType=void 0,t.StorageType=n,function(e){e.local="local",e.none="none",e.session="session"}(n||(t.StorageType=n={}));var r=function(){};t.AbstractSDKRequest=r;var o=function(){};t.AbstractStorage=o},9206:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatUrl=function(e,t,n){void 0===n&&(n={});var r=/\?/.test(t),o="";for(var i in n)""===o?!r&&(t+="?"):o+="&",o+=i+"="+encodeURIComponent(n[i]);return/^http(s)?\:\/\//.test(t+=o)?t:""+e+t}},5086:function(e,t,n){"use strict";function r(e,t){l=e,t&&(f=t,s(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.setSdkVersion=function(e){a=e},t.getSdkVersion=function(){return a},t.setSdkName=function(e){u=e,i(e)},t.getSdkName=function(){return u},t.setEndPoint=r,t.setRegionLevelEndpoint=function(e,t,n){r(t?"//"+e+"."+t+".tcb-api.tencentcloudapi.com/web":"//"+e+".ap-shanghai.tcb-api.tencentcloudapi.com/web",n)},t.getEndPoint=function(){return{BASE_URL:l,PROTOCOL:f}},t.LOGINTYPE=t.DATA_VERSION=void 0;var o=n(1895),i=o.constants.setSdkName,s=o.constants.setProtocol,a="",u="@cloudbase/js-sdk";t.DATA_VERSION="2020-01-10";var c,f="undefined"!=typeof location&&"http:"===location.protocol?"http:":"https:",l="//tcb-api.tencentcloudapi.com/web";t.LOGINTYPE=c,function(e){e.ANONYMOUS="ANONYMOUS",e.WECHAT="WECHAT",e.CUSTOM="CUSTOM",e.NULL="NULL"}(c||(t.LOGINTYPE=c={}))},2701:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENTS=void 0,t.EVENTS={LOGIN_STATE_CHANGED:"loginStateChanged",LOGIN_STATE_EXPIRED:"loginStateExpire",LOGIN_TYPE_CHANGED:"loginTypeChanged",ANONYMOUS_CONVERTED:"anonymousConverted",ACCESS_TOKEN_REFRESHD:"refreshAccessToken"}},9304:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.cloudbase=void 0;var o=r(n(3988)),i=n(1895),s=r(n(4934)),a=n(9487),u=n(1510),c=n(1888),f=n(3704),l=n(5086),p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},d=function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},h=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},v=function(e,t){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,o,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},g=i.adapters.useAdapters,_=i.adapters.useDefaultAdapter,m=i.adapters.RUNTIME,b=i.constants.ERRORS,O=i.constants.COMMUNITY_SITE_URL,A=i.utils.printWarn,w=i.helpers.catchErrorsDecorator,S={timeout:15e3,persistence:"local"},E=6e5,N={},T=new(function(){function e(e){this._config=e||this._config,this.authInstance=null}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"platform",{get:function(){return u.Platform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cache",{get:function(){return(0,c.getCacheByEnvId)(this._config.env)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localCache",{get:function(){return(0,c.getLocalCache)(this._config.env)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"request",{get:function(){return(0,f.getRequestByEnvId)(this._config.env)},enumerable:!1,configurable:!0}),e.prototype.init=function(t){if(!t.env)throw new Error(JSON.stringify({code:b.INVALID_PARAMS,msg:"env must not be specified"}));if(u.Platform.adapter||this._useDefaultAdapter(),this.requestClient=new u.Platform.adapter.reqClass({timeout:t.timeout||5e3,timeoutMsg:"["+(0,l.getSdkName)()+"][REQUEST TIMEOUT] request had been abort since didn't finished within"+t.timeout/1e3+"s"}),u.Platform.runtime!==m.WEB){if(!t.appSecret)throw new Error(JSON.stringify({code:b.INVALID_PARAMS,msg:"invalid appSecret"}));var n=u.Platform.adapter.getAppSign?u.Platform.adapter.getAppSign():"";if(t.appSign&&n&&t.appSign!==n)throw new Error(JSON.stringify({code:b.INVALID_PARAMS,msg:"invalid appSign"}));if(n&&(t.appSign=n),!t.appSign)throw new Error(JSON.stringify({code:b.INVALID_PARAMS,msg:"invalid appSign"}))}this._config=p(p({},S),t),this._config.timeout=this._formatTimeout(this._config.timeout);var r=this._config,o=r.env,i=r.persistence,s=r.debug,a=r.timeout,d=r.appSecret,h=r.appSign;(0,c.initCache)({env:o,persistence:i,debug:s,platformInfo:this.platform}),(0,f.initRequest)({env:o,region:t.region||"",timeout:a,appSecret:d,appSign:h}),t.region&&(0,l.setRegionLevelEndpoint)(o,t.region||"");var y=new e(this._config);return y.requestClient=this.requestClient,y},e.prototype.updateConfig=function(e){var t=e.persistence,n=e.debug;this._config.persistence=t,this._config.debug=n,(0,c.initCache)({env:this._config.env,persistence:t,debug:n,platformInfo:this.platform})},e.prototype.registerExtension=function(e){N[e.name]=e},e.prototype.invokeExtension=function(e,t){return y(this,void 0,void 0,function(){var n;return v(this,function(r){switch(r.label){case 0:if(!(n=N[e]))throw new Error(JSON.stringify({code:b.INVALID_PARAMS,msg:"extension:"+e+" must be registered before invoke"}));return[4,n.invoke(t,this)];case 1:return[2,r.sent()]}})})},e.prototype.useAdapters=function(e){var t=g(e)||{},n=t.adapter,r=t.runtime;n&&(u.Platform.adapter=n),r&&(u.Platform.runtime=r)},e.prototype.registerHook=function(t){(0,a.registerHook)(e,t)},e.prototype.registerComponent=function(t){(0,a.registerComponent)(e,t)},e.prototype.registerVersion=function(e){(0,l.setSdkVersion)(e)},e.prototype.registerSdkName=function(e){(0,l.setSdkName)(e)},e.prototype.registerEndPoint=function(e,t){(0,l.setEndPoint)(e,t)},e.prototype._useDefaultAdapter=function(){var e=_(),t=e.adapter,n=e.runtime;u.Platform.adapter=t,u.Platform.runtime=n},e.prototype._formatTimeout=function(e){switch(!0){case e>E:return A(b.INVALID_PARAMS,"timeout is greater than maximum value[10min]"),E;case e<100:return A(b.INVALID_PARAMS,"timeout is less than maximum value[100ms]"),100;default:return e}},d([w({mode:"sync",title:"Cloudbase 初始化失败",messages:["请确认以下各项：","  1 - 调用 cloudbase.init() 的语法或参数是否正确","  2 - 如果是非浏览器环境，是否配置了安全应用来源（https://docs.cloudbase.net/api-reference/webv2/adapter.html#jie-ru-liu-cheng）","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+O]}),h("design:type",Function),h("design:paramtypes",[Object]),h("design:returntype",e)],e.prototype,"init",null),d([w({title:"调用扩展能力失败",messages:["请确认以下各项：","  1 - 调用 invokeExtension() 的语法或参数是否正确","  2 - 被调用的扩展能力是否已经安装并通过 registerExtension() 注册","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+O]}),h("design:type",Function),h("design:paramtypes",[String,Object]),h("design:returntype",Promise)],e.prototype,"invokeExtension",null),e}());t.cloudbase=T,T.useAdapters(s.default);var I=T;t.default=I},1510:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Platform=void 0,t.Platform={}},1888:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initCache=function(e){var t=e.env,n=e.persistence,r=e.platformInfo,u={accessTokenKey:"access_token_"+t,accessTokenExpireKey:"access_token_expire_"+t,refreshTokenKey:"refresh_token_"+t,anonymousUuidKey:"anonymous_uuid_"+t,loginTypeKey:"login_type_"+t,userInfoKey:"user_info_"+t};s[t]?s[t].updatePersistence(n):s[t]=new i(o(o({},e),{keys:u,platformInfo:r,alwaysLocalKeys:["anonymousUuidKey"]})),a[t]=a[t]||new i(o(o({},e),{keys:u,platformInfo:r,persistence:"local"}))},t.getCacheByEnvId=function(e){return s[e]},t.getLocalCache=function(e){return a[e]};var r=n(1895),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=r.cache.CloudbaseCache,s={},a={}},9487:function(e,t,n){"use strict";function r(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=r(e[n],t[n]));return e}Object.defineProperty(t,"__esModule",{value:!0}),t.registerComponent=function(e,t){var n=t.name,o=t.namespace,u=t.entity,c=t.injectEvents,f=t.IIFE,l=void 0!==f&&f;if(a[n]||o&&e[o])throw new Error(JSON.stringify({code:s.INVALID_OPERATION,msg:"Duplicate component "+n}));if(l){if(!u||"function"!=typeof u)throw new Error(JSON.stringify({code:s.INVALID_PARAMS,msg:"IIFE component's entity must be a function"}));u.call(e)}if(a[n]=t,o?e.prototype[o]=u:r(e.prototype,u),c){var p=c.bus,d=c.events;if(!p||!d||0===d.length)return;var h=e.prototype.fire||function(){};e.prototype.events||(e.prototype.events={}),(e.prototype.events||{})[n]?e.prototype.events[n].events=i(e.prototype.events[n].events,d):e.prototype.events[n]={bus:p,events:d},e.prototype.fire=function(e,t){for(var n in h(e,t),this.events){var r=this.events[n],o=r.bus;if(r.events.includes(e)){o.fire(e,t);break}}}}},t.registerHook=function(e,t){var n=t.entity,r=t.target;if(!e.prototype.hasOwnProperty(r))throw new Error(JSON.stringify({code:s.INVALID_OPERATION,msg:"target:"+r+" is not exist"}));var o=e.prototype[r];if("function"!=typeof o)throw new Error(JSON.stringify({code:s.INVALID_OPERATION,msg:"target:"+r+" is not a function which is the only type supports hook"}));e.prototype[r]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.call.apply(n,i([this],e)),o.call.apply(o,i([this],e))}};var o=n(1895),i=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},s=o.constants.ERRORS,a={}},3704:function(e,t,n){"use strict";function r(e,t,n){var r=e[t];e[t]=function(t){var o={},i={};n.forEach(function(n){var r=n.call(e,t),s=r.data,a=r.headers;Object.assign(o,s),Object.assign(i,a)});var s=t.data;return s&&function(){if(v(s))for(var e in o)s.append(e,o[e]);else t.data=l(l({},s),o)}(),t.headers=l(l({},t.headers||{}),i),r.call(e,t)}}function o(){var e=y();return{data:{seqId:e},headers:{"X-SDK-Version":"@cloudbase/js-sdk/"+(0,i.getSdkVersion)(),"x-seqid":e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.initRequest=function(e){A[e.env]=new O(l(l({},e),{throw:!0}))},t.getRequestByEnvId=function(e){return A[e]},t.CloudbaseRequest=void 0;var i=n(5086),s=n(1895),a=n(9304),u=n(1888),c=n(2701),f=n(1510),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},p=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},d=function(e,t){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,o,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},h=s.constants.ERRORS,y=s.utils.genSeqId,v=s.utils.isFormData,g=s.utils.formatUrl,_=s.utils.createSign,m=s.adapters.RUNTIME,b=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"],O=function(){function e(e){this._throwWhenRequestFail=!1,this.config=e,this._reqClass=new f.Platform.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:"[@cloudbase/js-sdk] 请求在"+this.config.timeout/1e3+"s内未完成，已中断",restrictedMethods:["post"]}),this._throwWhenRequestFail=e.throw||!1,this._cache=(0,u.getCacheByEnvId)(this.config.env),this._localCache=(0,u.getLocalCache)(this.config.env),r(this._reqClass,"post",[o]),r(this._reqClass,"upload",[o]),r(this._reqClass,"download",[o])}return e.prototype.post=function(e){return p(this,void 0,void 0,function(){return d(this,function(t){switch(t.label){case 0:return[4,this._reqClass.post(e)];case 1:return[2,t.sent()]}})})},e.prototype.upload=function(e){return p(this,void 0,void 0,function(){return d(this,function(t){switch(t.label){case 0:return[4,this._reqClass.upload(e)];case 1:return[2,t.sent()]}})})},e.prototype.download=function(e){return p(this,void 0,void 0,function(){return d(this,function(t){switch(t.label){case 0:return[4,this._reqClass.download(e)];case 1:return[2,t.sent()]}})})},e.prototype.refreshAccessToken=function(){return p(this,void 0,void 0,function(){var e,t,n;return d(this,function(r){switch(r.label){case 0:this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken()),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._refreshAccessTokenPromise];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),t=n,[3,4];case 4:if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,t)throw t;return[2,e]}})})},e.prototype.getAccessToken=function(){return p(this,void 0,void 0,function(){var e,t,n,r,o,i,s,a,u;return d(this,function(c){switch(c.label){case 0:return e=this._cache.keys,t=e.accessTokenKey,n=e.accessTokenExpireKey,r=e.refreshTokenKey,[4,this._cache.getStoreAsync(r)];case 1:if(!c.sent())throw new Error(JSON.stringify({code:h.OPERATION_FAIL,msg:"refresh token is not exist, your local data might be messed up, please retry after clear localStorage or sessionStorage"}));return[4,this._cache.getStoreAsync(t)];case 2:return o=c.sent(),s=Number,[4,this._cache.getStoreAsync(n)];case 3:return i=s.apply(void 0,[c.sent()]),a=!0,(u=this._shouldRefreshAccessTokenHook)?[4,this._shouldRefreshAccessTokenHook(o,i)]:[3,5];case 4:u=!c.sent(),c.label=5;case 5:return u&&(a=!1),o&&i&&!(i<Date.now())||!a?[3,7]:[4,this.refreshAccessToken()];case 6:return[2,c.sent()];case 7:return[2,{accessToken:o,accessTokenExpire:i}]}})})},e.prototype.request=function(e,t,n){return p(this,void 0,void 0,function(){var r,o,s,a,u,c,p,h,y,v,O,A,w,S,E,N,T,I,B,P,L,D,R,M,C,x;return d(this,function(d){switch(d.label){case 0:return r="x-tcb-trace_"+this.config.env,o="application/x-www-form-urlencoded",s=l({action:e,dataVersion:i.DATA_VERSION,env:this.config.env},t),-1!==b.indexOf(e)?[3,3]:(a=this._cache.keys.refreshTokenKey,[4,this._cache.getStoreAsync(a)]);case 1:return d.sent()?(u=s,[4,this.getAccessToken()]):[3,3];case 2:u.access_token=d.sent().accessToken,d.label=3;case 3:if("storage.uploadFile"===e){for(p in c=new FormData)c.hasOwnProperty(p)&&void 0!==c[p]&&c.append(p,s[p]);o="multipart/form-data"}else for(p in o="application/json;charset=UTF-8",c={},s)void 0!==s[p]&&(c[p]=s[p]);return h={headers:{"content-type":o}},(null==n?void 0:n.onUploadProgress)&&(h.onUploadProgress=n.onUploadProgress),this.config.region&&(h.headers["X-TCB-Region"]=this.config.region),(y=this._localCache.getStore(r))&&(h.headers["X-TCB-Trace"]=y),f.Platform.runtime!==m.WEB&&(v=this.config,O=v.appSign,A=v.appSecret,w=Date.now(),S=A.appAccessKey,E=A.appAccessKeyId,N=_({data:{},timestamp:w,appAccessKeyId:E,appSign:O},S),h.headers["X-TCB-App-Source"]="timestamp="+w+";appAccessKeyId="+E+";appSign="+O+";sign="+N),T=t.parse,I=t.inQuery,B=t.search,P={env:this.config.env},T&&(P.parse=!0),I&&(P=l(l({},I),P)),L=(0,i.getEndPoint)(),D=L.BASE_URL,R=L.PROTOCOL,M=g(R,D,P),B&&(M+=B),[4,this.post(l({url:M,data:c},h))];case 4:if(C=d.sent(),(x=C.header&&C.header["x-tcb-trace"])&&this._localCache.setStore(r,x),200!==Number(C.status)&&200!==Number(C.statusCode)||!C.data)throw new Error("network request error");return[2,C]}})})},e.prototype.send=function(e,t){return void 0===t&&(t={}),p(this,void 0,void 0,function(){var n;return d(this,function(r){switch(r.label){case 0:return[4,this.request(e,t,{onUploadProgress:t.onUploadProgress})];case 1:return"ACCESS_TOKEN_EXPIRED"!==(n=r.sent()).data.code||-1!==b.indexOf(e)?[3,4]:[4,this.refreshAccessToken()];case 2:return r.sent(),[4,this.request(e,t,{onUploadProgress:t.onUploadProgress})];case 3:n=r.sent(),r.label=4;case 4:if(n.data.code&&this._throwWhenRequestFail)throw new Error(JSON.stringify({code:h.OPERATION_FAIL,msg:"["+n.data.code+"] "+n.data.message}));return[2,n.data]}})})},e.prototype._refreshAccessToken=function(e){return void 0===e&&(e=1),p(this,void 0,void 0,function(){var t,n,r,o,s,u,f,l,p,y,v,g,_;return d(this,function(d){switch(d.label){case 0:return t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,o=t.refreshTokenKey,s=t.loginTypeKey,u=t.anonymousUuidKey,[4,this._cache.removeStoreAsync(n)];case 1:return d.sent(),[4,this._cache.removeStoreAsync(r)];case 2:return d.sent(),[4,this._cache.getStoreAsync(o)];case 3:if(!(f=d.sent()))throw new Error(JSON.stringify({code:h.INVALID_OPERATION,msg:"not login"}));return l={refresh_token:f},[4,this.request("auth.fetchAccessTokenWithRefreshToken",l)];case 4:return(p=d.sent()).data.code?"SIGN_PARAM_INVALID"!==(y=p.data.code)&&"REFRESH_TOKEN_EXPIRED"!==y&&"INVALID_REFRESH_TOKEN"!==y?[3,11]:[4,this._cache.getStoreAsync(s)]:[3,12];case 5:return d.sent()===i.LOGINTYPE.ANONYMOUS&&"INVALID_REFRESH_TOKEN"===y?[4,this._cache.getStoreAsync(u)]:[3,9];case 6:return v=d.sent(),[4,this._cache.getStoreAsync(o)];case 7:return g=d.sent(),[4,this.send("auth.signInAnonymously",{anonymous_uuid:v,refresh_token:g})];case 8:if(_=d.sent(),this._setRefreshToken(_.refresh_token),e>=1)return[2,this._refreshAccessToken(--e)];throw new Error(JSON.stringify({code:h.OPERATION_FAIL,message:"重试获取 refresh token 失败"}));case 9:return a.cloudbase.fire(c.EVENTS.LOGIN_STATE_EXPIRED),[4,this._cache.removeStoreAsync(o)];case 10:d.sent(),d.label=11;case 11:throw new Error(JSON.stringify({code:h.NETWORK_ERROR,msg:"refresh access_token failed："+p.data.code}));case 12:return p.data.access_token?(a.cloudbase.fire(c.EVENTS.ACCESS_TOKEN_REFRESHD),[4,this._cache.setStoreAsync(n,p.data.access_token)]):[3,15];case 13:return d.sent(),[4,this._cache.setStoreAsync(r,p.data.access_token_expire+Date.now())];case 14:return d.sent(),[2,{accessToken:p.data.access_token,accessTokenExpire:p.data.access_token_expire}];case 15:return p.data.refresh_token?[4,this._cache.removeStoreAsync(o)]:[3,19];case 16:return d.sent(),[4,this._cache.setStoreAsync(o,p.data.refresh_token)];case 17:return d.sent(),[4,this._refreshAccessToken()];case 18:d.sent(),d.label=19;case 19:return[2]}})})},e.prototype._setRefreshToken=function(e){return p(this,void 0,void 0,function(){var t,n,r,o;return d(this,function(i){switch(i.label){case 0:return t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,o=t.refreshTokenKey,[4,this._cache.removeStoreAsync(n)];case 1:return i.sent(),[4,this._cache.removeStoreAsync(r)];case 2:return i.sent(),[4,this._cache.setStoreAsync(o,e)];case 3:return i.sent(),[2]}})})},e}();t.CloudbaseRequest=O;var A={}},627:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.LOGINTYPE=void 0,t.LOGINTYPE=n,function(e){e.ANONYMOUS="ANONYMOUS",e.WECHAT="WECHAT",e.WECHAT_PUBLIC="WECHAT-PUBLIC",e.WECHAT_OPEN="WECHAT-OPEN",e.CUSTOM="CUSTOM",e.EMAIL="EMAIL",e.USERNAME="USERNAME",e.NULL="NULL",e.PHONE="PHONE"}(n||(t.LOGINTYPE=n={}))},2198:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.registerAuth=function(e){try{e.registerComponent(D)}catch(e){console.warn(e)}},t.registerProvider=function(e,t){P.prototype[e]=function(n){var r="_"+e;return this[r]||(this[r]=new t(h(h({},n),this._config))),this[r]}},Object.defineProperty(t,"AuthProvider",{enumerable:!0,get:function(){return f.AuthProvider}}),t.eventBus=t.EVENTS=t.Auth=t.LoginState=void 0;var o=r(n(3988)),i=n(1895),s=n(9368),a=n(1424),u=n(8432),c=n(627),f=n(2251),l=n(2360),p=n(5518),d=n(4718),h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},y=function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},v=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,o.default)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},_=function(e,t){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,o,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},m=i.events.CloudbaseEventEmitter,b=i.adapters.RUNTIME,O=i.utils.printWarn,A=i.utils.throwError,w=i.utils.transformPhone,S=i.constants.ERRORS,E=i.constants.COMMUNITY_SITE_URL,N=i.helpers.catchErrorsDecorator,T=new m;t.eventBus=T;var I=function(){function e(e){var t=e.cache,n=e.request;this._cache=t,this._request=n,this._setUserInfo()}return e.prototype.checkLocalInfo=function(){return g(this,void 0,void 0,function(){return _(this,function(e){return this.uid=this._getLocalUserInfo("uid"),this.loginType=this._getLocalUserInfo("loginType"),this.openid=this._getLocalUserInfo("wxOpenId"),this.wxOpenId=this._getLocalUserInfo("wxOpenId"),this.wxPublicId=this._getLocalUserInfo("wxPublicId"),this.unionId=this._getLocalUserInfo("wxUnionId"),this.qqMiniOpenId=this._getLocalUserInfo("qqMiniOpenId"),this.customUserId=this._getLocalUserInfo("customUserId"),this.nickName=this._getLocalUserInfo("nickName"),this.gender=this._getLocalUserInfo("gender"),this.avatarUrl=this._getLocalUserInfo("avatarUrl"),this.email=this._getLocalUserInfo("email"),this.hasPassword=Boolean(this._getLocalUserInfo("hasPassword")),this.phone=this._getLocalUserInfo("phone"),this.username=this._getLocalUserInfo("username"),this.location={country:this._getLocalUserInfo("country"),province:this._getLocalUserInfo("province"),city:this._getLocalUserInfo("city")},[2]})})},e.prototype.checkLocalInfoAsync=function(){return g(this,void 0,void 0,function(){var e,t,n,r,o,i,s,a,u,c,f,l,p,d,h,y,v,g;return _(this,function(_){switch(_.label){case 0:return e=this,[4,this._getLocalUserInfoAsync("uid")];case 1:return e.uid=_.sent(),t=this,[4,this._getLocalUserInfoAsync("loginType")];case 2:return t.loginType=_.sent(),n=this,[4,this._getLocalUserInfoAsync("wxOpenId")];case 3:return n.openid=_.sent(),r=this,[4,this._getLocalUserInfoAsync("wxOpenId")];case 4:return r.wxOpenId=_.sent(),o=this,[4,this._getLocalUserInfoAsync("wxPublicId")];case 5:return o.wxPublicId=_.sent(),i=this,[4,this._getLocalUserInfoAsync("wxUnionId")];case 6:return i.unionId=_.sent(),s=this,[4,this._getLocalUserInfoAsync("qqMiniOpenId")];case 7:return s.qqMiniOpenId=_.sent(),a=this,[4,this._getLocalUserInfoAsync("customUserId")];case 8:return a.customUserId=_.sent(),u=this,[4,this._getLocalUserInfoAsync("nickName")];case 9:return u.nickName=_.sent(),c=this,[4,this._getLocalUserInfoAsync("gender")];case 10:return c.gender=_.sent(),f=this,[4,this._getLocalUserInfoAsync("avatarUrl")];case 11:return f.avatarUrl=_.sent(),l=this,[4,this._getLocalUserInfoAsync("email")];case 12:return l.email=_.sent(),p=this,d=Boolean,[4,this._getLocalUserInfoAsync("hasPassword")];case 13:return p.hasPassword=d.apply(void 0,[_.sent()]),h=this,[4,this._getLocalUserInfoAsync("phone")];case 14:return h.phone=_.sent(),y=this,[4,this._getLocalUserInfoAsync("username")];case 15:return y.username=_.sent(),v=this,g={},[4,this._getLocalUserInfoAsync("country")];case 16:return g.country=_.sent(),[4,this._getLocalUserInfoAsync("province")];case 17:return g.province=_.sent(),
[4,this._getLocalUserInfoAsync("city")];case 18:return v.location=(g.city=_.sent(),g),[2]}})})},e.prototype.linkWithTicket=function(e){if("string"!=typeof e)throw new Error("ticket must be string");return this._request.send("auth.linkWithTicket",{ticket:e})},e.prototype.linkWithRedirect=function(e){e.signInWithRedirect()},e.prototype.getLinkedUidList=function(){return g(this,void 0,void 0,function(){var e,t,n,r,o,i;return _(this,function(s){switch(s.label){case 0:return[4,this._request.send("auth.getLinkedUidList",{})];case 1:for(e=s.sent().data,t=!1,n=e.users,r=0,o=n;r<o.length;r++)if((i=o[r]).wxOpenId&&i.wxPublicId){t=!0;break}return[2,{users:n,hasPrimaryUid:t}]}})})},e.prototype.setPrimaryUid=function(e){return this._request.send("auth.setPrimaryUid",{uid:e})},e.prototype.unlink=function(e){return this._request.send("auth.unlink",{platform:e})},e.prototype.update=function(e){return g(this,void 0,void 0,function(){var t,n,r,o,i,s,a;return _(this,function(u){switch(u.label){case 0:return t=e.nickName,n=e.gender,r=e.avatarUrl,o=e.province,i=e.country,s=e.city,[4,this._request.send("auth.updateUserInfo",{nickName:t,gender:n,avatarUrl:r,province:o,country:i,city:s})];case 1:return a=u.sent().data,this._setLocalUserInfo(a),[2]}})})},e.prototype.updatePassword=function(e,t){return this._request.send("auth.updatePassword",{oldPassword:t,newPassword:e})},e.prototype.updateEmail=function(e,t){return this._request.send("auth.updateEmail",{newEmail:e,password:t})},e.prototype.updateUsername=function(e){return"string"!=typeof e&&A(S.INVALID_PARAMS,"username must be a string"),this._request.send("auth.updateUsername",{username:e})},e.prototype.refresh=function(){return g(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return[4,this._request.send("auth.getUserInfo",{})];case 1:return e=t.sent().data,this._setLocalUserInfo(e),[2,e]}})})},e.prototype.linkWithPhoneNumber=function(e,t){return g(this,void 0,void 0,function(){return _(this,function(n){return[2,this._request.send("auth.linkOrUpdatePhoneNumber",{phoneNumber:w(e),phoneCode:t})]})})},e.prototype.updatePhoneNumber=function(e,t){return g(this,void 0,void 0,function(){return _(this,function(n){return[2,this._request.send("auth.linkOrUpdatePhoneNumber",{phoneNumber:w(e),phoneCode:t})]})})},e.prototype._getLocalUserInfo=function(e){var t=this._cache.keys.userInfoKey;return this._cache.getStore(t)[e]},e.prototype._getLocalUserInfoAsync=function(e){return g(this,void 0,void 0,function(){var t;return _(this,function(n){switch(n.label){case 0:return t=this._cache.keys.userInfoKey,[4,this._cache.getStoreAsync(t)];case 1:return[2,n.sent()[e]]}})})},e.prototype._setUserInfo=function(){var e=this,t=this._cache.keys.userInfoKey,n=this._cache.getStore(t);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl","phone","username"].forEach(function(t){e[t]=n[t]}),this.location={country:n.country,province:n.province,city:n.city}},e.prototype._setLocalUserInfo=function(e){var t=this._cache.keys.userInfoKey;this._cache.setStore(t,e),this._setUserInfo()},y([N({title:"绑定自定义登录失败",messages:["请确认以下各项：","  1 - 调用 User.linkWithTicket() 的语法或参数是否正确","  2 - 此账户是否已经绑定自定义登录","  3 - ticket 参数是否归属当前环境","  4 - 创建 ticket 的自定义登录私钥是否过期","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+E]}),v("design:type",Function),v("design:paramtypes",[String]),v("design:returntype",Promise)],e.prototype,"linkWithTicket",null),y([N({title:"绑定第三方登录方式失败",messages:["请确认以下各项：","  1 - 调用 User.linkWithRedirect() 的语法或参数是否正确","  2 - 此账户是否已经绑定此第三方","  3 - 此第三方是否已经授权","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+E]}),v("design:type",Function),v("design:paramtypes",[Object]),v("design:returntype",void 0)],e.prototype,"linkWithRedirect",null),y([N({title:"获取账户列表失败",messages:["请确认以下各项：","  1 - 调用 User.getLinkedUidList() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+E]}),v("design:type",Function),v("design:paramtypes",[]),v("design:returntype",Promise)],e.prototype,"getLinkedUidList",null),y([N({title:"设置微信主账号失败",messages:["请确认以下各项：","  1 - 调用 User.setPrimaryUid() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+E]}),v("design:type",Function),v("design:paramtypes",[String]),v("design:returntype",void 0)],e.prototype,"setPrimaryUid",null),y([N({title:"接触绑定失败",messages:["请确认以下各项：","  1 - 调用 User.unlink() 的语法或参数是否正确","  2 - 当前账户是否已经与此登录方式解绑","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+E]}),v("design:type",Function),v("design:paramtypes",[String]),v("design:returntype",void 0)],e.prototype,"unlink",null),y([N({title:"更新用户信息失败",messages:["请确认以下各项：","  1 - 调用 User.update() 的语法或参数是否正确","  2 - 用户信息中是否包含非法值","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+E]}),v("design:type",Function),v("design:paramtypes",[Object]),v("design:returntype",Promise)],e.prototype,"update",null),y([N({title:"更新密码失败",messages:["请确认以下各项：","  1 - 调用 User.updatePassword() 的语法或参数是否正确","  3 - 新密码中是否包含非法字符","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+E]}),v("design:type",Function),v("design:paramtypes",[String,String]),v("design:returntype",void 0)],e.prototype,"updatePassword",null),y([N({title:"更新邮箱地址失败",messages:["请确认以下各项：","  1 - 调用 User.updateEmail() 的语法或参数是否正确","  2 - 当前环境是否开通了邮箱密码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+E]}),v("design:type",Function),v("design:paramtypes",[String,String]),v("design:returntype",void 0)],e.prototype,"updateEmail",null),y([N({title:"更新用户名失败",messages:["请确认以下各项：","  1 - 调用 User.updateUsername() 的语法或参数是否正确","  2 - 当前环境是否开通了用户名密码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+E]}),v("design:type",Function),v("design:paramtypes",[String]),v("design:returntype",void 0)],e.prototype,"updateUsername",null),y([N({title:"刷新本地用户信息失败",messages:["请确认以下各项：","  1 - 调用 User.refresh() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+E]}),v("design:type",Function),v("design:paramtypes",[]),v("design:returntype",Promise)],e.prototype,"refresh",null),y([N({title:"绑定手机号失败",messages:["请确认以下各项：","  1 - 调用 auth().linkWithPhoneNumber() 的语法或参数是否正确","  2 - 当前环境是否开通了短信验证码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+E]}),v("design:type",Function),v("design:paramtypes",[String,String]),v("design:returntype",Promise)],e.prototype,"linkWithPhoneNumber",null),y([N({title:"更新手机号失败",messages:["请确认以下各项：","  1 - 调用语法或参数是否正确","  2 - 当前环境是否开通了短信验证码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+E]}),v("design:type",Function),v("design:paramtypes",[String,String]),v("design:returntype",Promise)],e.prototype,"updatePhoneNumber",null),e}(),B=function(){function e(e){var t=e.envId,n=e.cache,r=e.request;t||A(S.INVALID_PARAMS,"envId is not defined"),this._cache=n,this.user=new I({cache:n,request:r})}return e.prototype.checkLocalState=function(){return g(this,void 0,void 0,function(){var e,t,n,r,o,i,s;return _(this,function(a){return e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=e.accessTokenExpireKey,o=this._cache.getStore(t),i=this._cache.getStore(n),s=this._cache.getStore(r),this.credential={refreshToken:o,accessToken:i,accessTokenExpire:s},this._loginType=this._cache.getStore(this._cache.keys.loginTypeKey),this.user.checkLocalInfo(),[2]})})},e.prototype.checkLocalStateAsync=function(){return g(this,void 0,void 0,function(){var e,t,n,r,o,i,s,a;return _(this,function(u){switch(u.label){case 0:return e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=e.accessTokenExpireKey,[4,this._cache.getStoreAsync(t)];case 1:return o=u.sent(),[4,this._cache.getStoreAsync(n)];case 2:return i=u.sent(),[4,this._cache.getStoreAsync(r)];case 3:return s=u.sent(),this.credential={refreshToken:o,accessToken:i,accessTokenExpire:s},a=this,[4,this._cache.getStoreAsync(this._cache.keys.loginTypeKey)];case 4:return a._loginType=u.sent(),[4,this.user.checkLocalInfoAsync()];case 5:return u.sent(),[2]}})})},Object.defineProperty(e.prototype,"isAnonymousAuth",{get:function(){return this.loginType===c.LOGINTYPE.ANONYMOUS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCustomAuth",{get:function(){return this.loginType===c.LOGINTYPE.CUSTOM},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWeixinAuth",{get:function(){return this.loginType===c.LOGINTYPE.WECHAT||this.loginType===c.LOGINTYPE.WECHAT_OPEN||this.loginType===c.LOGINTYPE.WECHAT_PUBLIC},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUsernameAuth",{get:function(){return this.loginType===c.LOGINTYPE.USERNAME},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loginType",{get:function(){return this._loginType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPhoneAuth",{get:function(){return this.loginType===c.LOGINTYPE.PHONE},enumerable:!1,configurable:!0}),e}();t.LoginState=B;var P=function(){function e(e){this._config=e,this._cache=e.cache,this._request=e.request,this._runtime=e.runtime||b.WEB,T.on(L.LOGIN_TYPE_CHANGED,this._onLoginTypeChanged.bind(this))}return Object.defineProperty(e.prototype,"currentUser",{get:function(){if("async"!==this._cache.mode){var e=this.hasLoginState();return e&&e.user||null}O(S.INVALID_OPERATION,"current platform's storage is asynchronous, please use getCurrenUser insteed")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loginType",{get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)},enumerable:!1,configurable:!0}),e.prototype.getCurrenUser=function(){return g(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return[4,this.getLoginState()];case 1:return(e=t.sent())?[4,e.user.checkLocalInfoAsync()]:[3,3];case 2:return t.sent(),[2,e.user||null];case 3:return[2,null]}})})},e.prototype.getLoginType=function(){return g(this,void 0,void 0,function(){return _(this,function(e){switch(e.label){case 0:return[4,this._cache.getStoreAsync(this._cache.keys.loginTypeKey)];case 1:return[2,e.sent()]}})})},e.prototype.getAccessToken=function(){return g(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return e={},[4,this._request.getAccessToken()];case 1:return[2,(e.accessToken=t.sent().accessToken,e.env=this._config.env,e)]}})})},e.prototype.weixinAuthProvider=function(e){var t=e.appid,n=e.scope,r=e.state;return this._weixinAuthProvider||(this._weixinAuthProvider=new s.WeixinAuthProvider(h(h({},this._config),{cache:this._cache,request:this._request,runtime:this._runtime}),t,n,r)),this._weixinAuthProvider},e.prototype.anonymousAuthProvider=function(){return this._anonymousAuthProvider||(this._anonymousAuthProvider=new a.AnonymousAuthProvider(h(h({},this._config),{cache:this._cache,request:this._request}))),this._anonymousAuthProvider},e.prototype.customAuthProvider=function(){return this._customAuthProvider||(this._customAuthProvider=new u.CustomAuthProvider(h(h({},this._config),{cache:this._cache,request:this._request}))),this._customAuthProvider},e.prototype.emailAuthProvider=function(){return this._emailAuthProvider||(this._emailAuthProvider=new l.EmailAuthProvider(h(h({},this._config),{cache:this._cache,request:this._request}))),this._emailAuthProvider},e.prototype.usernameAuthProvider=function(){return this._usernameAuthProvider||(this._usernameAuthProvider=new p.UsernameAuthProvider(h(h({},this._config),{cache:this._cache,request:this._request}))),this._usernameAuthProvider},e.prototype.phoneAuthProvider=function(){return this._phoneAuthProvider||(this._phoneAuthProvider=new d.PhoneAuthProvider(h(h({},this._config),{cache:this._cache,request:this._request}))),this._phoneAuthProvider},e.prototype.signInWithUsernameAndPassword=function(e,t){return g(this,void 0,void 0,function(){return _(this,function(n){return[2,this.usernameAuthProvider().signIn(e,t)]})})},e.prototype.isUsernameRegistered=function(e){return g(this,void 0,void 0,function(){var t;return _(this,function(n){switch(n.label){case 0:return"string"!=typeof e&&A(S.INVALID_PARAMS,"username must be a string"),[4,this._request.send("auth.isUsernameRegistered",{username:e})];case 1:return[2,null==(t=n.sent().data)?void 0:t.isRegistered]}})})},e.prototype.signInWithEmailAndPassword=function(e,t){return g(this,void 0,void 0,function(){return _(this,function(n){return[2,this.emailAuthProvider().signIn(e,t)]})})},e.prototype.signUpWithEmailAndPassword=function(e,t){return g(this,void 0,void 0,function(){return _(this,function(n){return[2,this.emailAuthProvider().signUp(e,t)]})})},e.prototype.sendPasswordResetEmail=function(e){return g(this,void 0,void 0,function(){return _(this,function(t){return[2,this.emailAuthProvider().resetPassword(e)]})})},e.prototype.signOut=function(){return g(this,void 0,void 0,function(){var e,t,n,r,o,i,s;return _(this,function(a){switch(a.label){case 0:return e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=e.accessTokenExpireKey,o="auth.logout",[4,this._cache.getStoreAsync(t)];case 1:return(i=a.sent())?[4,this._request.send(o,{refresh_token:i})]:[2];case 2:return s=a.sent(),this._cache.removeStoreAsync(t),this._cache.removeStoreAsync(n),this._cache.removeStoreAsync(r),T.fire(L.LOGIN_STATE_CHANGED),T.fire(L.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:c.LOGINTYPE.NULL,persistence:this._config.persistence}),[2,s]}})})},e.prototype.onLoginStateChanged=function(e){return g(this,void 0,void 0,function(){var t,n=this;return _(this,function(r){switch(r.label){case 0:return T.on(L.LOGIN_STATE_CHANGED,function(){return g(n,void 0,void 0,function(){var t;return _(this,function(n){switch(n.label){case 0:return[4,this.getLoginState()];case 1:return t=n.sent(),e.call(this,t),[2]}})})}),[4,this.getLoginState()];case 1:return t=r.sent(),e.call(this,t),[2]}})})},e.prototype.onLoginStateExpired=function(e){T.on(L.LOGIN_STATE_EXPIRED,e.bind(this))},e.prototype.onAccessTokenRefreshed=function(e){T.on(L.ACCESS_TOKEN_REFRESHD,e.bind(this))},e.prototype.onAnonymousConverted=function(e){T.on(L.ANONYMOUS_CONVERTED,e.bind(this))},e.prototype.onLoginTypeChanged=function(e){var t=this;T.on(L.LOGIN_TYPE_CHANGED,function(){return g(t,void 0,void 0,function(){var t;return _(this,function(n){switch(n.label){case 0:return[4,this.getLoginState()];case 1:return t=n.sent(),e.call(this,t),[2]}})})})},e.prototype.hasLoginState=function(){if("async"!==this._cache.mode){var e=this._cache.keys.refreshTokenKey;if(this._cache.getStore(e)){var t=new B({envId:this._config.env,cache:this._cache,request:this._request});return t.checkLocalState(),t}return null}O(S.INVALID_OPERATION,"current platform's storage is asynchronous, please use getLoginState insteed")},e.prototype.getLoginState=function(){return g(this,void 0,void 0,function(){var e,t;return _(this,function(n){switch(n.label){case 0:return e=this._cache.keys.refreshTokenKey,[4,this._cache.getStoreAsync(e)];case 1:return n.sent()?[4,(t=new B({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()]:[3,3];case 2:return n.sent(),[2,t];case 3:return[2,null]}})})},e.prototype.shouldRefreshAccessToken=function(e){this._request._shouldRefreshAccessTokenHook=e.bind(this)},e.prototype.getUserInfo=function(){return g(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return[4,this._request.send("auth.getUserInfo",{})];case 1:return(e=t.sent()).code?[2,e]:[2,h(h({},e.data),{requestId:e.seqId})]}})})},e.prototype.getAuthHeader=function(){var e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=this._cache.getStore(t);return{"x-cloudbase-credentials":this._cache.getStore(n)+"/@@/"+r}},e.prototype.getAuthHeaderAsync=function(){return g(this,void 0,void 0,function(){var e,t,n,r;return _(this,function(o){switch(o.label){case 0:return[4,this._request.refreshAccessToken()];case 1:return o.sent(),e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,[4,this._cache.getStoreAsync(t)];case 2:return r=o.sent(),[4,this._cache.getStoreAsync(n)];case 3:return[2,{"x-cloudbase-credentials":o.sent()+"/@@/"+r}]}})})},e.prototype.sendPhoneCode=function(e){return g(this,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return[4,this._request.send("auth.sendPhoneCode",{phoneNumber:w(e)})];case 1:return[2,"Ok"===t.sent().data.SendStatus]}})})},e.prototype.signUpWithPhoneCode=function(e,t,n){return g(this,void 0,void 0,function(){return _(this,function(r){return[2,this.phoneAuthProvider().signUp(e,t,n)]})})},e.prototype.signInWithPhoneCodeOrPassword=function(e){return g(this,void 0,void 0,function(){return _(this,function(t){return[2,this.phoneAuthProvider().signIn(e)]})})},e.prototype.forceResetPwdByPhoneCode=function(e){return g(this,void 0,void 0,function(){return _(this,function(t){return[2,this.phoneAuthProvider().signIn(h(h({},e),{signMethod:d.SIGN_METHOD.FORCERESETPWD}))]})})},e.prototype._onLoginTypeChanged=function(e){return g(this,void 0,void 0,function(){var t,n,r;return _(this,function(o){switch(o.label){case 0:return t=e.data,n=t.loginType,r=t.persistence,t.env!==this._config.env?[2]:[4,this._cache.updatePersistenceAsync(r)];case 1:return o.sent(),[4,this._cache.setStoreAsync(this._cache.keys.loginTypeKey,n)];case 2:return o.sent(),[2]}})})},y([N({title:"获取用户信息失败",messages:["请确认以下各项：","  1 - 调用 auth().getCurrenUser() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+E]}),v("design:type",Function),v("design:paramtypes",[]),v("design:returntype",Promise)],e.prototype,"getCurrenUser",null),y([N({title:"获取用户是否被占用失败",messages:["请确认以下各项：","  1 - 调用 auth().isUsernameRegistered() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+E]}),v("design:type",Function),v("design:paramtypes",[String]),v("design:returntype",Promise)],e.prototype,"isUsernameRegistered",null),y([N({title:"用户登出失败",messages:["请确认以下各项：","  1 - 调用 auth().signOut() 的语法或参数是否正确","  2 - 当前用户是否为匿名登录（匿名登录不支持signOut）","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+E]}),v("design:type",Function),v("design:paramtypes",[]),v("design:returntype",Promise)],e.prototype,"signOut",null),y([N({title:"获取本地登录态失败",messages:["请确认以下各项：","  1 - 调用 auth().getLoginState() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+E]}),v("design:type",Function),v("design:paramtypes",[]),v("design:returntype",Promise)],e.prototype,"getLoginState",null),y([N({title:"获取用户信息失败",messages:["请确认以下各项：","  1 - 是否已登录","  2 - 调用 auth().getUserInfo() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+E]}),v("design:type",Function),v("design:paramtypes",[]),v("design:returntype",Promise)],e.prototype,"getUserInfo",null),y([N({title:"发送短信验证码失败",messages:["请确认以下各项：","  1 - 调用语法或参数是否正确","  2 - 当前环境是否开通了短信验证码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+E]}),v("design:type",Function),v("design:paramtypes",[String]),v("design:returntype",Promise)],e.prototype,"sendPhoneCode",null),e}();t.Auth=P;var L={LOGIN_STATE_CHANGED:"loginStateChanged",LOGIN_STATE_EXPIRED:"loginStateExpire",LOGIN_TYPE_CHANGED:"loginTypeChanged",ANONYMOUS_CONVERTED:"anonymousConverted",ACCESS_TOKEN_REFRESHD:"refreshAccessToken"};t.EVENTS=L;var D={name:"auth",namespace:"auth",injectEvents:{bus:T,events:[L.LOGIN_TYPE_CHANGED,L.LOGIN_STATE_EXPIRED,L.LOGIN_STATE_CHANGED,L.ACCESS_TOKEN_REFRESHD,L.ANONYMOUS_CONVERTED]},entity:function(e){if(void 0===e&&(e={region:"",persistence:"local"}),this.authInstance)return O(S.INVALID_OPERATION,"every cloudbase instance should has only one auth object"),this.authInstance;var t=this.platform,n=t.adapter,r=t.runtime,o=e.persistence||n.primaryStorage;o&&o!==this.config.persistence&&this.updateConfig({persistence:o});var i=this.config,s=i.env,a=i.persistence,u=i.debug;return this.authInstance=new P({env:s,region:e.region,persistence:a,debug:u,cache:this.cache,request:this.request,runtime:r}),this.authInstance}};try{cloudbase.registerComponent(D)}catch(e){}},1424:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousAuthProvider=void 0;var o,i=r(n(3988)),s=n(2251),a=n(1895),u=n(627),c=n(2198),f=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,i.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},p=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,i.default)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},h=function(e,t){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,o,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},y=a.constants.ERRORS,v=a.constants.COMMUNITY_SITE_URL,g=a.utils.throwError,_=a.utils.isString,m=a.events.addEventListener,b=a.helpers.catchErrorsDecorator,O=function(e){function t(t){var n=e.call(this,t)||this;return n._onConverted=n._onConverted.bind(n),m(c.EVENTS.ANONYMOUS_CONVERTED,n._onConverted),n}return f(t,e),t.prototype.signIn=function(){return d(this,void 0,void 0,function(){var e,t,n,r,o,i,s;return h(this,function(a){switch(a.label){case 0:return[4,this._cache.updatePersistenceAsync("local")];case 1:return a.sent(),e=this._cache.keys,t=e.anonymousUuidKey,n=e.refreshTokenKey,[4,this._cache.getStoreAsync(t)];case 2:return r=a.sent(),[4,this._cache.getStoreAsync(n)];case 3:return o=a.sent(),[4,this._request.send("auth.signInAnonymously",{anonymous_uuid:r,refresh_token:o})];case 4:return(i=a.sent()).uuid&&i.refresh_token?[4,this._setAnonymousUUID(i.uuid)]:[3,10];case 5:return a.sent(),[4,this.setRefreshToken(i.refresh_token)];case 6:return a.sent(),[4,this._request.refreshAccessToken()];case 7:return a.sent(),c.eventBus.fire(c.EVENTS.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:u.LOGINTYPE.ANONYMOUS,persistence:"local"}),c.eventBus.fire(c.EVENTS.LOGIN_STATE_CHANGED),[4,(s=new c.LoginState({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()];case 8:return a.sent(),[4,s.user.refresh()];case 9:return a.sent(),[2,s];case 10:throw new Error(JSON.stringify({code:y.OPERATION_FAIL,msg:JSON.stringify(i)||"anonymous signIn failed"}))}})})},t.prototype.linkAndRetrieveDataWithTicket=function(e){return d(this,void 0,void 0,function(){var t,n,r,o,i,s,a;return h(this,function(f){switch(f.label){case 0:return _(e)||g(y.INVALID_PARAMS,"ticket must be a string"),t=this._cache.keys,n=t.anonymousUuidKey,r=t.refreshTokenKey,[4,this._cache.getStoreAsync(n)];case 1:return o=f.sent(),[4,this._cache.getStoreAsync(r)];case 2:return i=f.sent(),[4,this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:o,refresh_token:i,ticket:e})];case 3:return(s=f.sent()).refresh_token?[4,this._clearAnonymousUUID()]:[3,8];case 4:return f.sent(),[4,this.setRefreshToken(s.refresh_token)];case 5:return f.sent(),[4,this._request.refreshAccessToken()];case 6:return f.sent(),c.eventBus.fire(c.EVENTS.ANONYMOUS_CONVERTED,{env:this._config.env}),c.eventBus.fire(c.EVENTS.LOGIN_TYPE_CHANGED,{loginType:u.LOGINTYPE.CUSTOM,persistence:"local"}),[4,(a=new c.LoginState({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()];case 7:return f.sent(),[2,a];case 8:g(y.OPERATION_FAIL,JSON.stringify(s)||"linkAndRetrieveDataWithTicket failed"),f.label=9;case 9:return[2]}})})},t.prototype._setAnonymousUUID=function(e){return d(this,void 0,void 0,function(){var t,n,r;return h(this,function(o){switch(o.label){case 0:return t=this._cache.keys,n=t.anonymousUuidKey,r=t.loginTypeKey,[4,this._cache.removeStoreAsync(n)];case 1:return o.sent(),[4,this._cache.setStoreAsync(n,e)];case 2:return o.sent(),[4,this._cache.setStoreAsync(r,u.LOGINTYPE.ANONYMOUS)];case 3:return o.sent(),[2]}})})},t.prototype._clearAnonymousUUID=function(){return d(this,void 0,void 0,function(){return h(this,function(e){switch(e.label){case 0:return[4,this._cache.removeStoreAsync(this._cache.keys.anonymousUuidKey)];case 1:return e.sent(),[2]}})})},t.prototype._onConverted=function(e){return d(this,void 0,void 0,function(){return h(this,function(t){switch(t.label){case 0:return e.data.env!==this._config.env?[2]:[4,this._cache.updatePersistenceAsync(this._config.persistence)];case 1:return t.sent(),[2]}})})},l([b({title:"匿名登录失败",messages:["请确认以下各项：","  1 - 当前环境是否开启了匿名登录","  2 - 调用 auth().anonymouseProvider().signIn() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+v]}),p("design:type",Function),p("design:paramtypes",[]),p("design:returntype",Promise)],t.prototype,"signIn",null),t}(s.AuthProvider);t.AnonymousAuthProvider=O},2251:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthProvider=void 0;var r=n(2198),o=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=function(e,t){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,o,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},s=function(){function e(e){this._config=e,this._cache=e.cache,this._request=e.request}return e.prototype.checkLocalLoginState=function(){return o(this,void 0,void 0,function(){var e,t,n,o,s,a;return i(this,function(i){switch(i.label){case 0:return e=this._cache.keys,t=e.accessTokenKey,n=e.accessTokenExpireKey,[4,this._cache.getStoreAsync(t)];case 1:return o=i.sent(),[4,this._cache.getStoreAsync(n)];case 2:return s=i.sent(),o?s&&s>Date.now()?[4,(a=new r.LoginState({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()]:[3,4]:[3,7];case 3:return i.sent(),[2,a];case 4:return[4,this._cache.removeStoreAsync(t)];case 5:return i.sent(),[4,this._cache.removeStoreAsync(n)];case 6:i.sent(),i.label=7;case 7:return[2]}})})},e.prototype.setRefreshToken=function(e){return o(this,void 0,void 0,function(){var t,n,r,o;return i(this,function(i){switch(i.label){case 0:return t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,o=t.refreshTokenKey,[4,this._cache.removeStoreAsync(n)];case 1:return i.sent(),[4,this._cache.removeStoreAsync(r)];case 2:return i.sent(),[4,this._cache.setStoreAsync(o,e)];case 3:return i.sent(),[2]}})})},e.prototype.setAccessToken=function(e,t){return o(this,void 0,void 0,function(){var n,r,o;return i(this,function(i){switch(i.label){case 0:return n=this._cache.keys,r=n.accessTokenKey,o=n.accessTokenExpireKey,[4,this._cache.setStoreAsync(r,e)];case 1:return i.sent(),[4,this._cache.setStoreAsync(o,t)];case 2:return i.sent(),[2]}})})},e.prototype.refreshUserInfo=function(){return o(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,this._request.send("auth.getUserInfo",{})];case 1:return e=t.sent().data,[4,this.setLocalUserInfo(e)];case 2:return t.sent(),[2,e]}})})},e.prototype.setLocalUserInfo=function(e){return o(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return t=this._cache.keys.userInfoKey,[4,this._cache.setStoreAsync(t,e)];case 1:return n.sent(),[2]}})})},e}();t.AuthProvider=s},8432:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.CustomAuthProvider=void 0;var o,i=r(n(3988)),s=n(1895),a=n(2251),u=n(627),c=n(2198),f=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,i.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},p=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,i.default)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},h=function(e,t){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,o,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},y=s.constants.ERRORS,v=s.constants.COMMUNITY_SITE_URL,g=s.utils.isString,_=s.helpers.catchErrorsDecorator,m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.signIn=function(e){return d(this,void 0,void 0,function(){var t,n,r,o,i,s,a;return h(this,function(f){switch(f.label){case 0:if(!g(e))throw new Error(JSON.stringify({
code:y.INVALID_PARAMS,msg:"ticket must be a string"}));return t=this._cache.keys.refreshTokenKey,o=(r=this._request).send,i=["auth.signInWithTicket"],s={ticket:e},[4,this._cache.getStoreAsync(t)];case 1:return[4,o.apply(r,i.concat([(s.refresh_token=f.sent()||"",s)]))];case 2:return(n=f.sent()).refresh_token?[4,this.setRefreshToken(n.refresh_token)]:[3,7];case 3:return f.sent(),[4,this._request.refreshAccessToken()];case 4:return f.sent(),c.eventBus.fire(c.EVENTS.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:u.LOGINTYPE.CUSTOM,persistence:this._config.persistence}),c.eventBus.fire(c.EVENTS.LOGIN_STATE_CHANGED),[4,this.refreshUserInfo()];case 5:return f.sent(),[4,(a=new c.LoginState({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()];case 6:return f.sent(),[2,a];case 7:throw new Error(JSON.stringify({code:y.OPERATION_FAIL,msg:"custom signIn failed"}))}})})},l([_({title:"自定义登录失败",messages:["请确认以下各项：","  1 - 当前环境是否开启了自定义登录","  2 - 调用 auth().customAuthProvider().signIn() 的语法或参数是否正确","  3 - ticket 是否归属于当前环境","  4 - 创建 ticket 的自定义登录私钥是否过期","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+v]}),p("design:type",Function),p("design:paramtypes",[String]),p("design:returntype",Promise)],t.prototype,"signIn",null),t}(a.AuthProvider);t.CustomAuthProvider=m},2360:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.EmailAuthProvider=void 0;var o,i=r(n(3988)),s=n(1895),a=n(2251),u=n(627),c=n(2198),f=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,i.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},p=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,i.default)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},h=function(e,t){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,o,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},y=s.utils.throwError,v=s.utils.isString,g=s.constants.ERRORS,_=s.constants.COMMUNITY_SITE_URL,m=s.helpers.catchErrorsDecorator,b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.signIn=function(e,t){return d(this,void 0,void 0,function(){var n,r,o,i,s;return h(this,function(a){switch(a.label){case 0:return v(e)||y(g.INVALID_PARAMS,"email must be a string"),n=this._cache.keys.refreshTokenKey,[4,this._request.send("auth.signIn",{loginType:"EMAIL",email:e,password:t,refresh_token:this._cache.getStore(n)||""})];case 1:return r=a.sent(),o=r.refresh_token,i=r.access_token,s=r.access_token_expire,o?[4,this.setRefreshToken(o)]:[3,8];case 2:return a.sent(),i&&s?[4,this.setAccessToken(i,s)]:[3,4];case 3:return a.sent(),[3,6];case 4:return[4,this._request.refreshAccessToken()];case 5:a.sent(),a.label=6;case 6:return[4,this.refreshUserInfo()];case 7:return a.sent(),c.eventBus.fire(c.EVENTS.LOGIN_STATE_CHANGED),c.eventBus.fire(c.EVENTS.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:u.LOGINTYPE.EMAIL,persistence:this._config.persistence}),[2,new c.LoginState({envId:this._config.env,cache:this._cache,request:this._request})];case 8:r.code?y(g.OPERATION_FAIL,"Email login fail["+r.code+"] "+r.message):y(g.OPERATION_FAIL,"Email login fail"),a.label=9;case 9:return[2]}})})},t.prototype.signUp=function(e,t){return d(this,void 0,void 0,function(){return h(this,function(n){return[2,this._request.send("auth.signUpWithEmailAndPassword",{email:e,password:t})]})})},t.prototype.resetPassword=function(e){return d(this,void 0,void 0,function(){return h(this,function(t){return[2,this._request.send("auth.sendPasswordResetEmail",{email:e})]})})},t.prototype.resetPasswordWithToken=function(e,t){return d(this,void 0,void 0,function(){return h(this,function(n){return[2,this._request.send("auth.resetPasswordWithToken",{token:e,newPassword:t})]})})},t.prototype.activate=function(e){return d(this,void 0,void 0,function(){return h(this,function(t){return[2,this._request.send("auth.activateEndUserMail",{token:e})]})})},l([m({title:"邮箱密码登录失败",messages:["请确认以下各项：","  1 - 调用 auth().emailAuthProvider() 的语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","  3 - 邮箱地址与密码是否匹配","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+_]}),p("design:type",Function),p("design:paramtypes",[String,String]),p("design:returntype",Promise)],t.prototype,"signIn",null),l([m({title:"邮箱注册失败",messages:["请确认以下各项：","  1 - 调用 auth().signUpWithEmailAndPassword() 的语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","  3 - 此邮箱地址是否已经被其他用户占用","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+_]}),p("design:type",Function),p("design:paramtypes",[String,String]),p("design:returntype",Promise)],t.prototype,"signUp",null),l([m({title:"重置密码失败",messages:["请确认以下各项：","  1 - 调用 auth().sendPasswordResetEmail() 的语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","  3 - 此邮箱地址是否已经与当前用户绑定","  4 - 此邮箱地址是否已经被其他用户占用","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+_]}),p("design:type",Function),p("design:paramtypes",[String]),p("design:returntype",Promise)],t.prototype,"resetPassword",null),l([m({title:"重置密码失败",messages:["请确认以下各项：","  1 - 调用语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+_]}),p("design:type",Function),p("design:paramtypes",[String,String]),p("design:returntype",Promise)],t.prototype,"resetPasswordWithToken",null),l([m({title:"邮箱激活失败",messages:["请确认以下各项：","  1 - 调用语法或参数是否正确","  2 - 当前环境是否开通了邮箱登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+_]}),p("design:type",Function),p("design:paramtypes",[String]),p("design:returntype",Promise)],t.prototype,"activate",null),t}(a.AuthProvider);t.EmailAuthProvider=b},4718:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.PhoneAuthProvider=t.SIGN_METHOD=void 0;var o,i=r(n(3988)),s=n(1895),a=n(2251),u=n(627),c=n(2198),f=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,i.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},p=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,i.default)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},h=function(e,t){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,o,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},y=s.utils.throwError,v=s.utils.isString,g=s.utils.transformPhone,_=s.constants.ERRORS,m=s.constants.COMMUNITY_SITE_URL,b=s.helpers.catchErrorsDecorator,O={SIGNIN:"SIGNIN",SIGNUP:"SIGNUP",FORCERESETPWD:"FORCERESETPWD"};t.SIGN_METHOD=O;var A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.signIn=function(e){return d(this,void 0,void 0,function(){var t,n,r,o,i,s,a,f,l;return h(this,function(p){switch(p.label){case 0:return t=e.phoneNumber,n=e.phoneCode,r=e.password,o=e.signMethod,v(t)||y(_.INVALID_PARAMS,"phoneNumber must be a string"),v(n)||v(r)||y(_.INVALID_PARAMS,"phoneCode or password must be a string"),o||(o=O.SIGNIN),i=this._cache.keys.refreshTokenKey,[4,this._request.send("auth.signIn",{loginType:u.LOGINTYPE.PHONE,phoneNumber:g(t),phoneCode:n,password:r,refresh_token:this._cache.getStore(i)||"",signMethod:o})];case 1:return s=p.sent(),a=s.refresh_token,f=s.access_token,l=s.access_token_expire,a?[4,this.setRefreshToken(a)]:[3,8];case 2:return p.sent(),f&&l?[4,this.setAccessToken(f,l)]:[3,4];case 3:return p.sent(),[3,6];case 4:return[4,this._request.refreshAccessToken()];case 5:p.sent(),p.label=6;case 6:return[4,this.refreshUserInfo()];case 7:return p.sent(),c.eventBus.fire(c.EVENTS.LOGIN_STATE_CHANGED),c.eventBus.fire(c.EVENTS.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:u.LOGINTYPE.PHONE,persistence:this._config.persistence}),[2,new c.LoginState({envId:this._config.env,cache:this._cache,request:this._request})];case 8:s.code?y(_.OPERATION_FAIL,"Phone login fail["+s.code+"] "+s.message):y(_.OPERATION_FAIL,"Phone login fail"),p.label=9;case 9:return[2]}})})},t.prototype.signUp=function(e,t,n){return d(this,void 0,void 0,function(){return h(this,function(r){return[2,this.signIn({phoneNumber:e,phoneCode:t,password:n,signMethod:O.SIGNUP})]})})},t.prototype.forceResetPwd=function(e,t,n){return d(this,void 0,void 0,function(){return h(this,function(r){return[2,this.signIn({phoneNumber:e,phoneCode:t,password:n,signMethod:O.FORCERESETPWD})]})})},l([b({title:"手机号登录失败",messages:["请确认以下各项：","  1 - 调用 auth().SmsAuthProvider() 的语法或参数是否正确","  2 - 当前环境是否开通了短信验证码登录","  3 - 短信验证码/密码是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+m]}),p("design:type",Function),p("design:paramtypes",[Object]),p("design:returntype",Promise)],t.prototype,"signIn",null),l([b({title:"手机短信注册失败",messages:["请确认以下各项：","  1 - 调用 auth().signUpWithPhoneCode() 的语法或参数是否正确","  2 - 当前环境是否开通了短信验证码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+m]}),p("design:type",Function),p("design:paramtypes",[String,String,String]),p("design:returntype",Promise)],t.prototype,"signUp",null),l([b({title:"手机密码重置失败",messages:["请确认以下各项：","  1 - 调用 auth().forceResetPwd() 的语法或参数是否正确","  2 - 当前环境是否开通了短信验证码登录","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+m]}),p("design:type",Function),p("design:paramtypes",[String,String,String]),p("design:returntype",Promise)],t.prototype,"forceResetPwd",null),t}(a.AuthProvider);t.PhoneAuthProvider=A},5518:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.UsernameAuthProvider=void 0;var o,i=r(n(3988)),s=n(2251),a=n(2198),u=n(627),c=n(1895),f=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,i.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(s<3?o(a):s>3?o(t,n,a):o(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a},p=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,i.default)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},h=function(e,t){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,o,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},y=c.utils.printWarn,v=c.constants.ERRORS,g=c.constants.COMMUNITY_SITE_URL,_=c.helpers.catchErrorsDecorator,m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.signIn=function(e,t){return d(this,void 0,void 0,function(){var n,r,o,i,s,c,f,l,p;return h(this,function(d){switch(d.label){case 0:if("string"!=typeof e)throw new Error(JSON.stringify({code:v.INVALID_PARAMS,msg:"username must be a string"}));return"string"!=typeof t&&(t="",y(v.INVALID_PARAMS,"password is empty")),n=this._cache.keys.refreshTokenKey,i=(o=this._request).send,s=["auth.signIn"],c={loginType:u.LOGINTYPE.USERNAME,username:e,password:t},[4,this._cache.getStoreAsync(n)];case 1:return[4,i.apply(o,s.concat([(c.refresh_token=d.sent()||"",c)]))];case 2:return r=d.sent(),f=r.refresh_token,l=r.access_token_expire,p=r.access_token,f?[4,this.setRefreshToken(f)]:[3,9];case 3:return d.sent(),p&&l?[4,this.setAccessToken(p,l)]:[3,5];case 4:return d.sent(),[3,7];case 5:return[4,this._request.refreshAccessToken()];case 6:d.sent(),d.label=7;case 7:return[4,this.refreshUserInfo()];case 8:return d.sent(),a.eventBus.fire(a.EVENTS.LOGIN_STATE_CHANGED),a.eventBus.fire(a.EVENTS.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:u.LOGINTYPE.USERNAME,persistence:this._config.persistence}),[2,new a.LoginState({envId:this._config.env,cache:this._cache,request:this._request})];case 9:throw r.code?new Error(JSON.stringify({code:v.OPERATION_FAIL,msg:"login by username failed:["+r.code+"] "+r.message})):new Error(JSON.stringify({code:v.OPERATION_FAIL,msg:"login by username failed"}));case 10:return[2]}})})},l([_({title:"用户名密码登录失败",messages:["请确认以下各项：","  1 - 调用 auth().signInWithUsernameAndPassword() 的语法或参数是否正确","  2 - 当前环境是否开通了用户名密码登录","  3 - 用户名密码是否匹配","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+g]}),p("design:type",Function),p("design:paramtypes",[String,String]),p("design:returntype",Promise)],t.prototype,"signIn",null),t}(s.AuthProvider);t.UsernameAuthProvider=m},9368:function(e,t,n){"use strict";function r(){return b("code")||O("code")}var o=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.WeixinAuthProvider=void 0;var i,s=o(n(3988)),a=n(2251),u=n(1895),c=n(2198),f=n(627),l=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":(0,s.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":(0,s.default)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},y=function(e,t){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,o,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},v=u.constants.getSdkName,g=u.constants.ERRORS,_=u.constants.COMMUNITY_SITE_URL,m=u.adapters.RUNTIME,b=u.utils.getQuery,O=u.utils.getHash,A=u.utils.removeParam,w=u.utils.printWarn,S=u.helpers.catchErrorsDecorator,E=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i._runtime=t.runtime,i._appid=n,i._scope=r,i._state=o||"weixin",i}return l(t,e),t.prototype.signIn=function(){return h(this,void 0,void 0,function(){return y(this,function(e){return[2,w(g.OPERATION_FAIL,"API signIn has been deprecated, please use signInWithRedirect insteed")]})})},t.prototype.signInWithRedirect=function(){return h(this,void 0,void 0,function(){return y(this,function(e){return[2,this._redirect()]})})},t.prototype.getRedirectResult=function(e){return h(this,void 0,void 0,function(){var t;return y(this,function(n){return(t=r())?[2,this._signInWithCode(t,e)]:[2,null]})})},t.prototype.getLinkRedirectResult=function(e){return void 0===e&&(e={}),h(this,void 0,void 0,function(){var t,n,o,i,s,a;return y(this,function(u){return t=e.withUnionId,n=void 0!==t&&t,(o=r())?(i=this._appid,s=function(e){switch(e){case"snsapi_login":return"WECHAT-OPEN";default:return"WECHAT-PUBLIC"}}(this._scope),a=this._runtime===m.WX_MP?"1":"0",[2,this._request.send("auth.linkWithWeixinCode",{payload:{appid:i,loginType:s,code:o,hybridMiniapp:a,withUnionId:n}})]):[2,null]})})},t.prototype._redirect=function(){var e=A("code",location.href);e=A("state",e),e=encodeURIComponent(e);var t="//open.weixin.qq.com/connect/oauth2/authorize";"snsapi_login"===this._scope&&(t="//open.weixin.qq.com/connect/qrconnect");try{location.href=t+"?appid="+this._appid+"&redirect_uri="+e+"&response_type=code&scope="+this._scope+"&state="+this._state+"#wechat_redirect"}catch(e){throw new Error("["+v()+"]["+g.UNKOWN_ERROR+"]"+e)}},t.prototype._signInWithCode=function(e,t){return h(this,void 0,void 0,function(){var n,r,o,i,s,a,u,l;return y(this,function(p){switch(p.label){case 0:return n=this._cache.keys,r=n.accessTokenKey,o=n.accessTokenExpireKey,i=n.refreshTokenKey,s=function(e){switch(e){case"snsapi_login":return"WECHAT-OPEN";default:return"WECHAT-PUBLIC"}}(this._scope),[4,this._getRefreshTokenByWXCode(this._appid,s,e,t)];case 1:return a=p.sent(),u=a.refreshToken,[4,this._cache.setStoreAsync(i,u)];case 2:return p.sent(),a.accessToken?[4,this._cache.setStoreAsync(r,a.accessToken)]:[3,4];case 3:p.sent(),p.label=4;case 4:return a.accessTokenExpire?[4,this._cache.setStoreAsync(o,String(a.accessTokenExpire+Date.now()))]:[3,6];case 5:p.sent(),p.label=6;case 6:return c.eventBus.fire(c.EVENTS.LOGIN_STATE_CHANGED),c.eventBus.fire(c.EVENTS.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:f.LOGINTYPE.WECHAT,persistence:this._config.persistence}),[4,this.refreshUserInfo()];case 7:return p.sent(),[4,(l=new c.LoginState({envId:this._config.env,cache:this._cache,request:this._request})).checkLocalStateAsync()];case 8:return p.sent(),[2,l]}})})},t.prototype._getRefreshTokenByWXCode=function(e,t,n,r){return void 0===r&&(r={}),h(this,void 0,void 0,function(){var o,i,s,a,u,c;return y(this,function(f){return o=r.withUnionId,i=void 0!==o&&o,s=r.createUser,a=void 0===s||s,u="snsapi_base"!==this._scope&&(r.syncUserInfo||!1),c=this._runtime===m.WX_MP?"1":"0",[2,this._request.send("auth.signIn",{appid:e,loginType:t,hybridMiniapp:c,syncUserInfo:u,loginCredential:n,withUnionId:i,createUser:a}).then(function(e){if(e.code)throw new Error("["+v()+"]["+g.OPERATION_FAIL+"] failed login via wechat: "+e.code);if(e.refresh_token)return{refreshToken:e.refresh_token,accessToken:e.access_token,accessTokenExpire:e.access_token_expire};throw new Error("["+v()+"]["+g.OPERATION_FAIL+"] action:getJwt not return refreshToken")})]})})},p([S({title:"跳转微信公众号授权失败",messages:["请确认以下各项：","  1 - 调用 auth().weixinAuthProvider().signInWithRedirect() 的语法或参数是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+_]}),d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",Promise)],t.prototype,"signInWithRedirect",null),p([S({title:"微信公众号登录失败",messages:["请确认以下各项：","  1 - 调用 auth().weixinAuthProvider().getRedirectResult() 的语法或参数是否正确","  2 - 当前环境是否开通了微信公众号登录授权","  3 - 微信公众号的 AppId 与 AppSecret 配置是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+_]}),d("design:type",Function),d("design:paramtypes",[Object]),d("design:returntype",Promise)],t.prototype,"getRedirectResult",null),p([S({title:"获取微信重定向绑定结果",messages:["请确认以下各项：","  1 - 调用 auth().weixinAuthProvider().getLinkRedirectResult() 的语法或参数是否正确","  2 - 当前环境是否开通了微信公众号登录授权","  3 - 微信公众号的 AppId 与 AppSecret 配置是否正确","如果问题依然存在，建议到官方问答社区提问或寻找帮助："+_]}),d("design:type",Function),d("design:paramtypes",[Object]),d("design:returntype",Promise)],t.prototype,"getLinkRedirectResult",null),t}(a.AuthProvider);t.WeixinAuthProvider=E},7362:function(e,t,n){"use strict";var r=n(2370),o=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(9304)),s=r(n(9215)).version;i.default.registerVersion(s);try{window.cloudbase=i.default}catch(e){}var a=i.default;t.default=a},1598:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerProvider=t.registerAuth=void 0;var r=n(2198),o=r.registerAuth;t.registerAuth=o;var i=r.registerProvider;t.registerProvider=i},8722:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerDatabase=function(e){try{e.registerComponent(i)}catch(e){console.warn(e)}};var r=n(5938),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i={name:"database",entity:{database:function(e){var t=this.platform,n=t.adapter,i=t.runtime;return r.Db.reqClass=this.request.constructor,r.Db.getAccessToken=this.authInstance?this.authInstance.getAccessToken.bind(this.authInstance):function(){return""},r.Db.runtime=i,this.wsClientClass&&(r.Db.wsClass=n.wsClass,r.Db.wsClientClass=this.wsClientClass),r.Db.ws||(r.Db.ws=null),new r.Db(o(o({},this.config),e))}}};try{cloudbase.registerComponent(i)}catch(e){}},5497:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(5938),o=n(7567),i=n(6532),s=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},a=function(e,t){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,o,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},u=function(){function e(e,t){this._stages=[],e&&t&&(this._db=e,this._request=new r.Db.reqClass(this._db.config),this._collectionName=t)}return e.prototype.end=function(){return s(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:if(!this._collectionName||!this._db)throw new Error("Aggregation pipeline cannot send request");return[4,this._request.send("database.aggregate",{collectionName:this._collectionName,stages:this._stages})];case 1:return(e=t.sent())&&e.data&&e.data.list?[2,{requestId:e.requestId,data:JSON.parse(e.data.list).map(o.EJSON.parse)}]:[2,e]}})})},e.prototype.unwrap=function(){return this._stages},e.prototype.done=function(){return this._stages.map(function(e){var t,n=e.stageKey,r=e.stageValue;return(t={})[n]=JSON.parse(r),t})},e.prototype._pipe=function(e,t){return this._stages.push({stageKey:"$"+e,stageValue:JSON.stringify(t)}),this},e.prototype.addFields=function(e){return this._pipe("addFields",e)},e.prototype.bucket=function(e){return this._pipe("bucket",e)},e.prototype.bucketAuto=function(e){return this._pipe("bucketAuto",e)},e.prototype.count=function(e){return this._pipe("count",e)},e.prototype.geoNear=function(e){return this._pipe("geoNear",e)},e.prototype.group=function(e){return this._pipe("group",e)},e.prototype.limit=function(e){return this._pipe("limit",e)},e.prototype.match=function(e){return this._pipe("match",i.QuerySerializer.encode(e))},e.prototype.project=function(e){return this._pipe("project",e)},e.prototype.lookup=function(e){return this._pipe("lookup",e)},e.prototype.replaceRoot=function(e){return this._pipe("replaceRoot",e)},e.prototype.sample=function(e){return this._pipe("sample",e)},e.prototype.skip=function(e){return this._pipe("skip",e)},e.prototype.sort=function(e){return this._pipe("sort",e)},e.prototype.sortByCount=function(e){return this._pipe("sortByCount",e)},e.prototype.unwind=function(e){return this._pipe("unwind",e)},e}();t.default=u},7505:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionReference=void 0;var o,i=n(6724),s=n(6582),a=r(n(5497)),u=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){function t(t,n){return e.call(this,t,n)||this}return u(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new Error("docId必须为字符串或数字");return new i.DocumentReference(this._db,this._coll,e)},t.prototype.add=function(e,t){return new i.DocumentReference(this._db,this._coll,void 0).create(e,t)},t.prototype.aggregate=function(){return new a.default(this._db,this._coll)},t}(s.Query);t.CollectionReference=c},8991:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Command=void 0;var o=n(8176),i=n(85),s=n(982),a=n(3703),u=r(n(5497)),c={eq:function(e){return new o.QueryCommand(o.QUERY_COMMANDS_LITERAL.EQ,[e])},neq:function(e){return new o.QueryCommand(o.QUERY_COMMANDS_LITERAL.NEQ,[e])},lt:function(e){return new o.QueryCommand(o.QUERY_COMMANDS_LITERAL.LT,[e])},lte:function(e){return new o.QueryCommand(o.QUERY_COMMANDS_LITERAL.LTE,[e])},gt:function(e){return new o.QueryCommand(o.QUERY_COMMANDS_LITERAL.GT,[e])},gte:function(e){return new o.QueryCommand(o.QUERY_COMMANDS_LITERAL.GTE,[e])},in:function(e){return new o.QueryCommand(o.QUERY_COMMANDS_LITERAL.IN,e)},nin:function(e){return new o.QueryCommand(o.QUERY_COMMANDS_LITERAL.NIN,e)},all:function(e){return new o.QueryCommand(o.QUERY_COMMANDS_LITERAL.ALL,e)},elemMatch:function(e){return new o.QueryCommand(o.QUERY_COMMANDS_LITERAL.ELEM_MATCH,[e])},exists:function(e){return new o.QueryCommand(o.QUERY_COMMANDS_LITERAL.EXISTS,[e])},size:function(e){return new o.QueryCommand(o.QUERY_COMMANDS_LITERAL.SIZE,[e])},mod:function(e){return new o.QueryCommand(o.QUERY_COMMANDS_LITERAL.MOD,[e])},geoNear:function(e){return new o.QueryCommand(o.QUERY_COMMANDS_LITERAL.GEO_NEAR,[e])},geoWithin:function(e){return new o.QueryCommand(o.QUERY_COMMANDS_LITERAL.GEO_WITHIN,[e])},geoIntersects:function(e){return new o.QueryCommand(o.QUERY_COMMANDS_LITERAL.GEO_INTERSECTS,[e])},and:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,a.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new i.LogicCommand(i.LOGIC_COMMANDS_LITERAL.AND,n)},nor:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,a.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new i.LogicCommand(i.LOGIC_COMMANDS_LITERAL.NOR,n)},or:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,a.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new i.LogicCommand(i.LOGIC_COMMANDS_LITERAL.OR,n)},not:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,
a.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new i.LogicCommand(i.LOGIC_COMMANDS_LITERAL.NOT,n)},set:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.SET,[e])},remove:function(){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.REMOVE,[])},inc:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.INC,[e])},mul:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.MUL,[e])},push:function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if((0,a.isObject)(t[0])&&t[0].hasOwnProperty("each")){var r=t[0];e={$each:r.each,$position:r.position,$sort:r.sort,$slice:r.slice}}else e=(0,a.isArray)(t[0])?t[0]:Array.from(t);return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.PUSH,e)},pull:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.PULL,e)},pullAll:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.PULL_ALL,e)},pop:function(){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.POP,[])},shift:function(){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.SHIFT,[])},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,a.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.UNSHIFT,n)},addToSet:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.ADD_TO_SET,e)},rename:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.RENAME,[e])},bit:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.BIT,[e])},max:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.MAX,[e])},min:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.MIN,[e])},expr:function(e){return{$expr:e}},jsonSchema:function(e){return{$jsonSchema:e}},text:function(e){return(0,a.isString)(e)?{$search:e.search}:{$search:e.search,$language:e.language,$caseSensitive:e.caseSensitive,$diacriticSensitive:e.diacriticSensitive}},aggregate:{pipeline:function(){return new u.default},abs:function(e){return new f("abs",e)},add:function(e){return new f("add",e)},ceil:function(e){return new f("ceil",e)},divide:function(e){return new f("divide",e)},exp:function(e){return new f("exp",e)},floor:function(e){return new f("floor",e)},ln:function(e){return new f("ln",e)},log:function(e){return new f("log",e)},log10:function(e){return new f("log10",e)},mod:function(e){return new f("mod",e)},multiply:function(e){return new f("multiply",e)},pow:function(e){return new f("pow",e)},sqrt:function(e){return new f("sqrt",e)},subtract:function(e){return new f("subtract",e)},trunc:function(e){return new f("trunc",e)},arrayElemAt:function(e){return new f("arrayElemAt",e)},arrayToObject:function(e){return new f("arrayToObject",e)},concatArrays:function(e){return new f("concatArrays",e)},filter:function(e){return new f("filter",e)},in:function(e){return new f("in",e)},indexOfArray:function(e){return new f("indexOfArray",e)},isArray:function(e){return new f("isArray",e)},map:function(e){return new f("map",e)},range:function(e){return new f("range",e)},reduce:function(e){return new f("reduce",e)},reverseArray:function(e){return new f("reverseArray",e)},size:function(e){return new f("size",e)},slice:function(e){return new f("slice",e)},zip:function(e){return new f("zip",e)},and:function(e){return new f("and",e)},not:function(e){return new f("not",e)},or:function(e){return new f("or",e)},cmp:function(e){return new f("cmp",e)},eq:function(e){return new f("eq",e)},gt:function(e){return new f("gt",e)},gte:function(e){return new f("gte",e)},lt:function(e){return new f("lt",e)},lte:function(e){return new f("lte",e)},neq:function(e){return new f("ne",e)},cond:function(e){return new f("cond",e)},ifNull:function(e){return new f("ifNull",e)},switch:function(e){return new f("switch",e)},dateFromParts:function(e){return new f("dateFromParts",e)},dateFromString:function(e){return new f("dateFromString",e)},dayOfMonth:function(e){return new f("dayOfMonth",e)},dayOfWeek:function(e){return new f("dayOfWeek",e)},dayOfYear:function(e){return new f("dayOfYear",e)},isoDayOfWeek:function(e){return new f("isoDayOfWeek",e)},isoWeek:function(e){return new f("isoWeek",e)},isoWeekYear:function(e){return new f("isoWeekYear",e)},millisecond:function(e){return new f("millisecond",e)},minute:function(e){return new f("minute",e)},month:function(e){return new f("month",e)},second:function(e){return new f("second",e)},hour:function(e){return new f("hour",e)},week:function(e){return new f("week",e)},year:function(e){return new f("year",e)},literal:function(e){return new f("literal",e)},mergeObjects:function(e){return new f("mergeObjects",e)},objectToArray:function(e){return new f("objectToArray",e)},allElementsTrue:function(e){return new f("allElementsTrue",e)},anyElementTrue:function(e){return new f("anyElementTrue",e)},setDifference:function(e){return new f("setDifference",e)},setEquals:function(e){return new f("setEquals",e)},setIntersection:function(e){return new f("setIntersection",e)},setIsSubset:function(e){return new f("setIsSubset",e)},setUnion:function(e){return new f("setUnion",e)},concat:function(e){return new f("concat",e)},dateToString:function(e){return new f("dateToString",e)},indexOfBytes:function(e){return new f("indexOfBytes",e)},indexOfCP:function(e){return new f("indexOfCP",e)},split:function(e){return new f("split",e)},strLenBytes:function(e){return new f("strLenBytes",e)},strLenCP:function(e){return new f("strLenCP",e)},strcasecmp:function(e){return new f("strcasecmp",e)},substr:function(e){return new f("substr",e)},substrBytes:function(e){return new f("substrBytes",e)},substrCP:function(e){return new f("substrCP",e)},toLower:function(e){return new f("toLower",e)},toUpper:function(e){return new f("toUpper",e)},meta:function(e){return new f("meta",e)},addToSet:function(e){return new f("addToSet",e)},avg:function(e){return new f("avg",e)},first:function(e){return new f("first",e)},last:function(e){return new f("last",e)},max:function(e){return new f("max",e)},min:function(e){return new f("min",e)},push:function(e){return new f("push",e)},stdDevPop:function(e){return new f("stdDevPop",e)},stdDevSamp:function(e){return new f("stdDevSamp",e)},sum:function(e){return new f("sum",e)},let:function(e){return new f("let",e)}},project:{slice:function(e){return new l("slice",e)},elemMatch:function(e){return new l("elemMatch",e)}}};t.Command=c;var f=function(e,t){this["$"+e]=t},l=function(e,t){this["$"+e]=t},p=c;t.default=p},85:function(e,t,n){"use strict";function r(e){return e&&e instanceof a&&e._internalType===i.SYMBOL_LOGIC_COMMAND}Object.defineProperty(t,"__esModule",{value:!0}),t.isLogicCommand=r,t.isKnownLogicCommand=function(e){return r&&e.operator.toUpperCase()in o},t.default=t.LogicCommand=t.LOGIC_COMMANDS_LITERAL=t.NOR=t.NOT=t.OR=t.AND=void 0;var o,i=n(2352),s=n(8176);t.AND="and",t.OR="or",t.NOT="not",t.NOR="nor",t.LOGIC_COMMANDS_LITERAL=o,function(e){e.AND="and",e.OR="or",e.NOT="not",e.NOR="nor"}(o||(t.LOGIC_COMMANDS_LITERAL=o={}));var a=function(){function e(e,t,n){if(this._internalType=i.SYMBOL_LOGIC_COMMAND,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=n||i.SYMBOL_UNSET_FIELD_NAME,this.fieldName!==i.SYMBOL_UNSET_FIELD_NAME)if(Array.isArray(t)){t=t.slice(),this.operands=t;for(var o=0,a=t.length;o<a;o++)(r(u=t[o])||(0,s.isQueryCommand)(u))&&(t[o]=u._setFieldName(this.fieldName))}else{var u;(r(u=t)||(0,s.isQueryCommand)(u))&&(t=u._setFieldName(this.fieldName))}}return e.prototype._setFieldName=function(t){var n=this.operands.map(function(n){return n instanceof e?n._setFieldName(t):n});return new e(this.operator,n,t)},e.prototype.and=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return r.unshift(this),new e(o.AND,r,this.fieldName)},e.prototype.or=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return r.unshift(this),new e(o.OR,r,this.fieldName)},e}();t.LogicCommand=a;var u=a;t.default=u},8176:function(e,t,n){"use strict";function r(e){return e&&e instanceof d&&e._internalType===c.SYMBOL_QUERY_COMMAND}var o=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.isQueryCommand=r,t.isKnownQueryCommand=function(e){return r(e)&&e.operator.toUpperCase()in s},t.isComparisonCommand=function(e){return r(e)},t.default=t.QueryCommand=t.QUERY_COMMANDS_LITERAL=t.MOD=t.SIZE=t.EXISTS=t.ELEM_MATCH=t.ALL=t.NIN=t.IN=t.LTE=t.LT=t.GTE=t.GT=t.NEQ=t.EQ=void 0;var i,s,a=o(n(3988)),u=n(85),c=n(2352),f=n(7685),l=n(3703),p=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.EQ="eq",t.NEQ="neq",t.GT="gt",t.GTE="gte",t.LT="lt",t.LTE="lte",t.IN="in",t.NIN="nin",t.ALL="all",t.ELEM_MATCH="elemMatch",t.EXISTS="exists",t.SIZE="size",t.MOD="mod",t.QUERY_COMMANDS_LITERAL=s,function(e){e.EQ="eq",e.NEQ="neq",e.GT="gt",e.GTE="gte",e.LT="lt",e.LTE="lte",e.IN="in",e.NIN="nin",e.ALL="all",e.ELEM_MATCH="elemMatch",e.EXISTS="exists",e.SIZE="size",e.MOD="mod",e.GEO_NEAR="geoNear",e.GEO_WITHIN="geoWithin",e.GEO_INTERSECTS="geoIntersects"}(s||(t.QUERY_COMMANDS_LITERAL=s={}));var d=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.operator=t,o._internalType=c.SYMBOL_QUERY_COMMAND,o}return p(t,e),t.prototype.toJSON=function(){var e,t;switch(this.operator){case s.IN:case s.NIN:return(e={})["$"+this.operator]=this.operands,e;default:return(t={})["$"+this.operator]=this.operands[0],t}},t.prototype._setFieldName=function(e){return new t(this.operator,this.operands,e)},t.prototype.eq=function(e){var n=new t(s.EQ,[e],this.fieldName);return this.and(n)},t.prototype.neq=function(e){var n=new t(s.NEQ,[e],this.fieldName);return this.and(n)},t.prototype.gt=function(e){var n=new t(s.GT,[e],this.fieldName);return this.and(n)},t.prototype.gte=function(e){var n=new t(s.GTE,[e],this.fieldName);return this.and(n)},t.prototype.lt=function(e){var n=new t(s.LT,[e],this.fieldName);return this.and(n)},t.prototype.lte=function(e){var n=new t(s.LTE,[e],this.fieldName);return this.and(n)},t.prototype.in=function(e){var n=new t(s.IN,e,this.fieldName);return this.and(n)},t.prototype.nin=function(e){var n=new t(s.NIN,e,this.fieldName);return this.and(n)},t.prototype.geoNear=function(e){if(!(e.geometry instanceof f.Point))throw new TypeError('"geometry" must be of type Point. Received type '+(0,a.default)(e.geometry));if(void 0!==e.maxDistance&&!(0,l.isNumber)(e.maxDistance))throw new TypeError('"maxDistance" must be of type Number. Received type '+(0,a.default)(e.maxDistance));if(void 0!==e.minDistance&&!(0,l.isNumber)(e.minDistance))throw new TypeError('"minDistance" must be of type Number. Received type '+(0,a.default)(e.minDistance));var n=new t(s.GEO_NEAR,[e],this.fieldName);return this.and(n)},t.prototype.geoWithin=function(e){if(!(e.geometry instanceof f.MultiPolygon||e.geometry instanceof f.Polygon))throw new TypeError('"geometry" must be of type Polygon or MultiPolygon. Received type '+(0,a.default)(e.geometry));var n=new t(s.GEO_WITHIN,[e],this.fieldName);return this.and(n)},t.prototype.geoIntersects=function(e){if(!(e.geometry instanceof f.Point||e.geometry instanceof f.LineString||e.geometry instanceof f.Polygon||e.geometry instanceof f.MultiPoint||e.geometry instanceof f.MultiLineString||e.geometry instanceof f.MultiPolygon))throw new TypeError('"geometry" must be of type Point, LineString, Polygon, MultiPoint, MultiLineString or MultiPolygon. Received type '+(0,a.default)(e.geometry));var n=new t(s.GEO_INTERSECTS,[e],this.fieldName);return this.and(n)},t}(u.LogicCommand);t.QueryCommand=d;var h=d;t.default=h},982:function(e,t,n){"use strict";function r(e){return e&&e instanceof s&&e._internalType===i.SYMBOL_UPDATE_COMMAND}Object.defineProperty(t,"__esModule",{value:!0}),t.isUpdateCommand=r,t.isKnownUpdateCommand=function(e){return r(e)&&e.operator.toUpperCase()in o},t.default=t.UpdateCommand=t.UPDATE_COMMANDS_LITERAL=void 0;var o,i=n(2352);t.UPDATE_COMMANDS_LITERAL=o,function(e){e.SET="set",e.REMOVE="remove",e.INC="inc",e.MUL="mul",e.PUSH="push",e.PULL="pull",e.PULL_ALL="pullAll",e.POP="pop",e.SHIFT="shift",e.UNSHIFT="unshift",e.ADD_TO_SET="addToSet",e.BIT="bit",e.RENAME="rename",e.MAX="max",e.MIN="min"}(o||(t.UPDATE_COMMANDS_LITERAL=o={}));var s=function(){function e(e,t,n){this._internalType=i.SYMBOL_UPDATE_COMMAND,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=n||i.SYMBOL_UNSET_FIELD_NAME}return e.prototype._setFieldName=function(t){return new e(this.operator,this.operands,t)},e}();t.UpdateCommand=s;var a=s;t.default=a},5029:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERRORS=void 0,t.ERRORS={CREATE_WATCH_NET_ERROR:{code:"CREATE_WATCH_NET_ERROR",message:"create watch network error"},CREATE_WACTH_EXCEED_ERROR:{code:"CREATE_WACTH_EXCEED_ERROR",message:"maximum connections exceed"},CREATE_WATCH_SERVER_ERROR:{code:"CREATE_WATCH_SERVER_ERROR",message:"create watch server error"},CONN_ERROR:{code:"CONN_ERROR",message:"connection error"},INVALID_PARAM:{code:"INVALID_PARAM",message:"Invalid request param"},INSERT_DOC_FAIL:{code:"INSERT_DOC_FAIL",message:"insert document failed"},DATABASE_TRANSACTION_CONFLICT:{code:"DATABASE_TRANSACTION_CONFLICT",message:"database transaction conflict"}}},7785:function(e,t){"use strict";var n,r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.QueryType=t.UpdateOperatorList=t.OrderDirectionList=t.OperatorMap=t.Opeartor=t.WhereFilterOpList=t.FieldType=t.ErrorCode=void 0,t.ErrorCode=r,function(e){e.DocIDError="文档ID不合法",e.CollNameError="集合名称不合法",e.OpStrError="操作符不合法",e.DirectionError="排序字符不合法",e.IntergerError="must be integer",e.QueryParamTypeError="查询参数必须为对象",e.QueryParamValueError="查询参数对象值不能均为undefined"}(r||(t.ErrorCode=r={})),t.FieldType={String:"String",Number:"Number",Object:"Object",Array:"Array",Boolean:"Boolean",Null:"Null",GeoPoint:"GeoPoint",GeoLineString:"GeoLineString",GeoPolygon:"GeoPolygon",GeoMultiPoint:"GeoMultiPoint",GeoMultiLineString:"GeoMultiLineString",GeoMultiPolygon:"GeoMultiPolygon",Timestamp:"Date",Command:"Command",ServerDate:"ServerDate",BsonDate:"BsonDate"},t.OrderDirectionList=["desc","asc"],t.WhereFilterOpList=["<","<=","==",">=",">"],t.Opeartor=o,function(e){e.lt="<",e.gt=">",e.lte="<=",e.gte=">=",e.eq="=="}(o||(t.Opeartor=o={}));var i,s=((n={})[o.eq]="$eq",n[o.lt]="$lt",n[o.lte]="$lte",n[o.gt]="$gt",n[o.gte]="$gte",n);t.OperatorMap=s,t.UpdateOperatorList=["$set","$inc","$mul","$unset","$push","$pop","$unshift","$shift","$currentDate","$each","$position"],t.QueryType=i,function(e){e.WHERE="WHERE",e.DOC="DOC"}(i||(t.QueryType=i={}))},6724:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentReference=void 0;var o=r(n(3988)),i=n(9054),s=n(5938),a=n(9833),u=n(5323),c=n(9272),f=n(982),l=n(7785),p=n(64),d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},h=function(){function e(e,t,n,r){var o=this;void 0===r&&(r={}),this.watch=function(e){return(0,p.getWsInstance)(o._db).watch(d(d({},e),{envId:o._db.config.env,collectionName:o._coll,query:JSON.stringify({_id:o.id})}))},this._db=e,this._coll=t,this.id=n,this.request=new s.Db.reqClass(this._db.config),this.projection=r}return e.prototype.create=function(e,t){t=t||(0,i.createPromiseCallback)();var n={collectionName:this._coll,data:(0,c.serialize)(e)};return this.id&&(n._id=this.id),this.request.send("database.addDocument",n).then(function(e){e.code?t(0,e):t(0,{id:e.data._id,requestId:e.requestId})}).catch(function(e){t(e)}),t.promise},e.prototype.set=function(e,t){if(t=t||(0,i.createPromiseCallback)(),!this.id)return Promise.resolve({code:"INVALID_PARAM",message:"docId不能为空"});if(!e||"object"!==(0,o.default)(e))return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n=!1;if(function e(t){if("object"===(0,o.default)(t))for(var r in t)t[r]instanceof f.UpdateCommand?n=!0:"object"===(0,o.default)(t[r])&&e(t[r])}(e),n)return Promise.resolve({code:"DATABASE_REQUEST_FAILED",message:"update operator complicit"});var r={collectionName:this._coll,queryType:l.QueryType.DOC,data:(0,c.serialize)(e),multi:!1,merge:!1,upsert:!0};return this.id&&(r.query={_id:this.id}),this.request.send("database.updateDocument",r).then(function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})}).catch(function(e){t(e)}),t.promise},e.prototype.update=function(e,t){if(t=t||(0,i.createPromiseCallback)(),!e||"object"!==(0,o.default)(e))return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n={_id:this.id},r={collectionName:this._coll,data:u.UpdateSerializer.encode(e),query:n,queryType:l.QueryType.DOC,multi:!1,merge:!0,upsert:!1};return this.request.send("database.updateDocument",r).then(function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})}).catch(function(e){t(e)}),t.promise},e.prototype.remove=function(e){e=e||(0,i.createPromiseCallback)();var t={_id:this.id},n={collectionName:this._coll,query:t,queryType:l.QueryType.DOC,multi:!1};return this.request.send("database.deleteDocument",n).then(function(t){t.code?e(0,t):e(0,{deleted:t.data.deleted,requestId:t.requestId})}).catch(function(t){e(t)}),e.promise},e.prototype.get=function(e){e=e||(0,i.createPromiseCallback)();var t={_id:this.id},n={collectionName:this._coll,query:t,queryType:l.QueryType.DOC,multi:!1,projection:this.projection};return this.request.send("database.queryDocument",n).then(function(t){if(t.code)e(0,t);else{var n=a.Util.formatResDocumentData(t.data.list);e(0,{data:n,requestId:t.requestId,total:t.TotalCount,limit:t.Limit,offset:t.Offset})}}).catch(function(t){e(t)}),e.promise},e.prototype.field=function(t){for(var n in t)t[n]?t[n]=1:t[n]=0;return new e(this._db,this._coll,this.id,t)},e}();t.DocumentReference=h},7685:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5556);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))});var o=n(9423);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))});var i=n(4870);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))});var s=n(5405);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))});var a=n(7686);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))});var u=n(3323);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))})},9423:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.LineString=void 0;var o=r(n(3988)),i=n(2352),s=n(5556),a=n(3703),u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(){function e(e){if(!(0,a.isArray)(e))throw new TypeError('"points" must be of type Point[]. Received type '+(0,o.default)(e));if(e.length<2)throw new Error('"points" must contain 2 points at least');e.forEach(function(e){if(!(e instanceof s.Point))throw new TypeError('"points" must be of type Point[]. Received type '+(0,o.default)(e)+"[]")}),this.points=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"LineString",coordinates:this.points.map(function(e){return e.toJSON().coordinates})},t},e.prototype.toJSON=function(){return{type:"LineString",coordinates:this.points.map(function(e){return e.toJSON().coordinates})}},e.validate=function(e){var t,n;if("LineString"!==e.type||!(0,a.isArray)(e.coordinates))return!1;try{for(var r=u(e.coordinates),o=r.next();!o.done;o=r.next()){var i=o.value;if(!(0,a.isNumber)(i[0])||!(0,a.isNumber)(i[1]))return!1}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!0},e.isClosed=function(e){var t=e.points[0],n=e.points[e.points.length-1];if(t.latitude===n.latitude&&t.longitude===n.longitude)return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return i.SYMBOL_GEO_LINE_STRING},enumerable:!0,configurable:!0}),e}();t.LineString=c},7686:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.MultiLineString=void 0;var o=r(n(3988)),i=n(2352),s=n(3703),a=n(9423),u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(){function e(e){if(!(0,s.isArray)(e))throw new TypeError('"lines" must be of type LineString[]. Received type '+(0,o.default)(e));if(0===e.length)throw new Error("Polygon must contain 1 linestring at least");e.forEach(function(e){if(!(e instanceof a.LineString))throw new TypeError('"lines" must be of type LineString[]. Received type '+(0,o.default)(e)+"[]")}),this.lines=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"MultiLineString",coordinates:this.lines.map(function(e){return e.points.map(function(e){return[e.longitude,e.latitude]})})},t},e.prototype.toJSON=function(){return{type:"MultiLineString",coordinates:this.lines.map(function(e){return e.points.map(function(e){return[e.longitude,e.latitude]})})}},e.validate=function(e){var t,n,r,o;if("MultiLineString"!==e.type||!(0,s.isArray)(e.coordinates))return!1;try{for(var i=u(e.coordinates),a=i.next();!a.done;a=i.next()){var c=a.value;try{for(var f=(r=void 0,u(c)),l=f.next();!l.done;l=f.next()){var p=l.value;if(!(0,s.isNumber)(p[0])||!(0,s.isNumber)(p[1]))return!1}}catch(e){r={error:e}}finally{try{l&&!l.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return i.SYMBOL_GEO_MULTI_LINE_STRING},enumerable:!0,configurable:!0}),e}();t.MultiLineString=c},5405:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.MultiPoint=void 0;var o=r(n(3988)),i=n(2352),s=n(5556),a=n(3703),u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(){function e(e){if(!(0,a.isArray)(e))throw new TypeError('"points" must be of type Point[]. Received type '+(0,o.default)(e));if(0===e.length)throw new Error('"points" must contain 1 point at least');e.forEach(function(e){if(!(e instanceof s.Point))throw new TypeError('"points" must be of type Point[]. Received type '+(0,o.default)(e)+"[]")}),this.points=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"MultiPoint",coordinates:this.points.map(function(e){return e.toJSON().coordinates})},t},e.prototype.toJSON=function(){return{type:"MultiPoint",coordinates:this.points.map(function(e){return e.toJSON().coordinates})}},e.validate=function(e){var t,n;if("MultiPoint"!==e.type||!(0,a.isArray)(e.coordinates))return!1;try{for(var r=u(e.coordinates),o=r.next();!o.done;o=r.next()){var i=o.value;if(!(0,a.isNumber)(i[0])||!(0,a.isNumber)(i[1]))return!1}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return i.SYMBOL_GEO_MULTI_POINT},enumerable:!0,configurable:!0}),e}();t.MultiPoint=c},3323:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.MultiPolygon=void 0;var o=r(n(3988)),i=n(2352),s=n(3703),a=n(4870),u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(){function e(e){var t,n;if(!(0,s.isArray)(e))throw new TypeError('"polygons" must be of type Polygon[]. Received type '+(0,o.default)(e));if(0===e.length)throw new Error("MultiPolygon must contain 1 polygon at least");try{for(var r=u(e),i=r.next();!i.done;i=r.next()){var c=i.value;if(!(c instanceof a.Polygon))throw new TypeError('"polygon" must be of type Polygon[]. Received type '+(0,o.default)(c)+"[]")}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this.polygons=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"MultiPolygon",coordinates:this.polygons.map(function(e){return e.lines.map(function(e){return e.points.map(function(e){return[e.longitude,e.latitude]})})})},t},e.prototype.toJSON=function(){return{type:"MultiPolygon",coordinates:this.polygons.map(function(e){return e.lines.map(function(e){return e.points.map(function(e){return[e.longitude,e.latitude]})})})}},e.validate=function(e){var t,n,r,o,i,a;if("MultiPolygon"!==e.type||!(0,s.isArray)(e.coordinates))return!1;try{for(var c=u(e.coordinates),f=c.next();!f.done;f=c.next()){var l=f.value;try{for(var p=(r=void 0,u(l)),d=p.next();!d.done;d=p.next()){var h=d.value;try{for(var y=(i=void 0,u(h)),v=y.next();!v.done;v=y.next()){var g=v.value;if(!(0,s.isNumber)(g[0])||!(0,s.isNumber)(g[1]))return!1}}catch(e){i={error:e}}finally{try{v&&!v.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}}}catch(e){r={error:e}}finally{try{d&&!d.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return i.SYMBOL_GEO_POLYGON},enumerable:!0,configurable:!0}),e}();t.MultiPolygon=c},5556:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Point=void 0;var r=n(3228),o=n(2352),i=n(3703),s=function(){function e(e,t){r.Validate.isGeopoint("longitude",e),r.Validate.isGeopoint("latitude",t),this.longitude=e,this.latitude=t}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"Point",coordinates:[this.longitude,this.latitude]},t},e.prototype.toJSON=function(){return{type:"Point",coordinates:[this.longitude,this.latitude]}},e.prototype.toReadableString=function(){return"["+this.longitude+","+this.latitude+"]"},e.validate=function(e){return"Point"===e.type&&(0,i.isArray)(e.coordinates)&&r.Validate.isGeopoint("longitude",e.coordinates[0])&&r.Validate.isGeopoint("latitude",e.coordinates[1])},Object.defineProperty(e.prototype,"_internalType",{get:function(){return o.SYMBOL_GEO_POINT},enumerable:!0,configurable:!0}),e}();t.Point=s},4870:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.Polygon=void 0;var o=r(n(3988)),i=n(2352),s=n(3703),a=n(9423),u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(){function e(e){if(!(0,s.isArray)(e))throw new TypeError('"lines" must be of type LineString[]. Received type '+(0,o.default)(e));if(0===e.length)throw new Error("Polygon must contain 1 linestring at least");e.forEach(function(e){if(!(e instanceof a.LineString))throw new TypeError('"lines" must be of type LineString[]. Received type '+(0,o.default)(e)+"[]");if(!a.LineString.isClosed(e))throw new Error("LineString "+e.points.map(function(e){return e.toReadableString()})+" is not a closed cycle")}),this.lines=e}return e.prototype.parse=function(e){var t;return(t={})[e]={type:"Polygon",coordinates:this.lines.map(function(e){return e.points.map(function(e){return[e.longitude,e.latitude]})})},t},e.prototype.toJSON=function(){return{type:"Polygon",coordinates:this.lines.map(function(e){return e.points.map(function(e){return[e.longitude,e.latitude]})})}},e.validate=function(e){var t,n,r,o;if("Polygon"!==e.type||!(0,s.isArray)(e.coordinates))return!1;try{for(var i=u(e.coordinates),a=i.next();!a.done;a=i.next()){var c=a.value;if(!this.isCloseLineString(c))return!1;try{for(var f=(r=void 0,u(c)),l=f.next();!l.done;l=f.next()){var p=l.value;if(!(0,s.isNumber)(p[0])||!(0,s.isNumber)(p[1]))return!1}}catch(e){r={error:e}}finally{try{l&&!l.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0},e.isCloseLineString=function(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]},Object.defineProperty(e.prototype,"_internalType",{get:function(){return i.SYMBOL_GEO_MULTI_POLYGON},enumerable:!0,configurable:!0}),e}();t.Polygon=c},2352:function(e,t,n){"use strict";var r=n(2370);Object.defineProperty(t,"__esModule",{value:!0});var o={SYMBOL_UNSET_FIELD_NAME:!0,SYMBOL_UPDATE_COMMAND:!0,SYMBOL_QUERY_COMMAND:!0,SYMBOL_LOGIC_COMMAND:!0,SYMBOL_GEO_POINT:!0,SYMBOL_GEO_LINE_STRING:!0,SYMBOL_GEO_POLYGON:!0,SYMBOL_GEO_MULTI_POINT:!0,SYMBOL_GEO_MULTI_LINE_STRING:!0,SYMBOL_GEO_MULTI_POLYGON:!0,SYMBOL_SERVER_DATE:!0,SYMBOL_REGEXP:!0};t.SYMBOL_REGEXP=t.SYMBOL_SERVER_DATE=t.SYMBOL_GEO_MULTI_POLYGON=t.SYMBOL_GEO_MULTI_LINE_STRING=t.SYMBOL_GEO_MULTI_POINT=t.SYMBOL_GEO_POLYGON=t.SYMBOL_GEO_LINE_STRING=t.SYMBOL_GEO_POINT=t.SYMBOL_LOGIC_COMMAND=t.SYMBOL_QUERY_COMMAND=t.SYMBOL_UPDATE_COMMAND=t.SYMBOL_UNSET_FIELD_NAME=void 0;var i=r(n(7471));Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))});var s=i.default.for("UNSET_FIELD_NAME");t.SYMBOL_UNSET_FIELD_NAME=s;var a=i.default.for("UPDATE_COMMAND");t.SYMBOL_UPDATE_COMMAND=a;var u=i.default.for("QUERY_COMMAND");t.SYMBOL_QUERY_COMMAND=u;var c=i.default.for("LOGIC_COMMAND");t.SYMBOL_LOGIC_COMMAND=c;var f=i.default.for("GEO_POINT");t.SYMBOL_GEO_POINT=f;var l=i.default.for("SYMBOL_GEO_LINE_STRING");t.SYMBOL_GEO_LINE_STRING=l;var p=i.default.for("SYMBOL_GEO_POLYGON");t.SYMBOL_GEO_POLYGON=p;var d=i.default.for("SYMBOL_GEO_MULTI_POINT");t.SYMBOL_GEO_MULTI_POINT=d;var h=i.default.for("SYMBOL_GEO_MULTI_LINE_STRING");t.SYMBOL_GEO_MULTI_LINE_STRING=h;var y=i.default.for("SYMBOL_GEO_MULTI_POLYGON");t.SYMBOL_GEO_MULTI_POLYGON=y;var v=i.default.for("SERVER_DATE");t.SYMBOL_SERVER_DATE=v;var g=i.default.for("REGEXP");t.SYMBOL_REGEXP=g},5938:function(e,t,n){"use strict";var r=n(2370)
;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CollectionReference",{enumerable:!0,get:function(){return i.CollectionReference}}),Object.defineProperty(t,"Query",{enumerable:!0,get:function(){return d.Query}}),Object.defineProperty(t,"DocumentReference",{enumerable:!0,get:function(){return h.DocumentReference}}),t.Db=void 0;var o=r(n(7685)),i=n(7505),s=n(8991),a=n(1312),u=n(1250),c=n(8617),f=n(85),l=n(8176),p=n(982),d=n(6582),h=n(6724),y=function(){function e(e){this.config=e,this.Geo=o,this.serverDate=a.ServerDateConstructor,this.command=s.Command,this.RegExp=u.RegExpConstructor,this.startTransaction=c.startTransaction,this.runTransaction=c.runTransaction,this.logicCommand=f.LogicCommand,this.updateCommand=p.UpdateCommand,this.queryCommand=l.QueryCommand}return e.prototype.collection=function(e){if(!e)throw new Error("Collection name is required");return new i.CollectionReference(this,e)},e.prototype.createCollection=function(t){var n={collectionName:t};return new e.reqClass(this.config).send("database.addCollection",n)},e}();t.Db=y},9054:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPromiseCallback=void 0,t.createPromiseCallback=function(){var e;if(!Promise){(e=function(){}).promise={};var t=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var n=new Promise(function(t,n){e=function(e,r){return e?n(e):t(r)}});return e.promise=n,e}},5085:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.operatorToString=function(e){return s[e]||"$"+e},t.OperatorMap=void 0;var r=n(8176),o=n(85),i=n(982),s={};for(var a in t.OperatorMap=s,r.QUERY_COMMANDS_LITERAL)s[a]="$"+a;for(var a in o.LOGIC_COMMANDS_LITERAL)s[a]="$"+a;for(var a in i.UPDATE_COMMANDS_LITERAL)s[a]="$"+a;s[r.QUERY_COMMANDS_LITERAL.NEQ]="$ne",s[i.UPDATE_COMMANDS_LITERAL.REMOVE]="$unset",s[i.UPDATE_COMMANDS_LITERAL.SHIFT]="$pop",s[i.UPDATE_COMMANDS_LITERAL.UNSHIFT]="$push"},6582:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.Query=void 0;var o=r(n(3988)),i=n(9054),s=n(7785),a=n(5938),u=n(3228),c=n(9833),f=n(6532),l=n(5323),p=n(64),d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},h=function(){function e(e,t,n,r,o){var i=this;this.watch=function(e){return(0,p.getWsInstance)(i._db).watch(d(d({},e),{envId:i._db.config.env,collectionName:i._coll,query:JSON.stringify(i._fieldFilters||{}),limit:i._queryOptions.limit,orderBy:i._fieldOrders?i._fieldOrders.reduce(function(e,t){return e[t.field]=t.direction,e},{}):void 0}))},this._db=e,this._coll=t,this._fieldFilters=n,this._fieldOrders=r||[],this._queryOptions=o||{},this._request=new a.Db.reqClass(this._db.config)}return e.prototype.get=function(e){e=e||(0,i.createPromiseCallback)();var t=[];this._fieldOrders&&this._fieldOrders.forEach(function(e){t.push(e)});var n={collectionName:this._coll,queryType:s.QueryType.WHERE};return this._fieldFilters&&(n.query=this._fieldFilters),t.length>0&&(n.order=t),this._queryOptions.offset&&(n.offset=this._queryOptions.offset),this._queryOptions.limit?n.limit=this._queryOptions.limit<1e3?this._queryOptions.limit:1e3:n.limit=100,this._queryOptions.projection&&(n.projection=this._queryOptions.projection),this._request.send("database.queryDocument",n).then(function(t){if(t.code)e(0,t);else{var n={data:c.Util.formatResDocumentData(t.data.list),requestId:t.requestId};t.TotalCount&&(n.total=t.TotalCount),t.Limit&&(n.limit=t.Limit),t.Offset&&(n.offset=t.Offset),e(0,n)}}).catch(function(t){e(t)}),e.promise},e.prototype.count=function(e){e=e||(0,i.createPromiseCallback)();var t={collectionName:this._coll,queryType:s.QueryType.WHERE};return this._fieldFilters&&(t.query=this._fieldFilters),this._request.send("database.countDocument",t).then(function(t){t.code?e(0,t):e(0,{requestId:t.requestId,total:t.data.total})}).catch(function(t){e(t)}),e.promise},e.prototype.where=function(t){if("Object"!==Object.prototype.toString.call(t).slice(8,-1))throw Error(s.ErrorCode.QueryParamTypeError);var n=Object.keys(t),r=n.some(function(e){return void 0!==t[e]});if(n.length&&!r)throw Error(s.ErrorCode.QueryParamValueError);return new e(this._db,this._coll,f.QuerySerializer.encode(t),this._fieldOrders,this._queryOptions)},e.prototype.orderBy=function(t,n){u.Validate.isFieldPath(t),u.Validate.isFieldOrder(n);var r={field:t,direction:n},o=this._fieldOrders.concat(r);return new e(this._db,this._coll,this._fieldFilters,o,this._queryOptions)},e.prototype.limit=function(t){u.Validate.isInteger("limit",t);var n=d({},this._queryOptions);return n.limit=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)},e.prototype.skip=function(t){u.Validate.isInteger("offset",t);var n=d({},this._queryOptions);return n.offset=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)},e.prototype.update=function(e,t){if(t=t||(0,i.createPromiseCallback)(),!e||"object"!==(0,o.default)(e))return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n={collectionName:this._coll,query:this._fieldFilters,queryType:s.QueryType.WHERE,multi:!0,merge:!0,upsert:!1,data:l.UpdateSerializer.encode(e)};return this._request.send("database.updateDocument",n).then(function(e){e.code?t(0,e):t(0,{requestId:e.requestId,updated:e.data.updated,upsertId:e.data.upsert_id})}).catch(function(e){t(e)}),t.promise},e.prototype.field=function(t){for(var n in t)t[n]?"object"!==(0,o.default)(t[n])&&(t[n]=1):t[n]=0;var r=d({},this._queryOptions);return r.projection=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,r)},e.prototype.remove=function(e){e=e||(0,i.createPromiseCallback)(),Object.keys(this._queryOptions).length>0&&console.warn("`offset`, `limit` and `projection` are not supported in remove() operation"),this._fieldOrders.length>0&&console.warn("`orderBy` is not supported in remove() operation");var t={collectionName:this._coll,query:f.QuerySerializer.encode(this._fieldFilters),queryType:s.QueryType.WHERE,multi:!0};return this._request.send("database.deleteDocument",t).then(function(t){t.code?e(0,t):e(0,{requestId:t.requestId,deleted:t.data.deleted})}).catch(function(t){e(t)}),e.promise},e}();t.Query=h},1250:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegExpConstructor=function(e){return new o(e)},t.RegExp=void 0;var r=n(2352),o=function(){function e(e){var t=e.regexp,n=e.options;if(!t)throw new TypeError("regexp must be a string");this.$regex=t,this.$options=n}return e.prototype.parse=function(){return{$regex:this.$regex,$options:this.$options}},Object.defineProperty(e.prototype,"_internalType",{get:function(){return r.SYMBOL_REGEXP},enumerable:!0,configurable:!0}),e}();t.RegExp=o},4953:function(e,t,n){"use strict";function r(e,t,n,o){var s=a({},e);for(var u in e)if(!/^\$/.test(u)){var f=e[u];if(f&&(0,i.isObject)(f)&&!t(f)){if(o.indexOf(f)>-1)throw new Error("Cannot convert circular structure to JSON");var l=r(f,t,c(n,[u]),c(o,[f]));s[u]=l;var p=!1;for(var d in l)/ ^ \$ /.test(d)?p=!0:(s[u+"."+d]=l[d],delete s[u][d]);p||delete s[u]}}return s}function o(e){return(0,i.isInternalObject)(e)||(0,i.isDate)(e)||(0,i.isRegExp)(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.flattenQueryObject=function(e){return r(e,o,[],[e])},t.flattenObject=function(e){return r(e,function(e){return!1},[],[e])},t.mergeConditionAfterEncode=function(e,t,n){for(var r in t[n]||delete e[n],t)e[r]?(0,i.isArray)(e[r])?e[r].push(t[r]):(0,i.isObject)(e[r])?(0,i.isObject)(t[r])?Object.assign(e[r],t[r]):(console.warn("unmergable condition, query is object but condition is "+(0,i.getType)(t)+", can only overwrite",t,n),e[r]=t[r]):(console.warn("to-merge query is of type "+(0,i.getType)(e)+", can only overwrite",e,t,n),e[r]=t[r]):e[r]=t[r]},t.isConversionRequired=o,t.encodeInternalDataType=function(e){return(0,s.serialize)(e)},t.decodeInternalDataType=function(e){return(0,s.deserialize)(e)};var i=n(3703),s=n(9272),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},c=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}},9272:function(e,t,n){"use strict";function r(e,t){if(!(0,i.isInternalObject)(e)){if((0,i.isDate)(e))return{$date:+e};if((0,i.isRegExp)(e))return{$regex:e.source,$options:e.flags};if((0,i.isArray)(e))return e.map(function(e){if(t.indexOf(e)>-1)throw new Error("Cannot convert circular structure to JSON");return r(e,f(t,[e]))});if((0,i.isObject)(e)){var n=u({},e);for(var s in n){if(t.indexOf(n[s])>-1)throw new Error("Cannot convert circular structure to JSON");n[s]=r(n[s],f(t,[n[s]]))}return n}return e}switch(e._internalType){case o.SYMBOL_GEO_POINT:return e.toJSON();case o.SYMBOL_SERVER_DATE:case o.SYMBOL_REGEXP:return e.parse();default:return e.toJSON?e.toJSON():e}}Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=function(e){return r(e,[e])},t.deserialize=function(e){var t=u({},e);for(var n in t)switch(n){case"$date":switch((0,i.getType)(t[n])){case"number":return new Date(t[n]);case"object":return new a.ServerDate(t[n])}break;case"type":switch(t.type){case"Point":if((0,i.isArray)(t.coordinates)&&(0,i.isNumber)(t.coordinates[0])&&(0,i.isNumber)(t.coordinates[1]))return new s.Point(t.coordinates[0],t.coordinates[1])}}return e};var o=n(2352),i=n(3703),s=n(7685),a=n(1312),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},c=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},f=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}},6532:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuerySerializer=void 0;var r=n(8176),o=n(85),i=n(2352),s=n(3703),a=n(5085),u=n(4953),c=function(){function e(){}return e.encode=function(e){return(new f).encodeQuery(e)},e}();t.QuerySerializer=c;var f=function(){function e(){}return e.prototype.encodeQuery=function(e,t){var n;return(0,u.isConversionRequired)(e)?(0,o.isLogicCommand)(e)?this.encodeLogicCommand(e):(0,r.isQueryCommand)(e)?this.encodeQueryCommand(e):((n={})[t]=this.encodeQueryObject(e),n):(0,s.isObject)(e)?this.encodeQueryObject(e):e},e.prototype.encodeRegExp=function(e){return{$regex:e.source,$options:e.flags}},e.prototype.encodeLogicCommand=function(e){var t,n,r,i,u,c,f,l=this;switch(e.operator){case o.LOGIC_COMMANDS_LITERAL.NOR:case o.LOGIC_COMMANDS_LITERAL.AND:case o.LOGIC_COMMANDS_LITERAL.OR:var p=(0,a.operatorToString)(e.operator),d=e.operands.map(function(t){return l.encodeQuery(t,e.fieldName)});return(t={})[p]=d,t;case o.LOGIC_COMMANDS_LITERAL.NOT:p=(0,a.operatorToString)(e.operator);var h=e.operands[0];return(0,s.isRegExp)(h)?((n={})[e.fieldName]=((r={})[p]=this.encodeRegExp(h),r),n):(d=this.encodeQuery(h)[e.fieldName],(i={})[e.fieldName]=((u={})[p]=d,u),i);default:if(p=(0,a.operatorToString)(e.operator),1===e.operands.length){var y=this.encodeQuery(e.operands[0]);return(c={})[p]=y,c}return d=e.operands.map(this.encodeQuery.bind(this)),(f={})[p]=d,f}},e.prototype.encodeQueryCommand=function(e){return(0,r.isComparisonCommand)(e),this.encodeComparisonCommand(e)},e.prototype.encodeComparisonCommand=function(e){var t,n,o,s,c,f,l,p,d;if(e.fieldName===i.SYMBOL_UNSET_FIELD_NAME)throw new Error("Cannot encode a comparison command with unset field name");var h=(0,a.operatorToString)(e.operator);switch(e.operator){case r.QUERY_COMMANDS_LITERAL.EQ:case r.QUERY_COMMANDS_LITERAL.NEQ:case r.QUERY_COMMANDS_LITERAL.LT:case r.QUERY_COMMANDS_LITERAL.LTE:case r.QUERY_COMMANDS_LITERAL.GT:case r.QUERY_COMMANDS_LITERAL.GTE:case r.QUERY_COMMANDS_LITERAL.ELEM_MATCH:case r.QUERY_COMMANDS_LITERAL.EXISTS:case r.QUERY_COMMANDS_LITERAL.SIZE:case r.QUERY_COMMANDS_LITERAL.MOD:return(t={})[e.fieldName]=((n={})[h]=(0,u.encodeInternalDataType)(e.operands[0]),n),t;case r.QUERY_COMMANDS_LITERAL.IN:case r.QUERY_COMMANDS_LITERAL.NIN:case r.QUERY_COMMANDS_LITERAL.ALL:return(o={})[e.fieldName]=((s={})[h]=(0,u.encodeInternalDataType)(e.operands),s),o;case r.QUERY_COMMANDS_LITERAL.GEO_NEAR:var y=e.operands[0];return(c={})[e.fieldName]={$nearSphere:{$geometry:y.geometry.toJSON(),$maxDistance:y.maxDistance,$minDistance:y.minDistance}},c;case r.QUERY_COMMANDS_LITERAL.GEO_WITHIN:return y=e.operands[0],(f={})[e.fieldName]={$geoWithin:{$geometry:y.geometry.toJSON()}},f;case r.QUERY_COMMANDS_LITERAL.GEO_INTERSECTS:return y=e.operands[0],(l={})[e.fieldName]={$geoIntersects:{$geometry:y.geometry.toJSON()}},l;default:return(p={})[e.fieldName]=((d={})[h]=(0,u.encodeInternalDataType)(e.operands[0]),d),p}},e.prototype.encodeQueryObject=function(e){var t=(0,u.flattenQueryObject)(e);for(var n in t){var i=t[n];if((0,o.isLogicCommand)(i)){t[n]=i._setFieldName(n);var s=this.encodeLogicCommand(t[n]);this.mergeConditionAfterEncode(t,s,n)}else(0,r.isComparisonCommand)(i)?(t[n]=i._setFieldName(n),s=this.encodeComparisonCommand(t[n]),this.mergeConditionAfterEncode(t,s,n)):(0,u.isConversionRequired)(i)&&(t[n]=(0,u.encodeInternalDataType)(i))}return t},e.prototype.mergeConditionAfterEncode=function(e,t,n){for(var r in t[n]||delete e[n],t)e[r]?(0,s.isArray)(e[r])?e[r]=e[r].concat(t[r]):(0,s.isObject)(e[r])?(0,s.isObject)(t[r])?Object.assign(e,t):(console.warn("unmergable condition, query is object but condition is "+(0,s.getType)(t)+", can only overwrite",t,n),e[r]=t[r]):(console.warn("to-merge query is of type "+(0,s.getType)(e)+", can only overwrite",e,t,n),e[r]=t[r]):e[r]=t[r]},e}()},5323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateSerializer=void 0;var r=n(982),o=n(2352),i=n(3703),s=n(5085),a=n(4953),u=function(){function e(){}return e.encode=function(t){return(new e).encodeUpdate(t)},e.prototype.encodeUpdate=function(e){return(0,r.isUpdateCommand)(e)?this.encodeUpdateCommand(e):"object"===(0,i.getType)(e)?this.encodeUpdateObject(e):e},e.prototype.encodeUpdateCommand=function(e){if(e.fieldName===o.SYMBOL_UNSET_FIELD_NAME)throw new Error("Cannot encode a comparison command with unset field name");switch(e.operator){case r.UPDATE_COMMANDS_LITERAL.PUSH:case r.UPDATE_COMMANDS_LITERAL.PULL:case r.UPDATE_COMMANDS_LITERAL.PULL_ALL:case r.UPDATE_COMMANDS_LITERAL.POP:case r.UPDATE_COMMANDS_LITERAL.SHIFT:case r.UPDATE_COMMANDS_LITERAL.UNSHIFT:case r.UPDATE_COMMANDS_LITERAL.ADD_TO_SET:return this.encodeArrayUpdateCommand(e);default:return this.encodeFieldUpdateCommand(e)}},e.prototype.encodeFieldUpdateCommand=function(e){var t,n,o,i,a=(0,s.operatorToString)(e.operator);switch(e.operator){case r.UPDATE_COMMANDS_LITERAL.REMOVE:return(t={})[a]=((n={})[e.fieldName]="",n),t;default:return(o={})[a]=((i={})[e.fieldName]=e.operands[0],i),o}},e.prototype.encodeArrayUpdateCommand=function(e){var t,n,o,u,c,f,l,p,d,h,y=(0,s.operatorToString)(e.operator);switch(e.operator){case r.UPDATE_COMMANDS_LITERAL.PUSH:var v=void 0;return v=(0,i.isArray)(e.operands)?{$each:e.operands.map(a.encodeInternalDataType)}:e.operands,(t={})[y]=((n={})[e.fieldName]=v,n),t;case r.UPDATE_COMMANDS_LITERAL.UNSHIFT:return v={$each:e.operands.map(a.encodeInternalDataType),$position:0},(o={})[y]=((u={})[e.fieldName]=v,u),o;case r.UPDATE_COMMANDS_LITERAL.POP:return(c={})[y]=((f={})[e.fieldName]=1,f),c;case r.UPDATE_COMMANDS_LITERAL.SHIFT:return(l={})[y]=((p={})[e.fieldName]=-1,p),l;default:return(d={})[y]=((h={})[e.fieldName]=(0,a.encodeInternalDataType)(e.operands),h),d}},e.prototype.encodeUpdateObject=function(e){var t=(0,a.flattenQueryObject)(e);for(var n in t)if(!/^\$/.test(n)){var o=t[n];if((0,r.isUpdateCommand)(o)){t[n]=o._setFieldName(n);var i=this.encodeUpdateCommand(t[n]);(0,a.mergeConditionAfterEncode)(t,i,n)}else{t[n]=o=(0,a.encodeInternalDataType)(o);var s=new r.UpdateCommand(r.UPDATE_COMMANDS_LITERAL.SET,[o],n);i=this.encodeUpdateCommand(s),(0,a.mergeConditionAfterEncode)(t,i,n)}}return t},e}();t.UpdateSerializer=u},1312:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerDateConstructor=function(e){return new o(e)},t.ServerDate=void 0;var r=n(2352),o=function(){function e(e){var t=(void 0===e?{}:e).offset,n=void 0===t?0:t;this.offset=n}return Object.defineProperty(e.prototype,"_internalType",{get:function(){return r.SYMBOL_SERVER_DATE},enumerable:!0,configurable:!0}),e.prototype.parse=function(){return{$date:{offset:this.offset}}},e}();t.ServerDate=o},4452:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionReference=void 0;var r,o=n(6171),i=n(5039),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){function t(t,n){return e.call(this,t,n)||this}return s(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new Error("docId必须为字符串或数字");return new o.DocumentReference(this._transaction,this._coll,e)},t.prototype.add=function(e){var t;return void 0!==e._id&&(t=e._id),new o.DocumentReference(this._transaction,this._coll,t).create(e)},t}(i.Query);t.CollectionReference=a},6171:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentReference=void 0;var r=n(7567),o=n(5029),i=n(5323),s=n(9272),a=n(9833),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},c=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},f=function(e,t){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,o,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},l="database.updateDocInTransaction",p=function(){function e(e,t,n){this._coll=t,this.id=n,this._transaction=e,this._request=this._transaction.getRequestMethod(),this._transactionId=this._transaction.getTransactionId()}return e.prototype.create=function(e){return c(this,void 0,void 0,function(){var t,n,i,a;return f(this,function(c){switch(c.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,data:r.EJSON.stringify((0,s.serialize)(e),{relaxed:!1})},this.id&&(t._id=this.id),[4,this._request.send("database.insertDocInTransaction",t)];case 1:if((n=c.sent()).code)throw n;if(i=r.EJSON.parse(n.inserted),1==(a=r.EJSON.parse(n.ok))&&1==i)return[2,u(u({},n),{ok:a,inserted:i})];throw new Error(o.ERRORS.INSERT_DOC_FAIL.message)}})})},e.prototype.get=function(){return c(this,void 0,void 0,function(){var e,t;return f(this,function(n){switch(n.label){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send("database.getInTransaction",e)];case 1:if((t=n.sent()).code)throw t;return[2,{data:"null"!==t.data?a.Util.formatField(r.EJSON.parse(t.data)):r.EJSON.parse(t.data),requestId:t.requestId}]}})})},e.prototype.set=function(e){return c(this,void 0,void 0,function(){var t,n;return f(this,function(o){switch(o.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:r.EJSON.stringify((0,s.serialize)(e),{relaxed:!1}),upsert:!0},[4,this._request.send(l,t)];case 1:if((n=o.sent()).code)throw n;return[2,u(u({},n),{updated:r.EJSON.parse(n.updated),upserted:n.upserted?JSON.parse(n.upserted):null})]}})})},e.prototype.update=function(e){return c(this,void 0,void 0,function(){var t,n;return f(this,function(o){switch(o.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:r.EJSON.stringify(i.UpdateSerializer.encode(e),{relaxed:!1})},[4,this._request.send(l,t)];case 1:if((n=o.sent()).code)throw n;return[2,u(u({},n),{updated:r.EJSON.parse(n.updated)})]}})})},e.prototype.delete=function(){return c(this,void 0,void 0,function(){var e,t;return f(this,function(n){switch(n.label){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send("database.deleteDocInTransaction",e)];case 1:if((t=n.sent()).code)throw t;return[2,u(u({},t),{deleted:r.EJSON.parse(t.deleted)})]}})})},e}();t.DocumentReference=p},8617:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startTransaction=function(){return s(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,(e=new u(this)).init()];case 1:return t.sent(),[2,e]}})})},t.runTransaction=function e(t,n){return void 0===n&&(n=3),s(this,void 0,void 0,function(){var r,o,c,f,l=this;return a(this,function(p){switch(p.label){case 0:return p.trys.push([0,4,,10]),[4,(r=new u(this)).init()];case 1:return p.sent(),[4,t(r)];case 2:if(o=p.sent(),!0===r.aborted)throw r.abortReason;return[4,r.commit()];case 3:return p.sent(),[2,o];case 4:if(c=p.sent(),!1===r.inited)throw c;return f=function(e){return s(l,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:if(r.aborted||r.commited)return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,r.rollback()];case 2:case 3:return t.sent(),[3,4];case 4:throw e;case 5:if(!0===r.aborted)throw r.abortReason;throw e}})})},n<=0?[4,f(c)]:[3,6];case 5:p.sent(),p.label=6;case 6:return c&&c.code===i.ERRORS.DATABASE_TRANSACTION_CONFLICT.code?[4,e.bind(this)(t,--n)]:[3,8];case 7:return[2,p.sent()];case 8:return[4,f(c)];case 9:return p.sent(),[3,10];case 10:return[2]}})})},t.Transaction=void 0;var r=n(5938),o=n(4452),i=n(5029),s=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},a=function(e,t){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,o,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},u=function(){function e(e){this._db=e,this._request=new r.Db.reqClass(this._db.config),this.aborted=!1,this.commited=!1,this.inited=!1}return e.prototype.init=function(){return s(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,this._request.send("database.startTransaction")];case 1:if((e=t.sent()).code)throw e;return this.inited=!0,this._id=e.transactionId,[2]}})})},e.prototype.collection=function(e){if(!e)throw new Error("Collection name is required");return new o.CollectionReference(this,e)},e.prototype.getTransactionId=function(){return this._id},e.prototype.getRequestMethod=function(){return this._request},e.prototype.commit=function(){return s(this,void 0,void 0,function(){var e,t;return a(this,function(n){switch(n.label){case 0:return e={transactionId:this._id},[4,this._request.send("database.commitTransaction",e)];case 1:if((t=n.sent()).code)throw t;return this.commited=!0,[2,t]}})})},e.prototype.rollback=function(e){return s(this,void 0,void 0,function(){var t,n;return a(this,function(r){switch(r.label){case 0:return t={transactionId:this._id},[4,this._request.send("database.abortTransaction",t)];case 1:if((n=r.sent()).code)throw n;return this.aborted=!0,this.abortReason=e,[2,n]}})})},e}();t.Transaction=u},5039:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Query=void 0;var n=function(e,t){this._coll=t,this._transaction=e};t.Query=n},9833:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=void 0;var r=n(7785),o=n(7685),i=n(1312),s=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},a=function(){function e(){}return e.formatResDocumentData=function(t){return t.map(function(t){return e.formatField(t)})},e.formatField=function(t){var n=Object.keys(t),i={};return Array.isArray(t)&&(i=[]),n.forEach(function(n){var a,u=t[n];switch(e.whichType(u)){case r.FieldType.GeoPoint:a=new o.Point(u.coordinates[0],u.coordinates[1]);break;case r.FieldType.GeoLineString:a=new o.LineString(u.coordinates.map(function(e){return new o.Point(e[0],e[1])}));break;case r.FieldType.GeoPolygon:a=new o.Polygon(u.coordinates.map(function(e){return new o.LineString(e.map(function(e){var t=s(e,2),n=t[0],r=t[1];return new o.Point(n,r)}))}));break;case r.FieldType.GeoMultiPoint:a=new o.MultiPoint(u.coordinates.map(function(e){return new o.Point(e[0],e[1])}));break;case r.FieldType.GeoMultiLineString:a=new o.MultiLineString(u.coordinates.map(function(e){return new o.LineString(e.map(function(e){var t=s(e,2),n=t[0],r=t[1];return new o.Point(n,r)}))}));break;case r.FieldType.GeoMultiPolygon:a=new o.MultiPolygon(u.coordinates.map(function(e){return new o.Polygon(e.map(function(e){return new o.LineString(e.map(function(e){var t=s(e,2),n=t[0],r=t[1];return new o.Point(n,r)}))}))}));break;case r.FieldType.Timestamp:a=new Date(1e3*u.$timestamp);break;case r.FieldType.Object:case r.FieldType.Array:a=e.formatField(u);break;case r.FieldType.ServerDate:a=new Date(u.$date);break;default:a=u}Array.isArray(i)?i.push(a):i[n]=a}),i},e.whichType=function(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(t===r.FieldType.Timestamp)return r.FieldType.BsonDate;if(t===r.FieldType.Object){if(e instanceof o.Point)return r.FieldType.GeoPoint;if(e instanceof Date)return r.FieldType.Timestamp;if(e instanceof i.ServerDate)return r.FieldType.ServerDate;e.$timestamp?t=r.FieldType.Timestamp:e.$date?t=r.FieldType.ServerDate:o.Point.validate(e)?t=r.FieldType.GeoPoint:o.LineString.validate(e)?t=r.FieldType.GeoLineString:o.Polygon.validate(e)?t=r.FieldType.GeoPolygon:o.MultiPoint.validate(e)?t=r.FieldType.GeoMultiPoint:o.MultiLineString.validate(e)?t=r.FieldType.GeoMultiLineString:o.MultiPolygon.validate(e)&&(t=r.FieldType.GeoMultiPolygon)}return t},e.generateDocId=function(){for(var e="ABCDEFabcdef0123456789",t="",n=0;n<24;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},e}();t.Util=a},7471:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.InternalSymbol=void 0;var n,r=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=[],i={},s=function(e){function t(t,n){if(n!==i)throw new TypeError("InternalSymbol cannot be constructed with new operator");return e.call(this,t)||this}return r(t,e),t.for=function(e){for(var n=0,r=o.length;n<r;n++)if(o[n].target===e)return o[n].instance;var s=new t(e,i);return o.push({target:e,instance:s}),s},t}(function(e){Object.defineProperties(this,{target:{enumerable:!1,writable:!1,configurable:!1,value:e}})});t.InternalSymbol=s;var a=s;t.default=a},3703:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=t.isInternalObject=t.isRegExp=t.isDate=t.isArray=t.isFunction=t.isPromise=t.isNumber=t.isString=t.isObject=t.getType=void 0;var o=r(n(3988)),i=n(7471),s=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()};t.getType=s,t.isObject=function(e){return"object"===s(e)},t.isString=function(e){return"string"===s(e)},t.isNumber=function(e){return"number"===s(e)},t.isPromise=function(e){return"promise"===s(e)},t.isFunction=function(e){return"function"==typeof e},t.isArray=function(e){return Array.isArray(e)},t.isDate=function(e){return"date"===s(e)},t.isRegExp=function(e){return"regexp"===s(e)},t.isInternalObject=function(e){return e&&e._internalType instanceof i.InternalSymbol},t.isPlainObject=function(e){if("object"!==(0,o.default)(e)||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},64:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWsInstance=function(e){if(!r.Db.wsClientClass)throw new Error("to use realtime you must import realtime module first");var t=e.config.env;return i[t]||(i[t]=new r.Db.wsClientClass({context:{appConfig:{docSizeLimit:1e3,realtimePingInterval:1e4,realtimePongWaitTimeout:5e3,request:new r.Db.reqClass(e.config)}}})),i[t]},t.autoCount=t.sleep=void 0;var r=n(5938);t.sleep=function(e){return void 0===e&&(e=0),new Promise(function(t){return setTimeout(t,e)})};var o={};t.autoCount=function(e){return void 0===e&&(e="any"),o[e]||(o[e]=0),o[e]++};var i={}},3228:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{
value:!0}),t.Validate=void 0;var r=n(7785),o=n(9833),i=function(){function e(){}return e.isGeopoint=function(e,t){if(o.Util.whichType(t)!==r.FieldType.Number)throw new Error("Geo Point must be number type");var n=Math.abs(t);if("latitude"===e&&n>90)throw new Error("latitude should be a number ranges from -90 to 90");if("longitude"===e&&n>180)throw new Error("longitude should be a number ranges from -180 to 180");return!0},e.isInteger=function(e,t){if(!Number.isInteger(t))throw new Error(e+r.ErrorCode.IntergerError);return!0},e.isFieldOrder=function(e){if(-1===r.OrderDirectionList.indexOf(e))throw new Error(r.ErrorCode.DirectionError);return!0},e.isFieldPath=function(e){if(!/^[a-zA-Z0-9-_\.]/.test(e))throw new Error;return!0},e.isOperator=function(e){if(-1===r.WhereFilterOpList.indexOf(e))throw new Error(r.ErrorCode.OpStrError);return!0},e.isCollName=function(e){if(!/^[a-zA-Z0-9]([a-zA-Z0-9-_]){1,32}$/.test(e))throw new Error(r.ErrorCode.CollNameError);return!0},e.isDocID=function(e){if(!/^([a-fA-F0-9]){24}$/.test(e))throw new Error(r.ErrorCode.DocIDError);return!0},e}();t.Validate=i},1825:function(e,t,n){"use strict";var r=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},o=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useDefaultAdapter=t.useAdapters=t.RUNTIME=void 0;var s,a=i(n(9651)),u=n(4224);!function(e){e.WEB="web",e.WX_MP="wx_mp"}(s=t.RUNTIME||(t.RUNTIME={})),t.useAdapters=function(e){for(var t=0,n=u.isArray(e)?e:[e];t<n.length;t++){var r=n[t],o=r.isMatch,i=r.genAdapter,s=r.runtime;if(o())return{adapter:i(),runtime:s}}},t.useDefaultAdapter=function(){return{adapter:a.genAdapter(),runtime:s.WEB}}},9651:function(e,t,n){"use strict";var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},a=function(e,t){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,o,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0}),t.WebRequest=t.genAdapter=void 0;var u=n(1588),c=n(4224),f=n(2595),l=function(e){function t(t){var n=e.call(this)||this,r=t.timeout,o=t.timeoutMsg,i=t.restrictedMethods;return n._timeout=r||0,n._timeoutMsg=o||"请求超时",n._restrictedMethods=i||["get","post","upload","download"],n}return o(t,e),t.prototype.get=function(e){return this._request(i(i({},e),{method:"get"}),this._restrictedMethods.includes("get"))},t.prototype.post=function(e){return this._request(i(i({},e),{method:"post"}),this._restrictedMethods.includes("post"))},t.prototype.put=function(e){return this._request(i(i({},e),{method:"put"}))},t.prototype.upload=function(e){var t=e.data,n=e.file,r=e.name,o=new FormData;for(var s in t)o.append(s,t[s]);return o.append("key",r),o.append("file",n),this._request(i(i({},e),{data:o,method:"post"}),this._restrictedMethods.includes("upload"))},t.prototype.download=function(e){return s(this,void 0,void 0,function(){var t,n,r,o;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.get(i(i({},e),{headers:{},responseType:"blob"}))];case 1:return t=s.sent().data,n=window.URL.createObjectURL(new Blob([t])),r=decodeURIComponent(new URL(e.url).pathname.split("/").pop()||""),(o=document.createElement("a")).href=n,o.setAttribute("download",r),o.style.display="none",document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(n),document.body.removeChild(o),[3,3];case 2:return s.sent(),[3,3];case 3:return[2,new Promise(function(t){t({statusCode:200,tempFilePath:e.url})})]}})})},t.prototype._request=function(e,t){var n=this;void 0===t&&(t=!1);var r=String(e.method).toLowerCase()||"get";return new Promise(function(o){var i,s,a=e.url,u=e.headers,l=void 0===u?{}:u,p=e.data,d=e.responseType,h=e.withCredentials,y=e.body,v=e.onUploadProgress,g=c.formatUrl(f.getProtocol(),a,"get"===r?p:{}),_=new XMLHttpRequest;for(var m in _.open(r,g),d&&(_.responseType=d),l)_.setRequestHeader(m,l[m]);v&&_.upload.addEventListener("progress",v),_.onreadystatechange=function(){var e={};if(4===_.readyState){var t=_.getAllResponseHeaders().trim().split(/[\r\n]+/),n={};t.forEach(function(e){var t=e.split(": "),r=t.shift().toLowerCase(),o=t.join(": ");n[r]=o}),e.header=n,e.statusCode=_.status;try{e.data="blob"===d?_.response:JSON.parse(_.responseText)}catch(t){e.data="blob"===d?_.response:_.responseText}clearTimeout(i),o(e)}},t&&n._timeout&&(i=setTimeout(function(){console.warn(n._timeoutMsg),_.abort()},n._timeout)),s=c.isFormData(p)?p:"application/x-www-form-urlencoded"===l["content-type"]?c.toQueryString(p):y||(p?JSON.stringify(p):void 0),h&&(_.withCredentials=!0),_.send(s)})},t}(u.AbstractSDKRequest);t.WebRequest=l,t.genAdapter=function(){return{root:window,reqClass:l,wsClass:WebSocket,localStorage:localStorage,sessionStorage:sessionStorage}}},2595:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COMMUNITY_SITE_URL=t.IS_DEBUG_MODE=t.getProtocol=t.setProtocol=t.getSdkName=t.setSdkName=void 0;var n="@cloudbase/js-sdk";t.setSdkName=function(e){n=e},t.getSdkName=function(){return n};var r="undefined"!=typeof location&&"http:"===location.protocol?"http:":"https:";t.setProtocol=function(e){r=e},t.getProtocol=function(){return r},t.IS_DEBUG_MODE=!1,t.COMMUNITY_SITE_URL="https://support.qq.com/products/148793"},8511:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERRORS=void 0,t.ERRORS={INVALID_PARAMS:"INVALID_PARAMS",INVALID_SYNTAX:"INVALID_SYNTAX",INVALID_OPERATION:"INVALID_OPERATION",OPERATION_FAIL:"OPERATION_FAIL",NETWORK_ERROR:"NETWORK_ERROR",UNKOWN_ERROR:"UNKOWN_ERROR"}},6823:function(e,t,n){"use strict";var r=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},o=function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(2595),t),o(n(8511),t)},9891:function(e,t,n){"use strict";function r(e){var t=e.err,n=e.className,r=e.methodName,o=e.sourceLink;if(!o)return null;var i,s=t.stack.split("\n"),a=u?/^catchErrorsDecorator\/<\/descriptor.value@.*\d$/:new RegExp(n+"\\.descriptor.value\\s*\\[as\\s"+r+"\\]\\s*\\(.*\\)$"),c=u?/^catchErrorsDecorator\/<\/descriptor.value/:new RegExp(n+"\\.descriptor.value\\s*\\[as\\s"+r+"\\]"),l=s.findIndex(function(e){return a.test(e)});if(-1!==l){var p=s.filter(function(e,t){return t>l});p.unshift(s[l].replace(c,n+"."+r).replace(f,o)),(i=new Error).stack=(u?"@debugger":"Error")+"\n"+p.join("\n")}return i}var o=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=function(e,t){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,o,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0}),t.catchErrorsDecorator=void 0;var s=n(4224),a=n(6823),u=!1;"undefined"!=typeof navigator&&navigator.userAgent&&(u=-1!==navigator.userAgent.indexOf("Firefox"));var c=u?/(\.js\/)?__decorate(\$\d+)?<@.*\d$/:/(\/\w+\.js\.)?__decorate(\$\d+)?\s*\(.*\)$/,f=/https?\:\/\/.+\:\d*\/.*\.js\:\d+\:\d+/;t.catchErrorsDecorator=function(e){var t=e.mode,n=void 0===t?"async":t,u=e.customInfo,l=void 0===u?{}:u,p=e.title,d=e.messages,h=void 0===d?[]:d;return function(e,t,u){if(a.IS_DEBUG_MODE){var d=l.className||e.constructor.name,y=l.methodName||t,v=u.value,g=function(e){var t="",n=e.stack.split("\n"),r=n.findIndex(function(e){return c.test(e)});if(-1!==r){var o=f.exec(n[r+1]||"");t=o?o[0]:""}return t}(new Error);u.value="sync"===n?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r({err:new Error,className:d,methodName:y,sourceLink:g});try{return v.apply(this,e)}catch(e){var o=e,i=e.message,a={title:p||d+"."+y+" failed",content:[{type:"error",body:e}]};if(i&&/^\{.*\}$/.test(i)){var u=JSON.parse(i);a.subtitle=i,u.code&&(n?(n.code=u.code,n.msg=u.msg):(e.code=u.code,e.message=u.msg),o=n||e,a.content=h.map(function(e){return{type:"info",body:e}}))}throw s.printGroupLog(a),o}}:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(this,void 0,void 0,function(){var t,n,o,a,u,c;return i(this,function(i){switch(i.label){case 0:t=r({err:new Error,className:d,methodName:y,sourceLink:g}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,v.apply(this,e)];case 2:return[2,i.sent()];case 3:throw n=i.sent(),o=n,a=n.message,u={title:p||d+"."+y+" failed",content:[{type:"error",body:n}]},a&&/^\{.*\}$/.test(a)&&(c=JSON.parse(a),u.subtitle=c,c.code&&(t?(t.code=c.code,t.message=c.msg):(n.code=c.code,n.message=c.msg),o=t||n,u.content=h.map(function(e){return{type:"info",body:e}}))),s.printGroupLog(u),o;case 4:return[2]}})})}}}}},2647:function(e,t,n){"use strict";var r=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},o=function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(9891),t)},1895:function(e,t,n){"use strict";var r=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},o=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.helpers=t.utils=t.events=t.cache=t.adapters=t.constants=void 0;var s=i(n(6823));t.constants=s;var a=i(n(1825));t.adapters=a;var u=i(n(2208));t.cache=u;var c=i(n(4047));t.events=c;var f=i(n(4224));t.utils=f;var l=i(n(2647));t.helpers=l},2208:function(e,t,n){"use strict";function r(e,t){switch(e){case"local":return t.localStorage?t.localStorage:(c.printWarn(f.ERRORS.INVALID_PARAMS,"localStorage is not supported on current platform"),new l(t.root));case"none":return new l(t.root);case"session":return t.sessionStorage?t.sessionStorage:(c.printWarn(f.ERRORS.INVALID_PARAMS,"sessionStorage is not supported on current platform"),new l(t.root));default:return t.localStorage?t.localStorage:(c.printWarn(f.ERRORS.INVALID_PARAMS,"localStorage is not supported on current platform"),new l(t.root))}}var o,i=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},a=function(e,t){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,o,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0}),t.CloudbaseCache=void 0;var u=n(1588),c=n(4224),f=n(6823),l=function(e){function t(t){var n=e.call(this)||this;return n._root=t,t.tcbCacheObject||(t.tcbCacheObject={}),n}return i(t,e),t.prototype.setItem=function(e,t){this._root.tcbCacheObject[e]=t},t.prototype.getItem=function(e){return this._root.tcbCacheObject[e]},t.prototype.removeItem=function(e){delete this._root.tcbCacheObject[e]},t.prototype.clear=function(){delete this._root.tcbCacheObject},t}(u.AbstractStorage),p=function(){function e(e){this.keys={};var t=e.persistence,n=e.platformInfo,o=void 0===n?{}:n,i=e.keys,s=void 0===i?{}:i,a=e.alwaysLocalKeys,u=void 0===a?[]:a;this._platformInfo=o,this._alwaysLocalKeys=u,this._storage||(this._persistence=o.adapter.primaryStorage||t,this._storage=r(this._persistence,o.adapter),this.keys=s)}return Object.defineProperty(e.prototype,"mode",{get:function(){return this._storage.mode||"sync"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"persistence",{get:function(){return this._persistence},enumerable:!1,configurable:!0}),e.prototype.updatePersistence=function(e){if("async"!==this.mode){if(e!==this._persistence){var t="local"===this._persistence;this._persistence=e;var n=r(e,this._platformInfo.adapter);for(var o in this.keys){var i=this.keys[o];if(!t||!this._alwaysLocalKeys.includes(o)){var s=this._storage.getItem(i);c.isUndefined(s)||c.isNull(s)||(n.setItem(i,s),this._storage.removeItem(i))}}this._storage=n}}else c.printWarn(f.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use updatePersistenceAsync insteed")},e.prototype.updatePersistenceAsync=function(e){return s(this,void 0,void 0,function(){var t,n,o,i,s,u,f,l;return a(this,function(a){switch(a.label){case 0:if(e===this._persistence)return[2];for(i in t="local"===this._persistence,this._persistence=e,n=r(e,this._platformInfo.adapter),o=[],this.keys)o.push(i);s=0,a.label=1;case 1:return s<o.length?(u=o[s],f=this.keys[u],t&&this._alwaysLocalKeys.includes(u)?[3,4]:[4,this._storage.getItem(f)]):[3,5];case 2:return l=a.sent(),c.isUndefined(l)||c.isNull(l)?[3,4]:(n.setItem(f,l),[4,this._storage.removeItem(f)]);case 3:a.sent(),a.label=4;case 4:return s++,[3,1];case 5:return this._storage=n,[2]}})})},e.prototype.setStore=function(e,t,n){if("async"!==this.mode){if(this._storage)try{var r={version:n||"localCachev1",content:t};this._storage.setItem(e,JSON.stringify(r))}catch(e){throw new Error(JSON.stringify({code:f.ERRORS.OPERATION_FAIL,msg:"["+f.getSdkName()+"]["+f.ERRORS.OPERATION_FAIL+"]setStore failed",info:e}))}}else c.printWarn(f.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use setStoreAsync insteed")},e.prototype.setStoreAsync=function(e,t,n){return s(this,void 0,void 0,function(){var r;return a(this,function(o){switch(o.label){case 0:if(!this._storage)return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),r={version:n||"localCachev1",content:t},[4,this._storage.setItem(e,JSON.stringify(r))];case 2:return o.sent(),[3,4];case 3:return o.sent(),[2];case 4:return[2]}})})},e.prototype.getStore=function(e,t){var n;if("async"!==this.mode){try{if("undefined"!=typeof process&&(null===(n=process.env)||void 0===n?void 0:n.tcb_token))return process.env.tcb_token;if(!this._storage)return""}catch(e){return""}t=t||"localCachev1";var r=this._storage.getItem(e);return r&&r.indexOf(t)>=0?JSON.parse(r).content:""}c.printWarn(f.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use getStoreAsync insteed")},e.prototype.getStoreAsync=function(e,t){var n;return s(this,void 0,void 0,function(){var r;return a(this,function(o){switch(o.label){case 0:try{if("undefined"!=typeof process&&(null===(n=process.env)||void 0===n?void 0:n.tcb_token))return[2,process.env.tcb_token];if(!this._storage)return[2,""]}catch(e){return[2,""]}return t=t||"localCachev1",[4,this._storage.getItem(e)];case 1:return(r=o.sent())&&r.indexOf(t)>=0?[2,JSON.parse(r).content]:[2,""]}})})},e.prototype.removeStore=function(e){"async"!==this.mode?this._storage.removeItem(e):c.printWarn(f.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use removeStoreAsync insteed")},e.prototype.removeStoreAsync=function(e){return s(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,this._storage.removeItem(e)];case 1:return t.sent(),[2]}})})},e}();t.CloudbaseCache=p},4047:function(e,t,n){"use strict";var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.removeEventListener=t.activateEvent=t.addEventListener=t.CloudbaseEventEmitter=t.IErrorEvent=t.CloudbaseEvent=void 0;var s=n(4224),a=function(e,t){this.data=t||null,this.name=e};t.CloudbaseEvent=a;var u=function(e){function t(t,n){var r=e.call(this,"error",{error:t,data:n})||this;return r.error=t,r}return o(t,e),t}(a);t.IErrorEvent=u;var c=function(){function e(){this._listeners={}}return e.prototype.on=function(e,t){return function(e,t,n){n[e]=n[e]||[],n[e].push(t)}(e,t,this._listeners),this},e.prototype.off=function(e,t){return function(e,t,n){if(null==n?void 0:n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}(e,t,this._listeners),this},e.prototype.fire=function(e,t){if(s.isInstanceOf(e,u))return console.error(e.error),this;var n=s.isString(e)?new a(e,t||{}):e,r=n.name;if(this._listens(r)){n.target=this;for(var o=0,c=this._listeners[r]?i(this._listeners[r]):[];o<c.length;o++)c[o].call(this,n)}return this},e.prototype._listens=function(e){return this._listeners[e]&&this._listeners[e].length>0},e}();t.CloudbaseEventEmitter=c;var f=new c;t.addEventListener=function(e,t){f.on(e,t)},t.activateEvent=function(e,t){void 0===t&&(t={}),f.fire(e,t)},t.removeEventListener=function(e,t){f.off(e,t)}},4224:function(e,t,n){"use strict";function r(e){var t=s.default.stringify(e);return(t=(t=t.replace(/=+$/,"")).replace(/\+/g,"-")).replace(/\//g,"_")}var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.transformPhone=t.sleep=t.printGroupLog=t.throwError=t.printInfo=t.printError=t.printWarn=t.execCallback=t.createPromiseCallback=t.removeParam=t.getHash=t.getQuery=t.toQueryString=t.createSign=t.formatUrl=t.genSeqId=t.isFormData=t.isInstanceOf=t.isNull=t.isPalinObject=t.isUndefined=t.isString=t.isArray=void 0;var i=o(n(6443)),s=o(n(4544)),a=o(n(1801)),u=n(6823);t.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.isString=function(e){return"string"==typeof e},t.isUndefined=function(e){return void 0===e},t.isPalinObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.isNull=function(e){return"[object Null]"===Object.prototype.toString.call(e)},t.isInstanceOf=function(e,t){return e instanceof t},t.isFormData=function(e){return"[object FormData]"===Object.prototype.toString.call(e)},t.genSeqId=function(){return Math.random().toString(16).slice(2)},t.formatUrl=function(e,t,n){void 0===n&&(n={});var r=/\?/.test(t),o="";for(var i in n)""===o?!r&&(t+="?"):o+="&",o+=i+"="+encodeURIComponent(n[i]);return/^http(s)?\:\/\//.test(t+=o)?t:""+e+t},t.createSign=function(e,t){var n=r(a.default.parse(JSON.stringify({alg:"HS256",typ:"JWT"})))+"."+r(a.default.parse(JSON.stringify(e)));return n+"."+r(i.default(n,t))},t.toQueryString=function(e){void 0===e&&(e={});var t=[];for(var n in e)t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")},t.getQuery=function(e,t){if("undefined"==typeof window)return!1;var n=t||window.location.search,r=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),o=n.substr(n.indexOf("?")+1).match(r);return null!=o?o[2]:""},t.getHash=function(e){if("undefined"==typeof window)return"";var t=window.location.hash.match(new RegExp("[#?&/]"+e+"=([^&#]*)"));return t?t[1]:""},t.removeParam=function(e,t){var n=t.split("?")[0],r=[],o=-1!==t.indexOf("?")?t.split("?")[1]:"";if(""!==o){for(var i=(r=o.split("&")).length-1;i>=0;i-=1)r[i].split("=")[0]===e&&r.splice(i,1);n=n+"?"+r.join("&")}return n},t.createPromiseCallback=function(){var e;if(!Promise){(e=function(){}).promise={};var t=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var n=new Promise(function(t,n){e=function(e,r){return e?n(e):t(r)}});return e.promise=n,e},t.execCallback=function(e,t,n){if(void 0===n&&(n=null),e&&"function"==typeof e)return e(t,n);if(t)throw t;return n},t.printWarn=function(e,t){console.warn("["+u.getSdkName()+"]["+e+"]:"+t)},t.printError=function(e,t){console.error({code:e,msg:"["+u.getSdkName()+"]["+e+"]:"+t})},t.printInfo=function(e,t){console.log("["+u.getSdkName()+"]["+e+"]:"+t)},t.throwError=function(e,t){throw new Error(JSON.stringify({code:e,msg:"["+u.getSdkName()+"]["+e+"]:"+t}))},t.printGroupLog=function(e){var t=e.title,n=e.subtitle,r=void 0===n?"":n,o=e.content,i=void 0===o?[]:o,s=e.printTrace,a=void 0!==s&&s,u=e.collapsed;void 0!==u&&u?console.groupCollapsed(t,r):console.group(t,r);for(var c=0,f=i;c<f.length;c++){var l=f[c],p=l.type,d=l.body;switch(p){case"info":console.log(d);break;case"warn":console.warn(d);break;case"error":console.error(d)}}a&&console.trace("stack trace:"),console.groupEnd()},t.sleep=function(e){return void 0===e&&(e=0),new Promise(function(t){return setTimeout(t,e)})},t.transformPhone=function(e){return"+86"+e}},7567:function(e,t,n){"use strict";function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,t){return e(t={exports:{}},t.exports),t.exports}function i(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function s(e,t,n){for(var r,o,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(j[(o=r)>>18&63]+j[o>>12&63]+j[o>>6&63]+j[63&o]);return i.join("")}function a(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function c(e){return this instanceof c?(this.v=e,this):new c(e)}function f(e){if(!O(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(l(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,i=String(e).replace(te,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),s=r[n];n<o;s=r[++n])m(s)||!S(s)?i+=" "+s:i+=" "+l(s);return i}function l(e,t){var n={seen:[],stylize:d};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),_(t)?n.showHidden=t:t&&L(n,t),A(n.showHidden)&&(n.showHidden=!1),A(n.depth)&&(n.depth=2),A(n.colors)&&(n.colors=!1),A(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=p),h(n,e,n.depth)}function p(e,t){var n=l.styles[t];return n?"["+l.colors[n][0]+"m"+e+"["+l.colors[n][1]+"m":e}function d(e,t){return e}function h(e,t,n){if(e.customInspect&&t&&T(t.inspect)&&t.inspect!==l&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return O(r)||(r=h(e,r,n)),r}var o=function(e,t){if(A(t))return e.stylize("undefined","undefined");if(O(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return b(t)?e.stylize(""+t,"number"):_(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,t);if(o)return o;var i=Object.keys(t),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),N(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return y(t);if(0===i.length){if(T(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(w(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(E(t))return e.stylize(Date.prototype.toString.call(t),"date");if(N(t))return y(t)}var u,c="",f=!1,p=["{","}"];return g(t)&&(f=!0,p=["[","]"]),T(t)&&(c=" [Function"+(t.name?": "+t.name:"")+"]"),w(t)&&(c=" "+RegExp.prototype.toString.call(t)),E(t)&&(c=" "+Date.prototype.toUTCString.call(t)),N(t)&&(c=" "+y(t)),0!==i.length||f&&0!=t.length?n<0?w(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=f?function(e,t,n,r,o){for(var i=[],s=0,a=t.length;s<a;++s)D(t,String(s))?i.push(v(e,t,n,r,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(v(e,t,n,r,o,!0))}),i}(e,t,n,s,i):i.map(function(r){return v(e,t,n,s,r,f)}),e.seen.pop(),function(e,t,n){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(u,c,p)):p[0]+c+p[1]}function y(e){return"["+Error.prototype.toString.call(e)+"]"}function v(e,t,n,r,o,i){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),D(r,o)||(s="["+o+"]"),a||(e.seen.indexOf(u.value)<0?(a=m(n)?h(e,u.value,null):h(e,u.value,n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),A(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function g(e){return Array.isArray(e)}function _(e){return"boolean"==typeof e}function m(e){return null===e}function b(e){return"number"==typeof e}function O(e){return"string"==typeof e}function A(e){return void 0===e}function w(e){return S(e)&&"[object RegExp]"===I(e)}function S(e){return"object"===babelHelpers.typeof(e)&&null!==e}function E(e){return S(e)&&"[object Date]"===I(e)}function N(e){return S(e)&&("[object Error]"===I(e)||e instanceof Error)}function T(e){return"function"==typeof e}function I(e){return Object.prototype.toString.call(e)}function B(e){return e<10?"0"+e.toString(10):e.toString(10)}function P(){var e=new Date,t=[B(e.getHours()),B(e.getMinutes()),B(e.getSeconds())].join(":");return[e.getDate(),re[e.getMonth()],t].join(" ")}function L(e,t){if(!t||!S(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var R=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.setInternalBufferSize=t.serializeWithBufferAndIndex=t.serialize=t.deserializeStream=t.deserialize=t.calculateObjectSize=t.Timestamp=t.ObjectId=t.ObjectID=t.MinKey=t.MaxKey=t.Map=t.LongWithoutOverridesClass=t.Long=t.Int32=t.EJSON=t.Double=t.Decimal128=t.DBRef=t.Code=t.Binary=t.BSON_INT64_MIN=t.BSON_INT64_MAX=t.BSON_INT32_MIN=t.BSON_INT32_MAX=t.BSON_DATA_UNDEFINED=t.BSON_DATA_TIMESTAMP=t.BSON_DATA_SYMBOL=t.BSON_DATA_STRING=t.BSON_DATA_REGEXP=t.BSON_DATA_OID=t.BSON_DATA_OBJECT=t.BSON_DATA_NUMBER=t.BSON_DATA_NULL=t.BSON_DATA_MIN_KEY=t.BSON_DATA_MAX_KEY=t.BSON_DATA_LONG=t.BSON_DATA_INT=t.BSON_DATA_DECIMAL128=t.BSON_DATA_DBPOINTER=t.BSON_DATA_DATE=t.BSON_DATA_CODE_W_SCOPE=t.BSON_DATA_CODE=t.BSON_DATA_BOOLEAN=t.BSON_DATA_BINARY=t.BSON_DATA_ARRAY=t.BSON_BINARY_SUBTYPE_UUID_NEW=t.BSON_BINARY_SUBTYPE_UUID=t.BSON_BINARY_SUBTYPE_USER_DEFINED=t.BSON_BINARY_SUBTYPE_MD5=t.BSON_BINARY_SUBTYPE_FUNCTION=t.BSON_BINARY_SUBTYPE_DEFAULT=t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=t.BSONSymbol=t.BSONRegExp=t.default=void 0;for(var M=R(n(3988)),C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},x=function(e){var t=i(e),n=t[0],r=t[1];return 3*(n+r)/4-r},k=function(e){
var t,n,r=i(e),o=r[0],s=r[1],a=new $(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),u=0,c=s>0?o-4:o;for(n=0;n<c;n+=4)t=Y[e.charCodeAt(n)]<<18|Y[e.charCodeAt(n+1)]<<12|Y[e.charCodeAt(n+2)]<<6|Y[e.charCodeAt(n+3)],a[u++]=t>>16&255,a[u++]=t>>8&255,a[u++]=255&t;return 2===s&&(t=Y[e.charCodeAt(n)]<<2|Y[e.charCodeAt(n+1)]>>4,a[u++]=255&t),1===s&&(t=Y[e.charCodeAt(n)]<<10|Y[e.charCodeAt(n+1)]<<4|Y[e.charCodeAt(n+2)]>>2,a[u++]=t>>8&255,a[u++]=255&t),a},U=function(e){for(var t,n=e.length,r=n%3,o=[],i=16383,a=0,u=n-r;a<u;a+=i)o.push(s(e,a,a+i>u?u:a+i));return 1===r?(t=e[n-1],o.push(j[t>>2]+j[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(j[t>>10]+j[t>>4&63]+j[t<<2&63]+"=")),o.join("")},j=[],Y=[],$="undefined"!=typeof Uint8Array?Uint8Array:Array,q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F=0,G=q.length;F<G;++F)j[F]=q[F],Y[q.charCodeAt(F)]=F;Y["-".charCodeAt(0)]=62,Y["_".charCodeAt(0)]=63;var W,z={byteLength:x,toByteArray:k,fromByteArray:U},H=function(e,t,n,r,o){var i,s,a=8*o-r-1,u=(1<<a)-1,c=u>>1,f=-7,l=n?o-1:0,p=n?-1:1,d=e[t+l];for(l+=p,i=d&(1<<-f)-1,d>>=-f,f+=a;f>0;i=256*i+e[t+l],l+=p,f-=8);for(s=i&(1<<-f)-1,i>>=-f,f+=r;f>0;s=256*s+e[t+l],l+=p,f-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),i-=c}return(d?-1:1)*s*Math.pow(2,i-r)},V=function(e,t,n,r,o,i){var s,a,u,c=8*i-o-1,f=(1<<c)-1,l=f>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,h=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+l>=1?p/u:p*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,o),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,o),s=0));o>=8;e[n+d]=255&a,d+=h,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[n+d]=255&s,d+=h,s/=256,c-=8);e[n+d-h]|=128*y},K=o(function(e,t){function n(e){if(e>U)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,r.prototype),t}function r(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return s(e)}return o(e,t,n)}function o(e,t,o){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!r.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var o=0|f(e,t),i=n(o),s=i.write(e,t);return s!==o&&(i=i.slice(0,s)),i}(e,t);if(ArrayBuffer.isView(e))return a(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(e));if(C(e,ArrayBuffer)||e&&C(e.buffer,ArrayBuffer))return u(e,t,o);if("undefined"!=typeof SharedArrayBuffer&&(C(e,SharedArrayBuffer)||e&&C(e.buffer,SharedArrayBuffer)))return u(e,t,o);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return r.from(i,t,o);var s=function(e){if(r.isBuffer(e)){var t=0|c(e.length),o=n(t);return 0===o.length||e.copy(o,0,0,t),o}return void 0!==e.length?"number"!=typeof e.length||x(e.length)?n(0):a(e):"Buffer"===e.type&&Array.isArray(e.data)?a(e.data):void 0}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return r.from(e[Symbol.toPrimitive]("string"),t,o);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(e))}function i(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function s(e){return i(e),n(e<0?0:0|c(e))}function a(e){for(var t=e.length<0?0:0|c(e.length),r=n(t),o=0;o<t;o+=1)r[o]=255&e[o];return r}function u(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var o;return o=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(o,r.prototype),o}function c(e){if(e>=U)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+U.toString(16)+" bytes");return 0|e}function f(e,t){if(r.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||C(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(e));var n=e.length,o=arguments.length>2&&!0===arguments[2];if(!o&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return R(e).length;default:if(i)return o?-1:D(e).length;t=(""+t).toLowerCase(),i=!0}}function l(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return w(this,t,n);case"latin1":case"binary":return S(this,t,n);case"base64":return O(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function p(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function d(e,t,n,o,i){if(0===e.length)return-1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),x(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=r.from(t,o)),r.isBuffer(t))return 0===t.length?-1:h(e,t,n,o,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):h(e,[t],n,o,i);throw new TypeError("val must be string, number or Buffer")}function h(e,t,n,r,o){function i(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var s,a=1,u=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,u/=2,c/=2,n/=2}if(o){var f=-1;for(s=n;s<u;s++)if(i(e,s)===i(t,-1===f?0:s-f)){if(-1===f&&(f=s),s-f+1===c)return f*a}else-1!==f&&(s-=s-f),f=-1}else for(n+c>u&&(n=u-c),s=n;s>=0;s--){for(var l=!0,p=0;p<c;p++)if(i(e,s+p)!==i(t,p)){l=!1;break}if(l)return s}return-1}function y(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(x(a))return s;e[n+s]=a}return s}function v(e,t,n,r){return M(D(t,e.length-n),e,n,r)}function g(e,t,n,r){return M(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return g(e,t,n,r)}function m(e,t,n,r){return M(R(t),e,n,r)}function b(e,t,n,r){return M(function(e,t){for(var n,r,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function O(e,t,n){return 0===t&&n===e.length?z.fromByteArray(e):z.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,s,a,u,c=e[o],f=null,l=c>239?4:c>223?3:c>191?2:1;if(o+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(f=u);break;case 3:i=e[o+1],s=e[o+2],128==(192&i)&&128==(192&s)&&(u=(15&c)<<12|(63&i)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:i=e[o+1],s=e[o+2],a=e[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),o+=l}return function(e){var t=e.length;if(t<=j)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=j));return n}(r)}function w(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function S(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function E(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=$[e[i]];return o}function N(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function T(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,o,i,s){if(!r.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+o>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(e,t,n,r,o){return t=+t,n>>>=0,o||B(e,0,n,4),V(e,t,n,r,23,4),n+4}function L(e,t,n,r,o){return t=+t,n>>>=0,o||B(e,0,n,8),V(e,t,n,r,52,8),n+8}function D(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function R(e){return z.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(Y,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function M(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function C(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function x(e){return e!=e}var k="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=r,t.SlowBuffer=function(e){return+e!=e&&(e=0),r.alloc(+e)},t.INSPECT_MAX_BYTES=50;var U=2147483647;t.kMaxLength=U,r.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),r.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){return r.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){return r.isBuffer(this)?this.byteOffset:void 0}}),r.poolSize=8192,r.from=function(e,t,n){return o(e,t,n)},Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array),r.alloc=function(e,t,r){return function(e,t,r){return i(e),e<=0?n(e):void 0!==t?"string"==typeof r?n(e).fill(t,r):n(e).fill(t):n(e)}(e,t,r)},r.allocUnsafe=function(e){return s(e)},r.allocUnsafeSlow=function(e){return s(e)},r.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==r.prototype},r.compare=function(e,t){if(C(e,Uint8Array)&&(e=r.from(e,e.offset,e.byteLength)),C(t,Uint8Array)&&(t=r.from(t,t.offset,t.byteLength)),!r.isBuffer(e)||!r.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,o=t.length,i=0,s=Math.min(n,o);i<s;++i)if(e[i]!==t[i]){n=e[i],o=t[i];break}return n<o?-1:o<n?1:0},r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return r.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var o=r.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(C(s,Uint8Array)&&(s=r.from(s)),!r.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(o,i),i+=s.length}return o},r.byteLength=f,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},r.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},r.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},r.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):l.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(e){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===r.compare(this,e)},r.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},k&&(r.prototype[k]=r.prototype.inspect),r.prototype.compare=function(e,t,n,o,i){if(C(e,Uint8Array)&&(e=r.from(e,e.offset,e.byteLength)),!r.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(e));if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===o&&(o=0),void 0===i&&(i=this.length),t<0||n>e.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&t>=n)return 0;if(o>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(o>>>=0),a=(n>>>=0)-(t>>>=0),u=Math.min(s,a),c=this.slice(o,i),f=e.slice(t,n),l=0;l<u;++l)if(c[l]!==f[l]){s=c[l],a=f[l];break}return s<a?-1:a<s?1:0},r.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},r.prototype.indexOf=function(e,t,n){return d(this,e,t,n,!0)},r.prototype.lastIndexOf=function(e,t,n){return d(this,e,t,n,!1)},r.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return g(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return m(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var j=4096;r.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var o=this.subarray(e,t);return Object.setPrototypeOf(o,r.prototype),o},r.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||T(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},r.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||T(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},r.prototype.readUInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),this[e]},r.prototype.readUInt16LE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]|this[e+1]<<8},r.prototype.readUInt16BE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]<<8|this[e+1]},r.prototype.readUInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},r.prototype.readUInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},r.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||T(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},r.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||T(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},r.prototype.readInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},r.prototype.readInt16LE=function(e,t){e>>>=0,t||T(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt16BE=function(e,t){e>>>=0,t||T(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},r.prototype.readInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},r.prototype.readFloatLE=function(e,t){return e>>>=0,t||T(e,4,this.length),H(this,e,!0,23,4)},r.prototype.readFloatBE=function(e,t){return e>>>=0,t||T(e,4,this.length),H(this,e,!1,23,4)},r.prototype.readDoubleLE=function(e,t){return e>>>=0,t||T(e,8,this.length),H(this,e,!0,52,8)},r.prototype.readDoubleBE=function(e,t){return e>>>=0,t||T(e,8,this.length),H(this,e,!1,52,8)},r.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},r.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},r.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,1,255,0),this[t]=255&e,t+1},r.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},r.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},r.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},r.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},r.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},r.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},r.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},r.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},r.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},r.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},r.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},r.prototype.writeFloatLE=function(e,t,n){return P(this,e,t,!0,n)},r.prototype.writeFloatBE=function(e,t,n){return P(this,e,t,!1,n)},r.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},r.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},r.prototype.copy=function(e,t,n,o){if(!r.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),o||0===o||(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-n&&(o=e.length-t+n);var i=o-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,o);else if(this===e&&n<t&&t<o)for(var s=i-1;s>=0;--s)e[s+t]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,o),t);return i},r.prototype.fill=function(e,t,n,o){if("string"==typeof e){if("string"==typeof t?(o=t,t=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!r.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(1===e.length){var i=e.charCodeAt(0);("utf8"===o&&i<128||"latin1"===o)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var a=r.isBuffer(e)?e:r.from(e,o),u=a.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=a[s%u]}return this};var Y=/[^+/0-9A-Za-z-_]/g,$=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,o=0;o<16;++o)t[r+o]=e[n]+e[o];return t}()}),J=(K.Buffer,K.SlowBuffer,K.INSPECT_MAX_BYTES,K.kMaxLength,function(e,t){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)}),Q=function(){return(Q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},X=Object.freeze({__proto__:null,__extends:function(e,t){function n(){this.constructor=e}J(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},get __assign(){return Q},__rest:function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},__decorate:function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":babelHelpers.typeof(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},__param:function(e,t){return function(n,r){t(n,r,e)}},__metadata:function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":babelHelpers.typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},__generator:function(e,t){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,o,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},__createBinding:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},__exportStar:function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])},__values:a,__read:u,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},__await:c,__asyncGenerator:function(e,t,n){function r(e){f[e]&&(u[e]=function(t){return new Promise(function(n,r){l.push([e,t,n,r])>1||o(e,t)})})}function o(e,t){try{(n=f[e](t)).value instanceof c?Promise.resolve(n.value.v).then(i,s):a(l[0][2],n)}catch(e){a(l[0][3],e)}var n}function i(e){o("next",e)}function s(e){o("throw",e)}function a(e,t){e(t),l.shift(),l.length&&o(l[0][0],l[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,f=n.apply(e,t||[]),l=[];return u={},r("next"),r("throw"),r("return"),u[Symbol.asyncIterator]=function(){return this},u},__asyncDelegator:function(e){function t(t,o){n[t]=e[t]?function(n){return(r=!r)?{value:c(e[t](n)),done:"return"===t}:o?o(n):n}:o}var n,r;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n},__asyncValues:function(e){function t(t){n[t]=e[t]&&function(n){return new Promise(function(r,o){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,o,(n=e[t](n)).done,n.value)})}}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=e[Symbol.asyncIterator];return r?r.call(e):(e=a(e),n={},t("next"),t("throw"),t("return"),n[Symbol.asyncIterator]=function(){return this},n)},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}}),Z={},ee="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},te=/%[sdj%]/g,ne={};l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var re=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],oe={inherits:ee,_extend:L,log:function(){console.log("%s - %s",P(),f.apply(null,arguments))},isBuffer:function(e){return Buffer.isBuffer(e)},isPrimitive:function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===babelHelpers.typeof(e)||void 0===e},isFunction:T,isError:N,isDate:E,isObject:S,isRegExp:w,isUndefined:A,isSymbol:function(e){return"symbol"===babelHelpers.typeof(e)},isString:O,isNumber:b,isNullOrUndefined:function(e){return null==e},isNull:m,isBoolean:_,isArray:g,inspect:l,deprecate:function e(t,r){if(A(n.g.process))return function(){return e(t,r).apply(this,arguments)};var o=!1;return function(){return o||(console.error(r),o=!0),t.apply(this,arguments)}},format:f,debuglog:function(e){return A(W)&&(W=""),e=e.toUpperCase(),ne[e]||(new RegExp("\\b"+e+"\\b","i").test(W)?ne[e]=function(){var t=f.apply(null,arguments);console.error("%s %d: %s",e,0,t)}:ne[e]=function(){}),ne[e]}},ie=o(function(e,t){function n(e){for(var t=K.Buffer.alloc(e),n=0;n<e;++n)t[n]=Math.floor(256*Math.random());return t}function r(e){return"object"===(0,M.default)(e)&&null!==e}if(Object.defineProperty(t,"__esModule",{value:!0}),t.deprecate=t.isObjectLike=t.isDate=t.isBuffer=t.haveBuffer=t.isBigUInt64Array=t.isBigInt64Array=t.isUint8Array=t.randomBytes=t.normalizedFunctionString=void 0,t.normalizedFunctionString=function(e){return e.toString().replace("function(","function (")},t.randomBytes=n,"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues)t.randomBytes=function(e){return window.crypto.getRandomValues(K.Buffer.alloc(e))};else{try{t.randomBytes=Z.randomBytes}catch(e){}null==t.randomBytes&&(t.randomBytes=n)}t.isUint8Array=function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},t.isBigInt64Array=function(e){return"[object BigInt64Array]"===Object.prototype.toString.call(e)},t.isBigUInt64Array=function(e){return"[object BigUint64Array]"===Object.prototype.toString.call(e)},t.haveBuffer=function(){return void 0!==C&&void 0!==C.Buffer},t.isBuffer=function(e){var t;return"object"===(0,M.default)(e)&&"Buffer"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)},t.isDate=function(e){return r(e)&&"[object Date]"===Object.prototype.toString.call(e)},t.isObjectLike=r,t.deprecate=function(e,t){if("undefined"==typeof window&&"undefined"==typeof self)return oe.deprecate(e,t);var n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(console.warn(t),n=!0),e.apply.apply(e,X.__spreadArrays([this],r))}}});r(ie),ie.deprecate,ie.isObjectLike,ie.isDate,ie.isBuffer,ie.haveBuffer,ie.isBigUInt64Array,ie.isBigInt64Array,ie.isUint8Array,ie.randomBytes,ie.normalizedFunctionString;var se=o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ensureBuffer=void 0,t.ensureBuffer=function(e){if(ie.isBuffer(e))return e;if(ArrayBuffer.isView(e))return K.Buffer.from(e.buffer);if(e instanceof ArrayBuffer)return K.Buffer.from(e);throw new TypeError("Must use either Buffer or TypedArray")}});r(se),se.ensureBuffer;var ae=o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseUUID=void 0;var n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.parseUUID=function(e){if("string"!=typeof e)throw new TypeError("Invalid type for UUID, expected string but got "+(0,M.default)(e));if(!n.test(e))throw new TypeError("Invalid format for UUID: "+e);var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,
r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}});r(ae),ae.parseUUID;var ue=o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Binary=void 0;var n=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);if(!(null==t||"string"==typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||Array.isArray(t)))throw new TypeError("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=null!=n?n:e.BSON_BINARY_SUBTYPE_DEFAULT,null==t?(this.buffer=K.Buffer.alloc(e.BUFFER_SIZE),this.position=0):("string"==typeof t?this.buffer=K.Buffer.from(t,"binary"):Array.isArray(t)?this.buffer=K.Buffer.from(t):this.buffer=se.ensureBuffer(t),this.position=this.buffer.byteLength)}return e.prototype.put=function(t){if("string"==typeof t&&1!==t.length)throw new TypeError("only accepts single character String");if("number"!=typeof t&&1!==t.length)throw new TypeError("only accepts single character Uint8Array or Array");var n;if((n="string"==typeof t?t.charCodeAt(0):"number"==typeof t?t:t[0])<0||n>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=n;else{var r=K.Buffer.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r,this.buffer[this.position++]=n}},e.prototype.write=function(e,t){if(t="number"==typeof t?t:this.position,this.buffer.length<t+e.length){var n=K.Buffer.alloc(this.buffer.length+e.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n}ArrayBuffer.isView(e)?(this.buffer.set(se.ensureBuffer(e),t),this.position=t+e.byteLength>this.position?t+e.length:this.position):"string"==typeof e&&(this.buffer.write(e,t,e.length,"binary"),this.position=t+e.length>this.position?t+e.length:this.position)},e.prototype.read=function(e,t){return t=t&&t>0?t:this.position,this.buffer.slice(e,e+t)},e.prototype.value=function(e){return(e=!!e)&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},e.prototype.length=function(){return this.position},e.prototype.toJSON=function(){return this.buffer.toString("base64")},e.prototype.toString=function(e){return this.buffer.toString(e)},e.prototype.toExtendedJSON=function(e){e=e||{};var t=this.buffer.toString("base64"),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:t,$type:1===n.length?"0"+n:n}:{$binary:{base64:t,subType:1===n.length?"0"+n:n}}},e.fromExtendedJSON=function(t,n){var r,o;if(n=n||{},"$binary"in t?n.legacy&&"string"==typeof t.$binary&&"$type"in t?(o=t.$type?parseInt(t.$type,16):0,r=K.Buffer.from(t.$binary,"base64")):"string"!=typeof t.$binary&&(o=t.$binary.subType?parseInt(t.$binary.subType,16):0,r=K.Buffer.from(t.$binary.base64,"base64")):"$uuid"in t&&(o=4,r=K.Buffer.from(ae.parseUUID(t.$uuid))),!r)throw new TypeError("Unexpected Binary Extended JSON format "+JSON.stringify(t));return new e(r,o)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Binary(Buffer.from("'+this.value(!0).toString("hex")+'", "hex"), '+this.sub_type+")"},e.BSON_BINARY_SUBTYPE_DEFAULT=0,e.BUFFER_SIZE=256,e.SUBTYPE_DEFAULT=0,e.SUBTYPE_FUNCTION=1,e.SUBTYPE_BYTE_ARRAY=2,e.SUBTYPE_UUID_OLD=3,e.SUBTYPE_UUID=4,e.SUBTYPE_MD5=5,e.SUBTYPE_USER_DEFINED=128,e}();t.Binary=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Binary"})});r(ue),ue.Binary;var ce=o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Code=void 0;var n=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);this.code=t,this.scope=n}return e.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},e.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},e.fromExtendedJSON=function(t){return new e(t.$code,t.$scope)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var e=this.toJSON();return'new Code("'+e.code+'"'+(e.scope?", "+JSON.stringify(e.scope):"")+")"},e}();t.Code=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Code"})});r(ce),ce.Code;var fe=o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DBRef=t.isDBRefLike=void 0,t.isDBRefLike=function(e){return ie.isObjectLike(e)&&null!=e.$id&&null!=e.$ref};var n=function(){function e(t,n,r,o){if(!(this instanceof e))return new e(t,n,r,o);var i=t.split(".");2===i.length&&(r=i.shift(),t=i.shift()),this.collection=t,this.oid=n,this.db=r,this.fields=o||{}}return Object.defineProperty(e.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e},e.prototype.toExtendedJSON=function(e){e=e||{};var t={$ref:this.collection,$id:this.oid};return e.legacy?t:(this.db&&(t.$db=this.db),t=Object.assign(t,this.fields))},e.fromExtendedJSON=function(t){var n=Object.assign({},t);return delete n.$ref,delete n.$id,delete n.$db,new e(t.$ref,t.$id,t.$db,n)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var e=void 0===this.oid||void 0===this.oid.toString?this.oid:this.oid.toString();return'new DBRef("'+this.namespace+'", new ObjectId("'+e+'")'+(this.db?', "'+this.db+'"':"")+")"},e}();t.DBRef=n,Object.defineProperty(n.prototype,"_bsontype",{value:"DBRef"})});r(fe),fe.DBRef,fe.isDBRefLike;var le=o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Long=void 0;var n=void 0;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}var r=4294967296,o=0x10000000000000000,i=o/2,s={},a={},u=function(){function e(t,n,r){if(void 0===t&&(t=0),void 0===n&&(n=0),!(this instanceof e))return new e(t,n,r);this.low=0|t,this.high=0|n,this.unsigned=!!r,Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return e.fromBits=function(t,n,r){return new e(t,n,r)},e.fromInt=function(t,n){var r,o,i;return n?(i=0<=(t>>>=0)&&t<256)&&(o=a[t])?o:(r=e.fromBits(t,(0|t)<0?-1:0,!0),i&&(a[t]=r),r):(i=-128<=(t|=0)&&t<128)&&(o=s[t])?o:(r=e.fromBits(t,t<0?-1:0,!1),i&&(s[t]=r),r)},e.fromNumber=function(t,n){if(isNaN(t))return n?e.UZERO:e.ZERO;if(n){if(t<0)return e.UZERO;if(t>=o)return e.MAX_UNSIGNED_VALUE}else{if(t<=-i)return e.MIN_VALUE;if(t+1>=i)return e.MAX_VALUE}return t<0?e.fromNumber(-t,n).neg():e.fromBits(t%r|0,t/r|0,n)},e.fromBigInt=function(t,n){return e.fromString(t.toString(),n)},e.fromString=function(t,n,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if("number"==typeof n?(r=n,n=!1):n=!!n,(r=r||10)<2||36<r)throw RangeError("radix");var o;if((o=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===o)return e.fromString(t.substring(1),n,r).neg();for(var i=e.fromNumber(Math.pow(r,8)),s=e.ZERO,a=0;a<t.length;a+=8){var u=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+u),r);if(u<8){var f=e.fromNumber(Math.pow(r,u));s=s.mul(f).add(e.fromNumber(c))}else s=(s=s.mul(i)).add(e.fromNumber(c))}return s.unsigned=n,s},e.fromBytes=function(t,n,r){return r?e.fromBytesLE(t,n):e.fromBytesBE(t,n)},e.fromBytesLE=function(t,n){return new e(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},e.fromBytesBE=function(t,n){return new e(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)},e.isLong=function(e){return ie.isObjectLike(e)&&!0===e.__isLong__},e.fromValue=function(t,n){return"number"==typeof t?e.fromNumber(t,n):"string"==typeof t?e.fromString(t,n):e.fromBits(t.low,t.high,"boolean"==typeof n?n:t.unsigned)},e.prototype.add=function(t){e.isLong(t)||(t=e.fromValue(t));var n=this.high>>>16,r=65535&this.high,o=this.low>>>16,i=65535&this.low,s=t.high>>>16,a=65535&t.high,u=t.low>>>16,c=0,f=0,l=0,p=0;return l+=(p+=i+(65535&t.low))>>>16,p&=65535,f+=(l+=o+u)>>>16,l&=65535,c+=(f+=r+a)>>>16,f&=65535,c+=n+s,c&=65535,e.fromBits(l<<16|p,c<<16|f,this.unsigned)},e.prototype.and=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low&t.low,this.high&t.high,this.unsigned)},e.prototype.compare=function(t){if(e.isLong(t)||(t=e.fromValue(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},e.prototype.comp=function(e){return this.compare(e)},e.prototype.divide=function(t){if(e.isLong(t)||(t=e.fromValue(t)),t.isZero())throw Error("division by zero");if(n){if(!this.unsigned&&-2147483648===this.high&&-1===t.low&&-1===t.high)return this;var r=(this.unsigned?n.div_u:n.div_s)(this.low,this.high,t.low,t.high);return e.fromBits(r,n.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?e.UZERO:e.ZERO;var o,i,s;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return e.UZERO;if(t.gt(this.shru(1)))return e.UONE;s=e.UZERO}else{if(this.eq(e.MIN_VALUE))return t.eq(e.ONE)||t.eq(e.NEG_ONE)?e.MIN_VALUE:t.eq(e.MIN_VALUE)?e.ONE:(o=this.shr(1).div(t).shl(1)).eq(e.ZERO)?t.isNegative()?e.ONE:e.NEG_ONE:(i=this.sub(t.mul(o)),s=o.add(i.div(t)));if(t.eq(e.MIN_VALUE))return this.unsigned?e.UZERO:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();s=e.ZERO}for(i=this;i.gte(t);){o=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var a=Math.ceil(Math.log(o)/Math.LN2),u=a<=48?1:Math.pow(2,a-48),c=e.fromNumber(o),f=c.mul(t);f.isNegative()||f.gt(i);)o-=u,f=(c=e.fromNumber(o,this.unsigned)).mul(t);c.isZero()&&(c=e.ONE),s=s.add(c),i=i.sub(f)}return s},e.prototype.div=function(e){return this.divide(e)},e.prototype.equals=function(t){return e.isLong(t)||(t=e.fromValue(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},e.prototype.eq=function(e){return this.equals(e)},e.prototype.getHighBits=function(){return this.high},e.prototype.getHighBitsUnsigned=function(){return this.high>>>0},e.prototype.getLowBits=function(){return this.low},e.prototype.getLowBitsUnsigned=function(){return this.low>>>0},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(e.MIN_VALUE)?64:this.neg().getNumBitsAbs();var t,n=0!==this.high?this.high:this.low;for(t=31;t>0&&0==(n&1<<t);t--);return 0!==this.high?t+33:t+1},e.prototype.greaterThan=function(e){return this.comp(e)>0},e.prototype.gt=function(e){return this.greaterThan(e)},e.prototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},e.prototype.gte=function(e){return this.greaterThanOrEqual(e)},e.prototype.ge=function(e){return this.greaterThanOrEqual(e)},e.prototype.isEven=function(){return 0==(1&this.low)},e.prototype.isNegative=function(){return!this.unsigned&&this.high<0},e.prototype.isOdd=function(){return 1==(1&this.low)},e.prototype.isPositive=function(){return this.unsigned||this.high>=0},e.prototype.isZero=function(){return 0===this.high&&0===this.low},e.prototype.lessThan=function(e){return this.comp(e)<0},e.prototype.lt=function(e){return this.lessThan(e)},e.prototype.lessThanOrEqual=function(e){return this.comp(e)<=0},e.prototype.lte=function(e){return this.lessThanOrEqual(e)},e.prototype.modulo=function(t){if(e.isLong(t)||(t=e.fromValue(t)),n){var r=(this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,t.low,t.high);return e.fromBits(r,n.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))},e.prototype.mod=function(e){return this.modulo(e)},e.prototype.rem=function(e){return this.modulo(e)},e.prototype.multiply=function(t){if(this.isZero())return e.ZERO;if(e.isLong(t)||(t=e.fromValue(t)),n){var r=n.mul(this.low,this.high,t.low,t.high);return e.fromBits(r,n.get_high(),this.unsigned)}if(t.isZero())return e.ZERO;if(this.eq(e.MIN_VALUE))return t.isOdd()?e.MIN_VALUE:e.ZERO;if(t.eq(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(e.TWO_PWR_24)&&t.lt(e.TWO_PWR_24))return e.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var o=this.high>>>16,i=65535&this.high,s=this.low>>>16,a=65535&this.low,u=t.high>>>16,c=65535&t.high,f=t.low>>>16,l=65535&t.low,p=0,d=0,h=0,y=0;return h+=(y+=a*l)>>>16,y&=65535,d+=(h+=s*l)>>>16,h&=65535,d+=(h+=a*f)>>>16,h&=65535,p+=(d+=i*l)>>>16,d&=65535,p+=(d+=s*f)>>>16,d&=65535,p+=(d+=a*c)>>>16,d&=65535,p+=o*l+i*f+s*c+a*u,p&=65535,e.fromBits(h<<16|y,p<<16|d,this.unsigned)},e.prototype.mul=function(e){return this.multiply(e)},e.prototype.negate=function(){return!this.unsigned&&this.eq(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.neg=function(){return this.negate()},e.prototype.not=function(){return e.fromBits(~this.low,~this.high,this.unsigned)},e.prototype.notEquals=function(e){return!this.equals(e)},e.prototype.neq=function(e){return this.notEquals(e)},e.prototype.ne=function(e){return this.notEquals(e)},e.prototype.or=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low|t.low,this.high|t.high,this.unsigned)},e.prototype.shiftLeft=function(t){return e.isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?e.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):e.fromBits(0,this.low<<t-32,this.unsigned)},e.prototype.shl=function(e){return this.shiftLeft(e)},e.prototype.shiftRight=function(t){return e.isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?e.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):e.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},e.prototype.shr=function(e){return this.shiftRight(e)},e.prototype.shiftRightUnsigned=function(t){if(e.isLong(t)&&(t=t.toInt()),0==(t&=63))return this;var n=this.high;if(t<32){var r=this.low;return e.fromBits(r>>>t|n<<32-t,n>>>t,this.unsigned)}return 32===t?e.fromBits(n,0,this.unsigned):e.fromBits(n>>>t-32,0,this.unsigned)},e.prototype.shr_u=function(e){return this.shiftRightUnsigned(e)},e.prototype.shru=function(e){return this.shiftRightUnsigned(e)},e.prototype.subtract=function(t){return e.isLong(t)||(t=e.fromValue(t)),this.add(t.neg())},e.prototype.sub=function(e){return this.subtract(e)},e.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},e.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*r+(this.low>>>0):this.high*r+(this.low>>>0)},e.prototype.toBigInt=function(){return BigInt(this.toString())},e.prototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},e.prototype.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},e.prototype.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},e.prototype.toSigned=function(){return this.unsigned?e.fromBits(this.low,this.high,!1):this},e.prototype.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(e.MIN_VALUE)){var n=e.fromNumber(t),r=this.div(n),o=r.mul(n).sub(this);return r.toString(t)+o.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=e.fromNumber(Math.pow(t,6),this.unsigned),s=this,a="";;){var u=s.div(i),c=(s.sub(u.mul(i)).toInt()>>>0).toString(t);if((s=u).isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},e.prototype.toUnsigned=function(){return this.unsigned?this:e.fromBits(this.low,this.high,!0)},e.prototype.xor=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low^t.low,this.high^t.high,this.unsigned)},e.prototype.eqz=function(){return this.isZero()},e.prototype.le=function(e){return this.lessThanOrEqual(e)},e.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},e.fromExtendedJSON=function(t,n){var r=e.fromString(t.$numberLong);return n&&n.relaxed?r.toNumber():r},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Long("'+this.toString()+'")'},e.TWO_PWR_24=e.fromInt(16777216),e.MAX_UNSIGNED_VALUE=e.fromBits(-1,-1,!0),e.ZERO=e.fromInt(0),e.UZERO=e.fromInt(0,!0),e.ONE=e.fromInt(1),e.UONE=e.fromInt(1,!0),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647,!1),e.MIN_VALUE=e.fromBits(0,-2147483648,!1),e}();t.Long=u,Object.defineProperty(u.prototype,"__isLong__",{value:!0}),Object.defineProperty(u.prototype,"_bsontype",{value:"Long"})});r(le),le.Long;var pe=o(function(e,t){function n(e){return!isNaN(parseInt(e,10))}function r(e){var t=le.Long.fromNumber(1e9),n=le.Long.fromNumber(0);if(!(e.parts[0]||e.parts[1]||e.parts[2]||e.parts[3]))return{quotient:e,rem:n};for(var r=0;r<=3;r++)n=(n=n.shiftLeft(32)).add(new le.Long(e.parts[r],0)),e.parts[r]=n.div(t).low,n=n.modulo(t);return{quotient:e,rem:n}}function o(e,t){throw new TypeError('"'+e+'" is not a valid Decimal128 string - '+t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Decimal128=void 0;var i=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,s=/^(\+|-)?(Infinity|inf)$/i,a=/^(\+|-)?NaN$/i,u=6111,c=-6176,f=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),l=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),p=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),d=/^([-+])?(\d+)?$/,h=function(){function e(t){if(!(this instanceof e))return new e(t);this.bytes=t}return e.fromString=function(t){var r,h=!1,y=!1,v=!1,g=0,_=0,m=0,b=0,O=0,A=[0],w=0,S=0,E=0,N=0,T=0,I=0,B=new le.Long(0,0),P=new le.Long(0,0),L=0;if(t.length>=7e3)throw new TypeError(t+" not a valid Decimal128 string");var D=t.match(i),R=t.match(s),M=t.match(a);if(!D&&!R&&!M||0===t.length)throw new TypeError(t+" not a valid Decimal128 string");if(D){var C=D[2],x=D[4],k=D[5],U=D[6];x&&void 0===U&&o(t,"missing exponent power"),x&&void 0===C&&o(t,"missing exponent base"),void 0===x&&(k||U)&&o(t,"missing e before exponent")}if("+"!==t[L]&&"-"!==t[L]||(h="-"===t[L++]),!n(t[L])&&"."!==t[L]){if("i"===t[L]||"I"===t[L])return new e(K.Buffer.from(h?l:p));if("N"===t[L])return new e(K.Buffer.from(f))}for(;n(t[L])||"."===t[L];)"."!==t[L]?(w<34&&("0"!==t[L]||v)&&(v||(O=_),v=!0,A[S++]=parseInt(t[L],10),w+=1),v&&(m+=1),y&&(b+=1),_+=1,L+=1):(y&&o(t,"contains multiple periods"),y=!0,L+=1);if(y&&!_)throw new TypeError(t+" not a valid Decimal128 string");if("e"===t[L]||"E"===t[L]){var j=t.substr(++L).match(d);if(!j||!j[2])return new e(K.Buffer.from(f));T=parseInt(j[0],10),L+=j[0].length}if(t[L])return new e(K.Buffer.from(f));if(E=0,w){if(N=w-1,1!==(g=m))for(;"0"===t[O+g-1];)g-=1}else E=0,N=0,A[0]=0,m=1,w=1,g=0;for(T<=b&&b-T>16384?T=c:T-=b;T>u;){if((N+=1)-E>34){if(A.join("").match(/^0+$/)){T=u;break}o(t,"overflow")}T-=1}for(;T<c||w<m;){if(0===N&&g<w){T=c,g=0;break}if(w<m?m-=1:N-=1,T<u)T+=1;else{if(A.join("").match(/^0+$/)){T=u;break}o(t,"overflow")}}if(N-E+1<g){var Y=_;y&&(O+=1,Y+=1),h&&(O+=1,Y+=1);var $=parseInt(t[O+N+1],10),q=0;if($>=5&&(q=1,5===$))for(q=A[N]%2==1?1:0,I=O+N+2;I<Y;I++)if(parseInt(t[I],10)){q=1;break}if(q)for(var F=N;F>=0;F--)if(++A[F]>9&&(A[F]=0,0===F)){if(!(T<u))return new e(K.Buffer.from(h?l:p));T+=1,A[F]=1}}if(B=le.Long.fromNumber(0),P=le.Long.fromNumber(0),0===g)B=le.Long.fromNumber(0),P=le.Long.fromNumber(0);else if(N-E<17)for(F=E,P=le.Long.fromNumber(A[F++]),B=new le.Long(0,0);F<=N;F++)P=(P=P.multiply(le.Long.fromNumber(10))).add(le.Long.fromNumber(A[F]));else{for(F=E,B=le.Long.fromNumber(A[F++]);F<=N-17;F++)B=(B=B.multiply(le.Long.fromNumber(10))).add(le.Long.fromNumber(A[F]));for(P=le.Long.fromNumber(A[F++]);F<=N;F++)P=(P=P.multiply(le.Long.fromNumber(10))).add(le.Long.fromNumber(A[F]))}var G,W,z,H,V=function(e,t){if(!e&&!t)return{high:le.Long.fromNumber(0),low:le.Long.fromNumber(0)};var n=e.shiftRightUnsigned(32),r=new le.Long(e.getLowBits(),0),o=t.shiftRightUnsigned(32),i=new le.Long(t.getLowBits(),0),s=n.multiply(o),a=n.multiply(i),u=r.multiply(o),c=r.multiply(i);return s=s.add(a.shiftRightUnsigned(32)),a=new le.Long(a.getLowBits(),0).add(u).add(c.shiftRightUnsigned(32)),{high:s=s.add(a.shiftRightUnsigned(32)),low:c=a.shiftLeft(32).add(new le.Long(c.getLowBits(),0))}}(B,le.Long.fromString("100000000000000000"));V.low=V.low.add(P),G=V.low,W=P,z=G.high>>>0,H=W.high>>>0,(z<H||z===H&&G.low>>>0<W.low>>>0)&&(V.high=V.high.add(le.Long.fromNumber(1))),r=T+6176;var J={low:le.Long.fromNumber(0),high:le.Long.fromNumber(0)};V.high.shiftRightUnsigned(49).and(le.Long.fromNumber(1)).equals(le.Long.fromNumber(1))?(J.high=J.high.or(le.Long.fromNumber(3).shiftLeft(61)),J.high=J.high.or(le.Long.fromNumber(r).and(le.Long.fromNumber(16383).shiftLeft(47))),J.high=J.high.or(V.high.and(le.Long.fromNumber(0x7fffffffffff)))):(J.high=J.high.or(le.Long.fromNumber(16383&r).shiftLeft(49)),J.high=J.high.or(V.high.and(le.Long.fromNumber(562949953421311)))),J.low=V.low,h&&(J.high=J.high.or(le.Long.fromString("9223372036854775808")));var Q=K.Buffer.alloc(16);return L=0,Q[L++]=255&J.low.low,Q[L++]=J.low.low>>8&255,Q[L++]=J.low.low>>16&255,Q[L++]=J.low.low>>24&255,Q[L++]=255&J.low.high,Q[L++]=J.low.high>>8&255,Q[L++]=J.low.high>>16&255,Q[L++]=J.low.high>>24&255,Q[L++]=255&J.high.low,Q[L++]=J.high.low>>8&255,Q[L++]=J.high.low>>16&255,Q[L++]=J.high.low>>24&255,Q[L++]=255&J.high.high,Q[L++]=J.high.high>>8&255,Q[L++]=J.high.high>>16&255,Q[L++]=J.high.high>>24&255,new e(Q)},e.prototype.toString=function(){for(var e,t=0,n=new Array(36),o=0;o<n.length;o++)n[o]=0;var i,s,a,u=0,c=!1,f={parts:[0,0,0,0]},l=[];u=0;var p=this.bytes,d=p[u++]|p[u++]<<8|p[u++]<<16|p[u++]<<24,h=p[u++]|p[u++]<<8|p[u++]<<16|p[u++]<<24,y=p[u++]|p[u++]<<8|p[u++]<<16|p[u++]<<24,v=p[u++]|p[u++]<<8|p[u++]<<16|p[u++]<<24;u=0,(new le.Long(d,h),new le.Long(y,v)).lessThan(le.Long.ZERO)&&l.push("-");var g=v>>26&31;if(g>>3==3){if(30===g)return l.join("")+"Infinity";if(31===g)return"NaN";e=v>>15&16383,i=8+(v>>14&1)}else i=v>>14&7,e=v>>17&16383;var _=e-6176;if(f.parts[0]=(16383&v)+((15&i)<<14),f.parts[1]=y,f.parts[2]=h,f.parts[3]=d,0===f.parts[0]&&0===f.parts[1]&&0===f.parts[2]&&0===f.parts[3])c=!0;else for(a=3;a>=0;a--){var m=0,b=r(f);if(f=b.quotient,m=b.rem.low)for(s=8;s>=0;s--)n[9*a+s]=m%10,m=Math.floor(m/10)}if(c)t=1,n[u]=0;else for(t=36;!n[u];)t-=1,u+=1;var O=t-1+_;if(O>=34||O<=-7||_>0){if(t>34)return l.push("0"),_>0?l.push("E+"+_):_<0&&l.push("E"+_),l.join("");for(l.push(""+n[u++]),(t-=1)&&l.push("."),o=0;o<t;o++)l.push(""+n[u++]);l.push("E"),O>0?l.push("+"+O):l.push(""+O)}else if(_>=0)for(o=0;o<t;o++)l.push(""+n[u++]);else{var A=t+_;if(A>0)for(o=0;o<A;o++)l.push(""+n[u++]);else l.push("0");for(l.push(".");A++<0;)l.push("0");for(o=0;o<t-Math.max(A-1,0);o++)l.push(""+n[u++])}return l.join("")},e.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},e.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},e.fromExtendedJSON=function(t){return e.fromString(t.$numberDecimal)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'Decimal128.fromString("'+this.toString()+'")'},e}();t.Decimal128=h,Object.defineProperty(h.prototype,"_bsontype",{value:"Decimal128"})});r(pe),pe.Decimal128;var de=o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Double=void 0;var n=function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=+t}return e.prototype.valueOf=function(){return this.value},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-"+this.value.toFixed(1)}:(Number.isInteger(this.value)?(t=this.value.toFixed(1)).length>=13&&(t=this.value.toExponential(13).toUpperCase()):t=this.value.toString(),{$numberDouble:t});var t},e.fromExtendedJSON=function(t,n){var r=parseFloat(t.$numberDouble);return n&&n.relaxed?r:new e(r)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Double("+this.toExtendedJSON().$numberDouble+")"},e}();t.Double=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Double"})});r(de),de.Double;var he=o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Int32=void 0;var n=function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=+t}return e.prototype.valueOf=function(){return this.value},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}},e.fromExtendedJSON=function(t,n){return n&&n.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Int32("+this.valueOf()+")"},e}();t.Int32=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Int32"})});r(he),he.Int32;var ye=o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MaxKey=void 0;var n=function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$maxKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MaxKey()"},e}();t.MaxKey=n,Object.defineProperty(n.prototype,"_bsontype",{value:"MaxKey"})});r(ye),ye.MaxKey;var ve=o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MinKey=void 0;var n=function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$minKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MinKey()"},e}();t.MinKey=n,Object.defineProperty(n.prototype,"_bsontype",{value:"MinKey"})});r(ve),ve.MinKey;var ge=o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectId=void 0;for(var n=ie.randomBytes(5),r=new RegExp("^[0-9a-fA-F]{24}$"),o=[],i=0;i<256;i++)o[i]=(i<=15?"0":"")+i.toString(16);for(var s=[],a=0;a<10;)s[48+a]=a++;for(;a<16;)s[55+a]=s[87+a]=a++;var u=Symbol("id"),c=function(){function e(t){if(!(this instanceof e))return new e(t);if(t instanceof e&&(this[u]=t.id,this.__id=t.__id),"object"===(0,M.default)(t)&&t&&"id"in t&&("toHexString"in t&&"function"==typeof t.toHexString?this[u]=K.Buffer.from(t.toHexString(),"hex"):this[u]="string"==typeof t.id?K.Buffer.from(t.id):t.id),null!=t&&"number"!=typeof t||(this[u]=e.generate("number"==typeof t?t:void 0),e.cacheHexString&&(this.__id=this.id.toString("hex"))),ArrayBuffer.isView(t)&&12===t.byteLength&&(this[u]=se.ensureBuffer(t)),"string"==typeof t)if(12===t.length){var n=K.Buffer.from(t);12===n.byteLength&&(this[u]=n)}else{if(24!==t.length||!r.test(t))throw new TypeError("Argument passed in must be a Buffer or string of 12 bytes or a string of 24 hex characters");this[u]=K.Buffer.from(t,"hex")}e.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(e.prototype,"id",{get:function(){return this[u]},set:function(t){this[u]=t,e.cacheHexString&&(this.__id=t.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(e){this.id.writeUInt32BE(e,0)},enumerable:!1,configurable:!0}),e.prototype.toHexString=function(){if(e.cacheHexString&&this.__id)return this.__id;var t=this.id.toString("hex");return e.cacheHexString&&!this.__id&&(this.__id=t),t},e.getInc=function(){return e.index=(e.index+1)%16777215},e.generate=function(t){"number"!=typeof t&&(t=~~(Date.now()/1e3));var r=e.getInc(),o=K.Buffer.alloc(12);return o.writeUInt32BE(t,0),o[4]=n[0],o[5]=n[1],o[6]=n[2],o[7]=n[3],o[8]=n[4],o[11]=255&r,o[10]=r>>8&255,o[9]=r>>16&255,o},e.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},e.prototype.toJSON=function(){return this.toHexString()},e.prototype.equals=function(t){return null!=t&&(t instanceof e?this.toString()===t.toString():"string"==typeof t&&e.isValid(t)&&12===t.length&&this.id instanceof K.Buffer?t===this.id.toString("binary"):"string"==typeof t&&e.isValid(t)&&24===t.length?t.toLowerCase()===this.toHexString():"string"==typeof t&&e.isValid(t)&&12===t.length?K.Buffer.from(t).equals(this.id):"object"===(0,M.default)(t)&&"toHexString"in t&&"function"==typeof t.toHexString&&t.toHexString()===this.toHexString())},e.prototype.getTimestamp=function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e},e.createPk=function(){return new e},e.createFromTime=function(t){var n=K.Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0]);return n.writeUInt32BE(t,0),new e(n)},e.createFromHexString=function(t){if(void 0===t||null!=t&&24!==t.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new e(K.Buffer.from(t,"hex"))},e.isValid=function(t){return null!=t&&("number"==typeof t||("string"==typeof t?12===t.length||24===t.length&&r.test(t):t instanceof e||t instanceof K.Buffer&&12===t.length||"object"===(0,M.default)(t)&&"toHexString"in t&&"function"==typeof t.toHexString&&("string"==typeof t.id?12===t.id.length:24===t.toHexString().length&&r.test(t.id.toString("hex")))))},e.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},e.fromExtendedJSON=function(t){return new e(t.$oid)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new ObjectId("'+this.toHexString()+'")'},e.index=~~(16777215*Math.random()),e}();t.ObjectId=c,Object.defineProperty(c.prototype,"generate",{value:ie.deprecate(function(e){return c.generate(e)},"Please use the static `ObjectId.generate(time)` instead")}),Object.defineProperty(c.prototype,"getInc",{value:ie.deprecate(function(){return c.getInc()},"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(c.prototype,"get_inc",{value:ie.deprecate(function(){return c.getInc()},"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(c,"get_inc",{value:ie.deprecate(function(){return c.getInc()},"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(c.prototype,"_bsontype",{value:"ObjectID"})});r(ge),ge.ObjectId;var _e=o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSONRegExp=void 0;var n=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);this.pattern=t,this.options=null!=n?n:"",this.options.split("").sort().join("")
;for(var r=0;r<this.options.length;r++)if("i"!==this.options[r]&&"m"!==this.options[r]&&"x"!==this.options[r]&&"l"!==this.options[r]&&"s"!==this.options[r]&&"u"!==this.options[r])throw new Error("The regular expression option ["+this.options[r]+"] is not supported")}return e.parseOptions=function(e){return e?e.split("").sort().join(""):""},e.prototype.toExtendedJSON=function(e){return(e=e||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},e.fromExtendedJSON=function(t){if("$regex"in t){if("string"==typeof t.$regex)return new e(t.$regex,e.parseOptions(t.$options));if("BSONRegExp"===t.$regex._bsontype)return t}if("$regularExpression"in t)return new e(t.$regularExpression.pattern,e.parseOptions(t.$regularExpression.options));throw new TypeError("Unexpected BSONRegExp EJSON object form: "+JSON.stringify(t))},e}();t.BSONRegExp=n,Object.defineProperty(n.prototype,"_bsontype",{value:"BSONRegExp"})});r(_e),_e.BSONRegExp;var me=o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSONSymbol=void 0;var n=function(){function e(t){if(!(this instanceof e))return new e(t);this.value=t}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(){return this.value},e.prototype.inspect=function(){return'new BSONSymbol("'+this.value+'")'},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(){return{$symbol:this.value}},e.fromExtendedJSON=function(t){return new e(t.$symbol)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e}();t.BSONSymbol=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Symbol"})});r(me),me.BSONSymbol;var be=o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Timestamp=t.LongWithoutOverridesClass=void 0,t.LongWithoutOverridesClass=le.Long;var n=function(e){function t(n,r){var o=this;return o instanceof t?(o=le.Long.isLong(n)?e.call(this,n.low,n.high,!0)||this:e.call(this,n,r,!0)||this,Object.defineProperty(o,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),o):new t(n,r)}return X.__extends(t,e),t.prototype.toJSON=function(){return{$timestamp:this.toString()}},t.fromInt=function(e){return new t(le.Long.fromInt(e,!0))},t.fromNumber=function(e){return new t(le.Long.fromNumber(e,!0))},t.fromBits=function(e,n){return new t(e,n)},t.fromString=function(e,n){return new t(le.Long.fromString(e,!0,n))},t.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},t.fromExtendedJSON=function(e){return new t(e.$timestamp.i,e.$timestamp.t)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Timestamp("+this.getLowBits().toString()+", "+this.getHighBits().toString()+")"},t.MAX_VALUE=le.Long.MAX_UNSIGNED_VALUE,t}(t.LongWithoutOverridesClass);t.Timestamp=n});r(be),be.Timestamp,be.LongWithoutOverridesClass;var Oe=o(function(e,t){function n(e){return ie.isObjectLike(e)&&Reflect.has(e,"_bsontype")&&"string"==typeof e._bsontype}function r(e,t){if(void 0===t&&(t={}),"number"==typeof e){if(t.relaxed||t.legacy)return e;if(Math.floor(e)===e){if(e>=a&&e<=s)return new he.Int32(e);if(e>=c&&e<=u)return le.Long.fromNumber(e)}return new de.Double(e)}if(null==e||"object"!==(0,M.default)(e))return e;if(e.$undefined)return null;for(var n=Object.keys(e).filter(function(t){return t.startsWith("$")&&null!=e[t]}),o=0;o<n.length;o++){var i=f[n[o]];if(i)return i.fromExtendedJSON(e,t)}if(null!=e.$date){var l=e.$date,p=new Date;return t.legacy?"number"==typeof l?p.setTime(l):"string"==typeof l&&p.setTime(Date.parse(l)):"string"==typeof l?p.setTime(Date.parse(l)):le.Long.isLong(l)?p.setTime(l.toNumber()):"number"==typeof l&&t.relaxed&&p.setTime(l),p}if(null!=e.$code){var d=Object.assign({},e);return e.$scope&&(d.$scope=r(e.$scope)),ce.Code.fromExtendedJSON(e)}if(null!=e.$ref||null!=e.$dbPointer){var h=e.$ref?e:e.$dbPointer;if(h instanceof fe.DBRef)return h;var y=Object.keys(h).filter(function(e){return e.startsWith("$")}),v=!0;if(y.forEach(function(e){-1===["$ref","$id","$db"].indexOf(e)&&(v=!1)}),v)return fe.DBRef.fromExtendedJSON(h)}return e}function o(e){var t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function i(e,t){if(Array.isArray(e))return function(e,t){return e.map(function(e){return i(e,t)})}(e,t);if(void 0===e)return null;if(e instanceof Date){var r=e.getTime(),f=r>-1&&r<2534023188e5;return t.legacy?t.relaxed&&f?{$date:e.getTime()}:{$date:o(e)}:t.relaxed&&f?{$date:o(e)}:{$date:{$numberLong:e.getTime().toString()}}}if("number"==typeof e&&!t.relaxed){if(Math.floor(e)===e){var p=e>=c&&e<=u;if(e>=a&&e<=s)return{$numberInt:e.toString()};if(p)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp){var d=e.flags;if(void 0===d){var h=e.toString().match(/[gimuy]*$/);h&&(d=h[0])}return new _e.BSONRegExp(e.source,d).toExtendedJSON(t)}return null!=e&&"object"===(0,M.default)(e)?function(e,t){if(null==e||"object"!==(0,M.default)(e))throw new Error("not an object instance");var r=e._bsontype;if(void 0===r){var o={};for(var s in e)o[s]=i(e[s],t);return o}if(n(e)){var a=e;if("function"!=typeof a.toExtendedJSON){var u=l[e._bsontype];if(!u)throw new TypeError("Unrecognized or invalid _bsontype: "+e._bsontype);a=u(a)}return"Code"===r&&a.scope?a=new ce.Code(a.code,i(a.scope,t)):"DBRef"===r&&a.oid&&(a=new fe.DBRef(a.collection,i(a.oid,t),a.db,a.fields)),a.toExtendedJSON(t)}throw new Error("_bsontype must be a string, but was: "+(0,M.default)(r))}(e,t):e}Object.defineProperty(t,"__esModule",{value:!0}),t.EJSON=t.isBSONType=void 0,t.isBSONType=n;var s=2147483647,a=-2147483648,u=0x8000000000000000,c=-0x8000000000000000,f={$oid:ge.ObjectId,$binary:ue.Binary,$uuid:ue.Binary,$symbol:me.BSONSymbol,$numberInt:he.Int32,$numberDecimal:pe.Decimal128,$numberDouble:de.Double,$numberLong:le.Long,$minKey:ve.MinKey,$maxKey:ye.MaxKey,$regex:_e.BSONRegExp,$regularExpression:_e.BSONRegExp,$timestamp:be.Timestamp},l={Binary:function(e){return new ue.Binary(e.value(),e.sub_type)},Code:function(e){return new ce.Code(e.code,e.scope)},DBRef:function(e){return new fe.DBRef(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new pe.Decimal128(e.bytes)},Double:function(e){return new de.Double(e.value)},Int32:function(e){return new he.Int32(e.value)},Long:function(e){return le.Long.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_)},MaxKey:function(){return new ye.MaxKey},MinKey:function(){return new ve.MinKey},ObjectID:function(e){return new ge.ObjectId(e)},ObjectId:function(e){return new ge.ObjectId(e)},BSONRegExp:function(e){return new _e.BSONRegExp(e.pattern,e.options)},Symbol:function(e){return new me.BSONSymbol(e.value)},Timestamp:function(e){return be.Timestamp.fromBits(e.low,e.high)}};!function(e){function t(e,t){var n=Object.assign({},{relaxed:!0,legacy:!1},t);return"boolean"==typeof n.relaxed&&(n.strict=!n.relaxed),"boolean"==typeof n.strict&&(n.relaxed=!n.strict),JSON.parse(e,function(e,t){return r(t,n)})}function n(e,t,n,r){null!=n&&"object"===(0,M.default)(n)&&(r=n,n=0),null==t||"object"!==(0,M.default)(t)||Array.isArray(t)||(r=t,t=void 0,n=0);var o=i(e,r=Object.assign({},{relaxed:!0,legacy:!1},r));return JSON.stringify(o,t,n)}e.parse=t,e.stringify=n,e.serialize=function(e,t){return t=t||{},JSON.parse(n(e,t))},e.deserialize=function(e,n){return n=n||{},t(JSON.stringify(e),n)}}(t.EJSON||(t.EJSON={}))});r(Oe),Oe.EJSON,Oe.isBSONType;var Ae=o(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Map=void 0,t.Map=n;var r=function(e){return e&&e.Math==Math&&e},o=r("object"===("undefined"==typeof globalThis?"undefined":(0,M.default)(globalThis))&&globalThis)||r("object"===("undefined"==typeof window?"undefined":(0,M.default)(window))&&window)||r("object"===("undefined"==typeof self?"undefined":(0,M.default)(self))&&self)||r("object"===(0,M.default)(C)&&C)||Function("return this")();Object.prototype.hasOwnProperty.call(o,"Map")?t.Map=n=o.Map:t.Map=n=function(){function e(e){void 0===e&&(e=[]),this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var n=e[t],r=n[0],o=n[1];this._keys.push(r),this._values[r]={v:o,i:this._keys.length-1}}}return e.prototype.clear=function(){this._keys=[],this._values={}},e.prototype.delete=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},e.prototype.entries=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?[n,e._values[n].v]:void 0,done:void 0===n}}}},e.prototype.forEach=function(e,t){t=t||this;for(var n=0;n<this._keys.length;n++){var r=this._keys[n];e.call(t,this._values[r].v,r,t)}},e.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},e.prototype.has=function(e){return null!=this._values[e]},e.prototype.keys=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?n:void 0,done:void 0===n}}}},e.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},e.prototype.values=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?e._values[n].v:void 0,done:void 0===n}}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),e}()});r(Ae),Ae.Map;var we=o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSON_BINARY_SUBTYPE_USER_DEFINED=t.BSON_BINARY_SUBTYPE_MD5=t.BSON_BINARY_SUBTYPE_UUID_NEW=t.BSON_BINARY_SUBTYPE_UUID=t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=t.BSON_BINARY_SUBTYPE_FUNCTION=t.BSON_BINARY_SUBTYPE_DEFAULT=t.BSON_DATA_MAX_KEY=t.BSON_DATA_MIN_KEY=t.BSON_DATA_DECIMAL128=t.BSON_DATA_LONG=t.BSON_DATA_TIMESTAMP=t.BSON_DATA_INT=t.BSON_DATA_CODE_W_SCOPE=t.BSON_DATA_SYMBOL=t.BSON_DATA_CODE=t.BSON_DATA_DBPOINTER=t.BSON_DATA_REGEXP=t.BSON_DATA_NULL=t.BSON_DATA_DATE=t.BSON_DATA_BOOLEAN=t.BSON_DATA_OID=t.BSON_DATA_UNDEFINED=t.BSON_DATA_BINARY=t.BSON_DATA_ARRAY=t.BSON_DATA_OBJECT=t.BSON_DATA_STRING=t.BSON_DATA_NUMBER=t.JS_INT_MIN=t.JS_INT_MAX=t.BSON_INT64_MIN=t.BSON_INT64_MAX=t.BSON_INT32_MIN=t.BSON_INT32_MAX=void 0,t.BSON_INT32_MAX=2147483647,t.BSON_INT32_MIN=-2147483648,t.BSON_INT64_MAX=Math.pow(2,63)-1,t.BSON_INT64_MIN=-Math.pow(2,63),t.JS_INT_MAX=Math.pow(2,53),t.JS_INT_MIN=-Math.pow(2,53),t.BSON_DATA_NUMBER=1,t.BSON_DATA_STRING=2,t.BSON_DATA_OBJECT=3,t.BSON_DATA_ARRAY=4,t.BSON_DATA_BINARY=5,t.BSON_DATA_UNDEFINED=6,t.BSON_DATA_OID=7,t.BSON_DATA_BOOLEAN=8,t.BSON_DATA_DATE=9,t.BSON_DATA_NULL=10,t.BSON_DATA_REGEXP=11,t.BSON_DATA_DBPOINTER=12,t.BSON_DATA_CODE=13,t.BSON_DATA_SYMBOL=14,t.BSON_DATA_CODE_W_SCOPE=15,t.BSON_DATA_INT=16,t.BSON_DATA_TIMESTAMP=17,t.BSON_DATA_LONG=18,t.BSON_DATA_DECIMAL128=19,t.BSON_DATA_MIN_KEY=255,t.BSON_DATA_MAX_KEY=127,t.BSON_BINARY_SUBTYPE_DEFAULT=0,t.BSON_BINARY_SUBTYPE_FUNCTION=1,t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,t.BSON_BINARY_SUBTYPE_UUID=3,t.BSON_BINARY_SUBTYPE_UUID_NEW=4,t.BSON_BINARY_SUBTYPE_MD5=5,t.BSON_BINARY_SUBTYPE_USER_DEFINED=128});r(we),we.BSON_BINARY_SUBTYPE_USER_DEFINED,we.BSON_BINARY_SUBTYPE_MD5,we.BSON_BINARY_SUBTYPE_UUID_NEW,we.BSON_BINARY_SUBTYPE_UUID,we.BSON_BINARY_SUBTYPE_BYTE_ARRAY,we.BSON_BINARY_SUBTYPE_FUNCTION,we.BSON_BINARY_SUBTYPE_DEFAULT,we.BSON_DATA_MAX_KEY,we.BSON_DATA_MIN_KEY,we.BSON_DATA_DECIMAL128,we.BSON_DATA_LONG,we.BSON_DATA_TIMESTAMP,we.BSON_DATA_INT,we.BSON_DATA_CODE_W_SCOPE,we.BSON_DATA_SYMBOL,we.BSON_DATA_CODE,we.BSON_DATA_DBPOINTER,we.BSON_DATA_REGEXP,we.BSON_DATA_NULL,we.BSON_DATA_DATE,we.BSON_DATA_BOOLEAN,we.BSON_DATA_OID,we.BSON_DATA_UNDEFINED,we.BSON_DATA_BINARY,we.BSON_DATA_ARRAY,we.BSON_DATA_OBJECT,we.BSON_DATA_STRING,we.BSON_DATA_NUMBER,we.JS_INT_MIN,we.JS_INT_MAX,we.BSON_INT64_MIN,we.BSON_INT64_MAX,we.BSON_INT32_MIN,we.BSON_INT32_MAX;var Se=o(function(e,t){function n(e,t,n){var o=5;if(Array.isArray(e))for(var i=0;i<e.length;i++)o+=r(i.toString(),e[i],t,!0,n);else for(var s in e.toBSON&&(e=e.toBSON()),e)o+=r(s,e[s],t,!1,n);return o}function r(e,t,r,o,i){switch(void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===i&&(i=!1),t&&t.toBSON&&(t=t.toBSON()),(0,M.default)(t)){case"string":return 1+K.Buffer.byteLength(e,"utf8")+1+4+K.Buffer.byteLength(t,"utf8")+1;case"number":return Math.floor(t)===t&&t>=we.JS_INT_MIN&&t<=we.JS_INT_MAX&&t>=we.BSON_INT32_MIN&&t<=we.BSON_INT32_MAX?(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+5:(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+9;case"undefined":return o||!i?(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+1:0;case"boolean":return(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+2;case"object":if(null==t||"MinKey"===t._bsontype||"MaxKey"===t._bsontype)return(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+1;if("ObjectId"===t._bsontype||"ObjectID"===t._bsontype)return(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+13;if(t instanceof Date||ie.isDate(t))return(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+9;if(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)return(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+6+t.byteLength;if("Long"===t._bsontype||"Double"===t._bsontype||"Timestamp"===t._bsontype)return(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+9;if("Decimal128"===t._bsontype)return(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+17;if("Code"===t._bsontype)return null!=t.scope&&Object.keys(t.scope).length>0?(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+1+4+4+K.Buffer.byteLength(t.code.toString(),"utf8")+1+n(t.scope,r,i):(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+1+4+K.Buffer.byteLength(t.code.toString(),"utf8")+1;if("Binary"===t._bsontype)return t.sub_type===ue.Binary.SUBTYPE_BYTE_ARRAY?(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+(t.position+1+4+1+4):(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+(t.position+1+4+1);if("Symbol"===t._bsontype)return(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+K.Buffer.byteLength(t.value,"utf8")+4+1+1;if("DBRef"===t._bsontype){var s=Object.assign({$ref:t.collection,$id:t.oid},t.fields);return null!=t.db&&(s.$db=t.db),(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+1+n(s,r,i)}return t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)?(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+1+K.Buffer.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:"BSONRegExp"===t._bsontype?(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+1+K.Buffer.byteLength(t.pattern,"utf8")+1+K.Buffer.byteLength(t.options,"utf8")+1:(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+n(t,r,i)+1;case"function":if(t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)||"[object RegExp]"===String.call(t))return(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+1+K.Buffer.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(r&&null!=t.scope&&Object.keys(t.scope).length>0)return(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+1+4+4+K.Buffer.byteLength(ie.normalizedFunctionString(t),"utf8")+1+n(t.scope,r,i);if(r)return(null!=e?K.Buffer.byteLength(e,"utf8")+1:0)+1+4+K.Buffer.byteLength(ie.normalizedFunctionString(t),"utf8")+1}return 0}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateObjectSize=void 0,t.calculateObjectSize=n});r(Se),Se.calculateObjectSize;var Ee=o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateUtf8=void 0,t.validateUtf8=function(e,t,n){for(var r=0,o=t;o<n;o+=1){var i=e[o];if(r){if(128!=(192&i))return!1;r-=1}else if(128&i)if(192==(224&i))r=1;else if(224==(240&i))r=2;else{if(240!=(248&i))return!1;r=3}}return!r}});r(Ee),Ee.validateUtf8;var Ne=o(function(e,t){function n(e,t,a,u){void 0===u&&(u=!1);var c=null!=a.evalFunctions&&a.evalFunctions,f=null!=a.cacheFunctions&&a.cacheFunctions,l=null==a.fieldsAsRaw?null:a.fieldsAsRaw,p=null!=a.raw&&a.raw,d="boolean"==typeof a.bsonRegExp&&a.bsonRegExp,h=null!=a.promoteBuffers&&a.promoteBuffers,y=null==a.promoteLongs||a.promoteLongs,v=null==a.promoteValues||a.promoteValues,g=t;if(e.length<5)throw new Error("corrupt bson message < 5 bytes long");var _=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(_<5||_>e.length)throw new Error("corrupt bson message");for(var m=u?[]:{},b=0;;){var O=e[t++];if(0===O)break;for(var A=t;0!==e[A]&&A<e.length;)A++;if(A>=e.byteLength)throw new Error("Bad BSON Document: illegal CString");var w=u?b++:e.toString("utf8",t,A);if(t=A+1,O===we.BSON_DATA_STRING){if((H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||H>e.length-t||0!==e[t+H-1])throw new Error("bad string length in bson");if(!Ee.validateUtf8(e,t,t+H-1))throw new Error("Invalid UTF-8 string in BSON document");var S=e.toString("utf8",t,t+H-1);m[w]=S,t+=H}else if(O===we.BSON_DATA_OID){var E=K.Buffer.alloc(12);e.copy(E,0,t,t+12),m[w]=new ge.ObjectId(E),t+=12}else if(O===we.BSON_DATA_INT&&!1===v)m[w]=new he.Int32(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24);else if(O===we.BSON_DATA_INT)m[w]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;else if(O===we.BSON_DATA_NUMBER&&!1===v)m[w]=new de.Double(e.readDoubleLE(t)),t+=8;else if(O===we.BSON_DATA_NUMBER)m[w]=e.readDoubleLE(t),t+=8;else if(O===we.BSON_DATA_DATE){var N=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,T=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;m[w]=new Date(new le.Long(N,T).toNumber())}else if(O===we.BSON_DATA_BOOLEAN){if(0!==e[t]&&1!==e[t])throw new Error("illegal boolean type value");m[w]=1===e[t++]}else if(O===we.BSON_DATA_OBJECT){var I=t;if((W=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)<=0||W>e.length-t)throw new Error("bad embedded document length in bson");m[w]=p?e.slice(t,t+W):n(e,I,a,!1),t+=W}else if(O===we.BSON_DATA_ARRAY){I=t;var B=a,P=t+(W=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24);if(l&&l[w]){for(var L in B={},a)B[L]=a[L];B.raw=!0}if(m[w]=n(e,I,B,!0),0!==e[(t+=W)-1])throw new Error("invalid array terminator byte");if(t!==P)throw new Error("corrupted array bson")}else if(O===we.BSON_DATA_UNDEFINED)m[w]=void 0;else if(O===we.BSON_DATA_NULL)m[w]=null;else if(O===we.BSON_DATA_LONG){N=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,T=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var D=new le.Long(N,T);m[w]=y&&!0===v&&D.lessThanOrEqual(o)&&D.greaterThanOrEqual(i)?D.toNumber():D}else if(O===we.BSON_DATA_DECIMAL128){var R=K.Buffer.alloc(16);e.copy(R,0,t,t+16),t+=16;var M=new pe.Decimal128(R);"toObject"in M&&"function"==typeof M.toObject?m[w]=M.toObject():m[w]=M}else if(O===we.BSON_DATA_BINARY){var C=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,x=C,k=e[t++];if(C<0)throw new Error("Negative binary type element size found");if(C>e.byteLength)throw new Error("Binary type size larger than document size");if(null!=e.slice){if(k===ue.Binary.SUBTYPE_BYTE_ARRAY){if((C=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(C>x-4)throw new Error("Binary type with subtype 0x02 contains too long binary size");if(C<x-4)throw new Error("Binary type with subtype 0x02 contains too short binary size")}m[w]=h&&v?e.slice(t,t+C):new ue.Binary(e.slice(t,t+C),k)}else{var U=K.Buffer.alloc(C);if(k===ue.Binary.SUBTYPE_BYTE_ARRAY){if((C=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(C>x-4)throw new Error("Binary type with subtype 0x02 contains too long binary size");if(C<x-4)throw new Error("Binary type with subtype 0x02 contains too short binary size")}for(A=0;A<C;A++)U[A]=e[t+A];m[w]=h&&v?U:new ue.Binary(U,k)}t+=C}else if(O===we.BSON_DATA_REGEXP&&!1===d){for(A=t;0!==e[A]&&A<e.length;)A++;if(A>=e.length)throw new Error("Bad BSON Document: illegal CString");var j=e.toString("utf8",t,A);for(A=t=A+1;0!==e[A]&&A<e.length;)A++;if(A>=e.length)throw new Error("Bad BSON Document: illegal CString");var Y=e.toString("utf8",t,A);t=A+1;var $=new Array(Y.length);for(A=0;A<Y.length;A++)switch(Y[A]){case"m":$[A]="m";break;case"s":$[A]="g";break;case"i":$[A]="i"}m[w]=new RegExp(j,$.join(""))}else if(O===we.BSON_DATA_REGEXP&&!0===d){for(A=t;0!==e[A]&&A<e.length;)A++;if(A>=e.length)throw new Error("Bad BSON Document: illegal CString");for(j=e.toString("utf8",t,A),A=t=A+1;0!==e[A]&&A<e.length;)A++;if(A>=e.length)throw new Error("Bad BSON Document: illegal CString");Y=e.toString("utf8",t,A),t=A+1,m[w]=new _e.BSONRegExp(j,Y)}else if(O===we.BSON_DATA_SYMBOL){if((H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||H>e.length-t||0!==e[t+H-1])throw new Error("bad string length in bson");var q=e.toString("utf8",t,t+H-1);m[w]=v?q:new me.BSONSymbol(q),t+=H}else if(O===we.BSON_DATA_TIMESTAMP)N=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,T=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,m[w]=new be.Timestamp(N,T);else if(O===we.BSON_DATA_MIN_KEY)m[w]=new ve.MinKey;else if(O===we.BSON_DATA_MAX_KEY)m[w]=new ye.MaxKey;else if(O===we.BSON_DATA_CODE){if((H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||H>e.length-t||0!==e[t+H-1])throw new Error("bad string length in bson");var F=e.toString("utf8",t,t+H-1);m[w]=c?f?r(F,s,m):r(F):new ce.Code(F),t+=H}else if(O===we.BSON_DATA_CODE_W_SCOPE){var G=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(G<13)throw new Error("code_w_scope total size shorter minimum expected length");if((H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||H>e.length-t||0!==e[t+H-1])throw new Error("bad string length in bson");F=e.toString("utf8",t,t+H-1),I=t+=H;var W=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,z=n(e,I,a,!1);if(t+=W,G<8+W+H)throw new Error("code_w_scope total size is too short, truncating scope");if(G>8+W+H)throw new Error("code_w_scope total size is too long, clips outer document");c?(m[w]=f?r(F,s,m):r(F),m[w].scope=z):m[w]=new ce.Code(F,z)}else{if(O!==we.BSON_DATA_DBPOINTER)throw new Error("Detected unknown BSON type "+O.toString(16)+' for fieldname "'+w+'"');var H;if((H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<=0||H>e.length-t||0!==e[t+H-1])throw new Error("bad string length in bson");if(!Ee.validateUtf8(e,t,t+H-1))throw new Error("Invalid UTF-8 string in BSON document");var V=e.toString("utf8",t,t+H-1);t+=H;var J=K.Buffer.alloc(12);e.copy(J,0,t,t+12),E=new ge.ObjectId(J),t+=12,m[w]=new fe.DBRef(V,E)}}if(_!==t-g){if(u)throw new Error("corrupt array bson");throw new Error("corrupt object bson")}var Q=Object.keys(m).filter(function(e){return e.startsWith("$")}),X=!0;if(Q.forEach(function(e){-1===["$ref","$id","$db"].indexOf(e)&&(X=!1)}),!X)return m;if(fe.isDBRefLike(m)){var Z=Object.assign({},m);return delete Z.$ref,delete Z.$id,delete Z.$db,new fe.DBRef(m.$ref,m.$id,m.$db,Z)}return m}function r(e,t,n){return t?(null==t[e]&&(t[e]=new Function(e)),t[e].bind(n)):new Function(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=void 0;var o=le.Long.fromNumber(we.JS_INT_MAX),i=le.Long.fromNumber(we.JS_INT_MIN),s={};t.deserialize=function(e,t,r){var o=(t=null==t?{}:t)&&t.index?t.index:0,i=e[o]|e[o+1]<<8|e[o+2]<<16|e[o+3]<<24;if(i<5)throw new Error("bson size must be >= 5, is "+i);if(t.allowObjectSmallerThanBufferSize&&e.length<i)throw new Error("buffer length "+e.length+" must be >= bson size "+i);if(!t.allowObjectSmallerThanBufferSize&&e.length!==i)throw new Error("buffer length "+e.length+" must === bson size "+i);if(i+o>e.byteLength)throw new Error("(bson size "+i+" + options.index "+o+" must be <= buffer length "+e.byteLength+")");if(0!==e[o+i-1])throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return n(e,o,t,r)}});r(Ne),Ne.deserialize;var Te=o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.writeIEEE754=t.readIEEE754=void 0,t.readIEEE754=function(e,t,n,r,o){var i,s,a="big"===n,u=8*o-r-1,c=(1<<u)-1,f=c>>1,l=-7,p=a?0:o-1,d=a?1:-1,h=e[t+p];for(p+=d,i=h&(1<<-l)-1,h>>=-l,l+=u;l>0;i=256*i+e[t+p],p+=d,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+e[t+p],p+=d,l-=8);if(0===i)i=1-f;else{if(i===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),i-=f}return(h?-1:1)*s*Math.pow(2,i-r)},t.writeIEEE754=function(e,t,n,r,o,i){var s,a,u,c="big"===r,f=8*i-o-1,l=(1<<f)-1,p=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=c?i-1:0,y=c?-1:1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+p>=1?d/u:d*Math.pow(2,1-p))*u>=2&&(s++,u/=2),s+p>=l?(a=0,s=l):s+p>=1?(a=(t*u-1)*Math.pow(2,o),s+=p):(a=t*Math.pow(2,p-1)*Math.pow(2,o),s=0)),isNaN(t)&&(a=0);o>=8;)e[n+h]=255&a,h+=y,a/=256,o-=8;for(s=s<<o|a,isNaN(t)&&(s+=8),f+=o;f>0;)e[n+h]=255&s,h+=y,s/=256,f-=8;e[n+h-y]|=128*v}});r(Te),Te.writeIEEE754,Te.readIEEE754;var Ie=o(function(e,t){function n(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function r(e,t,n,r,o){e[r++]=we.BSON_DATA_STRING;var i=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");e[(r=r+i+1)-1]=0;var s=e.write(n,r+4,void 0,"utf8");return e[r+3]=s+1>>24&255,e[r+2]=s+1>>16&255,e[r+1]=s+1>>8&255,e[r]=s+1&255,r=r+4+s,e[r++]=0,r}function o(e,t,n,r,o){return Number.isInteger(n)&&n>=we.BSON_INT32_MIN&&n<=we.BSON_INT32_MAX?(e[r++]=we.BSON_DATA_INT,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255):(e[r++]=we.BSON_DATA_NUMBER,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,Te.writeIEEE754(e,n,r,"little",52,8),r+=8),r}function i(e,t,n,r,o){return e[r++]=we.BSON_DATA_NULL,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,r}function s(e,t,n,r,o){return e[r++]=we.BSON_DATA_BOOLEAN,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,e[r++]=n?1:0,r}function a(e,t,n,r,o){e[r++]=we.BSON_DATA_DATE,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=le.Long.fromNumber(n.getTime()),s=i.getLowBits(),a=i.getHighBits();return e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,r}function u(e,t,n,r,o){if(e[r++]=we.BSON_DATA_REGEXP,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,n.source&&null!=n.source.match(S))throw Error("value "+n.source+" must not contain null bytes");return r+=e.write(n.source,r,void 0,"utf8"),e[r++]=0,n.ignoreCase&&(e[r++]=105),n.global&&(e[r++]=115),n.multiline&&(e[r++]=109),e[r++]=0,r}function c(e,t,n,r,o){if(e[r++]=we.BSON_DATA_REGEXP,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,null!=n.pattern.match(S))throw Error("pattern "+n.pattern+" must not contain null bytes");return r+=e.write(n.pattern,r,void 0,"utf8"),e[r++]=0,r+=e.write(n.options.split("").sort().join(""),r,void 0,"utf8"),e[r++]=0,r}function f(e,t,n,r,o){return null===n?e[r++]=we.BSON_DATA_NULL:"MinKey"===n._bsontype?e[r++]=we.BSON_DATA_MIN_KEY:e[r++]=we.BSON_DATA_MAX_KEY,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,r}function l(e,t,n,r,o){if(e[r++]=we.BSON_DATA_OID,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,"string"==typeof n.id)e.write(n.id,r,void 0,"binary");else{if(!n.id||!n.id.copy)throw new TypeError("object ["+JSON.stringify(n)+"] is not a valid ObjectId");n.id.copy(e,r,0,12)}return r+12}function p(e,t,n,r,o){e[r++]=we.BSON_DATA_BINARY,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=n.length;return e[r++]=255&i,e[r++]=i>>8&255,e[r++]=i>>16&255,e[r++]=i>>24&255,e[r++]=we.BSON_BINARY_SUBTYPE_DEFAULT,e.set(se.ensureBuffer(n),r),r+i}function d(e,t,n,r,o,i,s,a,u,c){void 0===o&&(o=!1),void 0===i&&(i=0),void 0===s&&(s=!1),void 0===a&&(a=!0),void 0===u&&(u=!1),void 0===c&&(c=[]);for(var f=0;f<c.length;f++)if(c[f]===n)throw new Error("cyclic dependency detected");c.push(n),e[r++]=Array.isArray(n)?we.BSON_DATA_ARRAY:we.BSON_DATA_OBJECT,r+=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var l=w(e,n,o,r,i+1,s,a,c);return c.pop(),l}function h(e,t,n,r,o){return e[r++]=we.BSON_DATA_DECIMAL128,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,n.bytes.copy(e,r,0,16),r+16}function y(e,t,n,r,o){e[r++]="Long"===n._bsontype?we.BSON_DATA_LONG:we.BSON_DATA_TIMESTAMP,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=n.getLowBits(),s=n.getHighBits();return e[r++]=255&i,e[r++]=i>>8&255,e[r++]=i>>16&255,e[r++]=i>>24&255,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,r}function v(e,t,n,r,o){return n=n.valueOf(),e[r++]=we.BSON_DATA_INT,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255,r}function g(e,t,n,r,o){return e[r++]=we.BSON_DATA_NUMBER,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,Te.writeIEEE754(e,n.value,r,"little",52,8),r+8}function _(e,t,n,r,o,i,s){e[r++]=we.BSON_DATA_CODE,r+=s?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var a=ie.normalizedFunctionString(n),u=e.write(a,r+4,void 0,"utf8")+1;return e[r]=255&u,e[r+1]=u>>8&255,e[r+2]=u>>16&255,e[r+3]=u>>24&255,r=r+4+u-1,e[r++]=0,r}function m(e,t,n,r,o,i,s,a,u){if(void 0===o&&(o=!1),void 0===i&&(i=0),void 0===s&&(s=!1),void 0===a&&(a=!0),void 0===u&&(u=!1),n.scope&&"object"===(0,M.default)(n.scope)){e[r++]=we.BSON_DATA_CODE_W_SCOPE,r+=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var c=r,f="string"==typeof n.code?n.code:n.code.toString();r+=4;var l=e.write(f,r+4,void 0,"utf8")+1;e[r]=255&l,e[r+1]=l>>8&255,e[r+2]=l>>16&255,e[r+3]=l>>24&255,e[r+4+l-1]=0,r=r+l+4;var p=w(e,n.scope,o,r,i+1,s,a);r=p-1;var d=p-c;e[c++]=255&d,e[c++]=d>>8&255,e[c++]=d>>16&255,e[c++]=d>>24&255,e[r++]=0}else{e[r++]=we.BSON_DATA_CODE,r+=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,f=n.code.toString();var h=e.write(f,r+4,void 0,"utf8")+1;e[r]=255&h,e[r+1]=h>>8&255,e[r+2]=h>>16&255,e[r+3]=h>>24&255,r=r+4+h-1,e[r++]=0}return r}function b(e,t,n,r,o){e[r++]=we.BSON_DATA_BINARY,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=n.value(!0),s=n.position;return n.sub_type===ue.Binary.SUBTYPE_BYTE_ARRAY&&(s+=4),e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,e[r++]=n.sub_type,n.sub_type===ue.Binary.SUBTYPE_BYTE_ARRAY&&(s-=4,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255),e.set(i,r),r+n.position}function O(e,t,n,r,o){e[r++]=we.BSON_DATA_SYMBOL,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=e.write(n.value,r+4,void 0,"utf8")+1;return e[r]=255&i,e[r+1]=i>>8&255,e[r+2]=i>>16&255,e[r+3]=i>>24&255,r=r+4+i-1,e[r++]=0,r}function A(e,t,n,r,o,i,s){e[r++]=we.BSON_DATA_OBJECT,r+=s?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var a=r,u={$ref:n.collection||n.namespace,$id:n.oid};null!=n.db&&(u.$db=n.db);var c=w(e,u=Object.assign(u,n.fields),!1,r,o+1,i),f=c-a;return e[a++]=255&f,e[a++]=f>>8&255,e[a++]=f>>16&255,e[a++]=f>>24&255,c}function w(e,t,w,N,T,I,B,P){void 0===w&&(w=!1),void 0===N&&(N=0),void 0===T&&(T=0),void 0===I&&(I=!1),void 0===B&&(B=!0),void 0===P&&(P=[]),N=N||0,(P=P||[]).push(t);var L=N+4;if(Array.isArray(t))for(var D=0;D<t.length;D++){var R=""+D;if((U=t[D])&&U.toBSON){if("function"!=typeof U.toBSON)throw new TypeError("toBSON is not a function");U=U.toBSON()}if("string"==typeof U)L=r(e,R,U,L,!0);else if("number"==typeof U)L=o(e,R,U,L,!0);else{if("bigint"==typeof U)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"==typeof U)L=s(e,R,U,L,!0);else if(U instanceof Date||ie.isDate(U))L=a(e,R,U,L,!0);else if(void 0===U)L=i(e,R,0,L,!0);else if(null===U)L=i(e,R,0,L,!0);else if("ObjectId"===U._bsontype||"ObjectID"===U._bsontype)L=l(e,R,U,L,!0);else if(ie.isBuffer(U)||ie.isUint8Array(U))L=p(e,R,U,L,!0);else if(U instanceof RegExp||n(U))L=u(e,R,U,L,!0);else if("object"===(0,M.default)(U)&&null==U._bsontype)L=d(e,R,U,L,w,T,I,B,!0,P);else if("object"===(0,
M.default)(U)&&Oe.isBSONType(U)&&"Decimal128"===U._bsontype)L=h(e,R,U,L,!0);else if("Long"===U._bsontype||"Timestamp"===U._bsontype)L=y(e,R,U,L,!0);else if("Double"===U._bsontype)L=g(e,R,U,L,!0);else if("function"==typeof U&&I)L=_(e,R,U,L,0,0,!0);else if("Code"===U._bsontype)L=m(e,R,U,L,w,T,I,B,!0);else if("Binary"===U._bsontype)L=b(e,R,U,L,!0);else if("Symbol"===U._bsontype)L=O(e,R,U,L,!0);else if("DBRef"===U._bsontype)L=A(e,R,U,L,T,I,!0);else if("BSONRegExp"===U._bsontype)L=c(e,R,U,L,!0);else if("Int32"===U._bsontype)L=v(e,R,U,L,!0);else if("MinKey"===U._bsontype||"MaxKey"===U._bsontype)L=f(e,R,U,L,!0);else if(void 0!==U._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+U._bsontype)}}else if(t instanceof Ae.Map)for(var C=t.entries(),x=!1;!x;){var k=C.next();if(!(x=!!k.done)){R=k.value[0];var U=k.value[1],j=(0,M.default)(U);if("string"==typeof R&&!E.has(R)){if(null!=R.match(S))throw Error("key "+R+" must not contain null bytes");if(w){if("$"===R[0])throw Error("key "+R+" must not start with '$'");if(~R.indexOf("."))throw Error("key "+R+" must not contain '.'")}}if("string"===j)L=r(e,R,U,L);else if("number"===j)L=o(e,R,U,L);else{if("bigint"===j||ie.isBigInt64Array(U)||ie.isBigUInt64Array(U))throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===j)L=s(e,R,U,L);else if(U instanceof Date||ie.isDate(U))L=a(e,R,U,L);else if(null===U||void 0===U&&!1===B)L=i(e,R,0,L);else if("ObjectId"===U._bsontype||"ObjectID"===U._bsontype)L=l(e,R,U,L);else if(ie.isBuffer(U)||ie.isUint8Array(U))L=p(e,R,U,L);else if(U instanceof RegExp||n(U))L=u(e,R,U,L);else if("object"===j&&null==U._bsontype)L=d(e,R,U,L,w,T,I,B,!1,P);else if("object"===j&&"Decimal128"===U._bsontype)L=h(e,R,U,L);else if("Long"===U._bsontype||"Timestamp"===U._bsontype)L=y(e,R,U,L);else if("Double"===U._bsontype)L=g(e,R,U,L);else if("Code"===U._bsontype)L=m(e,R,U,L,w,T,I,B);else if("function"==typeof U&&I)L=_(e,R,U,L,0,0,I);else if("Binary"===U._bsontype)L=b(e,R,U,L);else if("Symbol"===U._bsontype)L=O(e,R,U,L);else if("DBRef"===U._bsontype)L=A(e,R,U,L,T,I);else if("BSONRegExp"===U._bsontype)L=c(e,R,U,L);else if("Int32"===U._bsontype)L=v(e,R,U,L);else if("MinKey"===U._bsontype||"MaxKey"===U._bsontype)L=f(e,R,U,L);else if(void 0!==U._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+U._bsontype)}}}else{if(t.toBSON){if("function"!=typeof t.toBSON)throw new TypeError("toBSON is not a function");if(null!=(t=t.toBSON())&&"object"!==(0,M.default)(t))throw new TypeError("toBSON function did not return an object")}for(var R in t){if((U=t[R])&&U.toBSON){if("function"!=typeof U.toBSON)throw new TypeError("toBSON is not a function");U=U.toBSON()}if(j=(0,M.default)(U),"string"==typeof R&&!E.has(R)){if(null!=R.match(S))throw Error("key "+R+" must not contain null bytes");if(w){if("$"===R[0])throw Error("key "+R+" must not start with '$'");if(~R.indexOf("."))throw Error("key "+R+" must not contain '.'")}}if("string"===j)L=r(e,R,U,L);else if("number"===j)L=o(e,R,U,L);else{if("bigint"===j)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===j)L=s(e,R,U,L);else if(U instanceof Date||ie.isDate(U))L=a(e,R,U,L);else if(void 0===U)!1===B&&(L=i(e,R,0,L));else if(null===U)L=i(e,R,0,L);else if("ObjectId"===U._bsontype||"ObjectID"===U._bsontype)L=l(e,R,U,L);else if(ie.isBuffer(U)||ie.isUint8Array(U))L=p(e,R,U,L);else if(U instanceof RegExp||n(U))L=u(e,R,U,L);else if("object"===j&&null==U._bsontype)L=d(e,R,U,L,w,T,I,B,!1,P);else if("object"===j&&"Decimal128"===U._bsontype)L=h(e,R,U,L);else if("Long"===U._bsontype||"Timestamp"===U._bsontype)L=y(e,R,U,L);else if("Double"===U._bsontype)L=g(e,R,U,L);else if("Code"===U._bsontype)L=m(e,R,U,L,w,T,I,B);else if("function"==typeof U&&I)L=_(e,R,U,L,0,0,I);else if("Binary"===U._bsontype)L=b(e,R,U,L);else if("Symbol"===U._bsontype)L=O(e,R,U,L);else if("DBRef"===U._bsontype)L=A(e,R,U,L,T,I);else if("BSONRegExp"===U._bsontype)L=c(e,R,U,L);else if("Int32"===U._bsontype)L=v(e,R,U,L);else if("MinKey"===U._bsontype||"MaxKey"===U._bsontype)L=f(e,R,U,L);else if(void 0!==U._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+U._bsontype)}}}P.pop(),e[L++]=0;var Y=L-N;return e[N++]=255&Y,e[N++]=Y>>8&255,e[N++]=Y>>16&255,e[N++]=Y>>24&255,L}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeInto=void 0;var S=/\x00/,E=new Set(["$db","$ref","$id","$clusterTime"]);t.serializeInto=w});r(Ie),Ie.serializeInto;var Be=o(function(e,t){function n(e){l.length<e&&(l=K.Buffer.alloc(e))}function r(e,t){void 0===t&&(t={});var n="boolean"==typeof t.checkKeys&&t.checkKeys,r="boolean"==typeof t.serializeFunctions&&t.serializeFunctions,o="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined,i="number"==typeof t.minInternalBufferSize?t.minInternalBufferSize:f;l.length<i&&(l=K.Buffer.alloc(i));var s=Ie.serializeInto(l,e,n,0,0,r,o,[]),a=K.Buffer.alloc(s);return l.copy(a,0,0,a.length),a}function o(e,t,n){void 0===n&&(n={});var r="boolean"==typeof n.checkKeys&&n.checkKeys,o="boolean"==typeof n.serializeFunctions&&n.serializeFunctions,i="boolean"!=typeof n.ignoreUndefined||n.ignoreUndefined,s="number"==typeof n.index?n.index:0,a=Ie.serializeInto(l,e,r,0,0,o,i);return l.copy(t,s,0,a),s+a-1}function i(e,t){return void 0===t&&(t={}),Ne.deserialize(se.ensureBuffer(e),t)}function s(e,t){void 0===t&&(t={});var n="boolean"==typeof(t=t||{}).serializeFunctions&&t.serializeFunctions,r="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined;return Se.calculateObjectSize(e,n,r)}function a(e,t,n,r,o,i){for(var s=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},i),a=se.ensureBuffer(e),u=t,c=0;c<n;c++){var f=a[u]|a[u+1]<<8|a[u+2]<<16|a[u+3]<<24;s.index=u,r[o+c]=Ne.deserialize(a,s),u+=f}return u}Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeStream=t.calculateObjectSize=t.deserialize=t.serializeWithBufferAndIndex=t.serialize=t.setInternalBufferSize=t.ObjectID=t.Decimal128=t.BSONRegExp=t.MaxKey=t.MinKey=t.Int32=t.Double=t.Timestamp=t.Long=t.ObjectId=t.Binary=t.DBRef=t.BSONSymbol=t.Map=t.Code=t.LongWithoutOverridesClass=t.EJSON=t.BSON_INT64_MIN=t.BSON_INT64_MAX=t.BSON_INT32_MIN=t.BSON_INT32_MAX=t.BSON_DATA_UNDEFINED=t.BSON_DATA_TIMESTAMP=t.BSON_DATA_SYMBOL=t.BSON_DATA_STRING=t.BSON_DATA_REGEXP=t.BSON_DATA_OID=t.BSON_DATA_OBJECT=t.BSON_DATA_NUMBER=t.BSON_DATA_NULL=t.BSON_DATA_MIN_KEY=t.BSON_DATA_MAX_KEY=t.BSON_DATA_LONG=t.BSON_DATA_INT=t.BSON_DATA_DECIMAL128=t.BSON_DATA_DBPOINTER=t.BSON_DATA_DATE=t.BSON_DATA_CODE_W_SCOPE=t.BSON_DATA_CODE=t.BSON_DATA_BOOLEAN=t.BSON_DATA_BINARY=t.BSON_DATA_ARRAY=t.BSON_BINARY_SUBTYPE_UUID_NEW=t.BSON_BINARY_SUBTYPE_UUID=t.BSON_BINARY_SUBTYPE_USER_DEFINED=t.BSON_BINARY_SUBTYPE_MD5=t.BSON_BINARY_SUBTYPE_FUNCTION=t.BSON_BINARY_SUBTYPE_DEFAULT=t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=void 0,Object.defineProperty(t,"Binary",{enumerable:!0,get:function(){return ue.Binary}}),Object.defineProperty(t,"Code",{enumerable:!0,get:function(){return ce.Code}}),Object.defineProperty(t,"DBRef",{enumerable:!0,get:function(){return fe.DBRef}}),Object.defineProperty(t,"Decimal128",{enumerable:!0,get:function(){return pe.Decimal128}}),Object.defineProperty(t,"Double",{enumerable:!0,get:function(){return de.Double}}),Object.defineProperty(t,"Int32",{enumerable:!0,get:function(){return he.Int32}}),Object.defineProperty(t,"Long",{enumerable:!0,get:function(){return le.Long}}),Object.defineProperty(t,"Map",{enumerable:!0,get:function(){return Ae.Map}}),Object.defineProperty(t,"MaxKey",{enumerable:!0,get:function(){return ye.MaxKey}}),Object.defineProperty(t,"MinKey",{enumerable:!0,get:function(){return ve.MinKey}}),Object.defineProperty(t,"ObjectId",{enumerable:!0,get:function(){return ge.ObjectId}}),Object.defineProperty(t,"ObjectID",{enumerable:!0,get:function(){return ge.ObjectId}}),Object.defineProperty(t,"BSONRegExp",{enumerable:!0,get:function(){return _e.BSONRegExp}}),Object.defineProperty(t,"BSONSymbol",{enumerable:!0,get:function(){return me.BSONSymbol}}),Object.defineProperty(t,"Timestamp",{enumerable:!0,get:function(){return be.Timestamp}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_BYTE_ARRAY",{enumerable:!0,get:function(){return we.BSON_BINARY_SUBTYPE_BYTE_ARRAY}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_DEFAULT",{enumerable:!0,get:function(){return we.BSON_BINARY_SUBTYPE_DEFAULT}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_FUNCTION",{enumerable:!0,get:function(){return we.BSON_BINARY_SUBTYPE_FUNCTION}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_MD5",{enumerable:!0,get:function(){return we.BSON_BINARY_SUBTYPE_MD5}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_USER_DEFINED",{enumerable:!0,get:function(){return we.BSON_BINARY_SUBTYPE_USER_DEFINED}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_UUID",{enumerable:!0,get:function(){return we.BSON_BINARY_SUBTYPE_UUID}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_UUID_NEW",{enumerable:!0,get:function(){return we.BSON_BINARY_SUBTYPE_UUID_NEW}}),Object.defineProperty(t,"BSON_DATA_ARRAY",{enumerable:!0,get:function(){return we.BSON_DATA_ARRAY}}),Object.defineProperty(t,"BSON_DATA_BINARY",{enumerable:!0,get:function(){return we.BSON_DATA_BINARY}}),Object.defineProperty(t,"BSON_DATA_BOOLEAN",{enumerable:!0,get:function(){return we.BSON_DATA_BOOLEAN}}),Object.defineProperty(t,"BSON_DATA_CODE",{enumerable:!0,get:function(){return we.BSON_DATA_CODE}}),Object.defineProperty(t,"BSON_DATA_CODE_W_SCOPE",{enumerable:!0,get:function(){return we.BSON_DATA_CODE_W_SCOPE}}),Object.defineProperty(t,"BSON_DATA_DATE",{enumerable:!0,get:function(){return we.BSON_DATA_DATE}}),Object.defineProperty(t,"BSON_DATA_DBPOINTER",{enumerable:!0,get:function(){return we.BSON_DATA_DBPOINTER}}),Object.defineProperty(t,"BSON_DATA_DECIMAL128",{enumerable:!0,get:function(){return we.BSON_DATA_DECIMAL128}}),Object.defineProperty(t,"BSON_DATA_INT",{enumerable:!0,get:function(){return we.BSON_DATA_INT}}),Object.defineProperty(t,"BSON_DATA_LONG",{enumerable:!0,get:function(){return we.BSON_DATA_LONG}}),Object.defineProperty(t,"BSON_DATA_MAX_KEY",{enumerable:!0,get:function(){return we.BSON_DATA_MAX_KEY}}),Object.defineProperty(t,"BSON_DATA_MIN_KEY",{enumerable:!0,get:function(){return we.BSON_DATA_MIN_KEY}}),Object.defineProperty(t,"BSON_DATA_NULL",{enumerable:!0,get:function(){return we.BSON_DATA_NULL}}),Object.defineProperty(t,"BSON_DATA_NUMBER",{enumerable:!0,get:function(){return we.BSON_DATA_NUMBER}}),Object.defineProperty(t,"BSON_DATA_OBJECT",{enumerable:!0,get:function(){return we.BSON_DATA_OBJECT}}),Object.defineProperty(t,"BSON_DATA_OID",{enumerable:!0,get:function(){return we.BSON_DATA_OID}}),Object.defineProperty(t,"BSON_DATA_REGEXP",{enumerable:!0,get:function(){return we.BSON_DATA_REGEXP}}),Object.defineProperty(t,"BSON_DATA_STRING",{enumerable:!0,get:function(){return we.BSON_DATA_STRING}}),Object.defineProperty(t,"BSON_DATA_SYMBOL",{enumerable:!0,get:function(){return we.BSON_DATA_SYMBOL}}),Object.defineProperty(t,"BSON_DATA_TIMESTAMP",{enumerable:!0,get:function(){return we.BSON_DATA_TIMESTAMP}}),Object.defineProperty(t,"BSON_DATA_UNDEFINED",{enumerable:!0,get:function(){return we.BSON_DATA_UNDEFINED}}),Object.defineProperty(t,"BSON_INT32_MAX",{enumerable:!0,get:function(){return we.BSON_INT32_MAX}}),Object.defineProperty(t,"BSON_INT32_MIN",{enumerable:!0,get:function(){return we.BSON_INT32_MIN}}),Object.defineProperty(t,"BSON_INT64_MAX",{enumerable:!0,get:function(){return we.BSON_INT64_MAX}}),Object.defineProperty(t,"BSON_INT64_MIN",{enumerable:!0,get:function(){return we.BSON_INT64_MIN}});var u=Oe;Object.defineProperty(t,"EJSON",{enumerable:!0,get:function(){return u.EJSON}});var c=be;Object.defineProperty(t,"LongWithoutOverridesClass",{enumerable:!0,get:function(){return c.LongWithoutOverridesClass}});var f=17825792,l=K.Buffer.alloc(f);t.setInternalBufferSize=n,t.serialize=r,t.serializeWithBufferAndIndex=o,t.deserialize=i,t.calculateObjectSize=s,t.deserializeStream=a;var p={Binary:ue.Binary,Code:ce.Code,DBRef:fe.DBRef,Decimal128:pe.Decimal128,Double:de.Double,Int32:he.Int32,Long:le.Long,Map:Ae.Map,MaxKey:ye.MaxKey,MinKey:ve.MinKey,ObjectId:ge.ObjectId,ObjectID:ge.ObjectId,BSONRegExp:_e.BSONRegExp,BSONSymbol:me.BSONSymbol,Timestamp:be.Timestamp,EJSON:Oe.EJSON,setInternalBufferSize:n,serialize:r,serializeWithBufferAndIndex:o,deserialize:i,calculateObjectSize:s,deserializeStream:a};t.default=p}),Pe=r(Be),Le=Be.deserializeStream;t.deserializeStream=Le;var De=Be.calculateObjectSize;t.calculateObjectSize=De;var Re=Be.deserialize;t.deserialize=Re;var Me=Be.serializeWithBufferAndIndex;t.serializeWithBufferAndIndex=Me;var Ce=Be.serialize;t.serialize=Ce;var xe=Be.setInternalBufferSize;t.setInternalBufferSize=xe;var ke=Be.ObjectID;t.ObjectID=ke;var Ue=Be.Decimal128;t.Decimal128=Ue;var je=Be.BSONRegExp;t.BSONRegExp=je;var Ye=Be.MaxKey;t.MaxKey=Ye;var $e=Be.MinKey;t.MinKey=$e;var qe=Be.Int32;t.Int32=qe;var Fe=Be.Double;t.Double=Fe;var Ge=Be.Timestamp;t.Timestamp=Ge;var We=Be.Long;t.Long=We;var ze=Be.ObjectId;t.ObjectId=ze;var He=Be.Binary;t.Binary=He;var Ve=Be.DBRef;t.DBRef=Ve;var Ke=Be.BSONSymbol;t.BSONSymbol=Ke;var Je=Be.Map;t.Map=Je;var Qe=Be.Code;t.Code=Qe;var Xe=Be.LongWithoutOverridesClass;t.LongWithoutOverridesClass=Xe;var Ze=Be.EJSON;t.EJSON=Ze;var et=Be.BSON_INT64_MIN;t.BSON_INT64_MIN=et;var tt=Be.BSON_INT64_MAX;t.BSON_INT64_MAX=tt;var nt=Be.BSON_INT32_MIN;t.BSON_INT32_MIN=nt;var rt=Be.BSON_INT32_MAX;t.BSON_INT32_MAX=rt;var ot=Be.BSON_DATA_UNDEFINED;t.BSON_DATA_UNDEFINED=ot;var it=Be.BSON_DATA_TIMESTAMP;t.BSON_DATA_TIMESTAMP=it;var st=Be.BSON_DATA_SYMBOL;t.BSON_DATA_SYMBOL=st;var at=Be.BSON_DATA_STRING;t.BSON_DATA_STRING=at;var ut=Be.BSON_DATA_REGEXP;t.BSON_DATA_REGEXP=ut;var ct=Be.BSON_DATA_OID;t.BSON_DATA_OID=ct;var ft=Be.BSON_DATA_OBJECT;t.BSON_DATA_OBJECT=ft;var lt=Be.BSON_DATA_NUMBER;t.BSON_DATA_NUMBER=lt;var pt=Be.BSON_DATA_NULL;t.BSON_DATA_NULL=pt;var dt=Be.BSON_DATA_MIN_KEY;t.BSON_DATA_MIN_KEY=dt;var ht=Be.BSON_DATA_MAX_KEY;t.BSON_DATA_MAX_KEY=ht;var yt=Be.BSON_DATA_LONG;t.BSON_DATA_LONG=yt;var vt=Be.BSON_DATA_INT;t.BSON_DATA_INT=vt;var gt=Be.BSON_DATA_DECIMAL128;t.BSON_DATA_DECIMAL128=gt;var _t=Be.BSON_DATA_DBPOINTER;t.BSON_DATA_DBPOINTER=_t;var mt=Be.BSON_DATA_DATE;t.BSON_DATA_DATE=mt;var bt=Be.BSON_DATA_CODE_W_SCOPE;t.BSON_DATA_CODE_W_SCOPE=bt;var Ot=Be.BSON_DATA_CODE;t.BSON_DATA_CODE=Ot;var At=Be.BSON_DATA_BOOLEAN;t.BSON_DATA_BOOLEAN=At;var wt=Be.BSON_DATA_BINARY;t.BSON_DATA_BINARY=wt;var St=Be.BSON_DATA_ARRAY;t.BSON_DATA_ARRAY=St;var Et=Be.BSON_BINARY_SUBTYPE_UUID_NEW;t.BSON_BINARY_SUBTYPE_UUID_NEW=Et;var Nt=Be.BSON_BINARY_SUBTYPE_UUID;t.BSON_BINARY_SUBTYPE_UUID=Nt;var Tt=Be.BSON_BINARY_SUBTYPE_USER_DEFINED;t.BSON_BINARY_SUBTYPE_USER_DEFINED=Tt;var It=Be.BSON_BINARY_SUBTYPE_MD5;t.BSON_BINARY_SUBTYPE_MD5=It;var Bt=Be.BSON_BINARY_SUBTYPE_FUNCTION;t.BSON_BINARY_SUBTYPE_FUNCTION=Bt;var Pt=Be.BSON_BINARY_SUBTYPE_DEFAULT;t.BSON_BINARY_SUBTYPE_DEFAULT=Pt;var Lt=Be.BSON_BINARY_SUBTYPE_BYTE_ARRAY;t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=Lt;var Dt=Pe;t.default=Dt},4934:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.WxMpWebSocket=t.wxMpStorage=t.WxRequest=void 0;var r,o=n(1588),i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},u=function(e,t){function n(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}var r,o,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},c=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this,r=t.timeout,o=t.timeoutMsg,i=t.restrictedMethods;return n._timeout=r||0,n._timeoutMsg=o||"请求超时",n._restrictedMethods=i||["get","post","upload","download"],n}return i(t,e),t.prototype.post=function(e){var t=this;return new Promise(function(n,r){var i=e.url,s=e.data,a=e.headers,u=wx.request({url:(0,o.formatUrl)("https:",i),data:s,timeout:t._timeout,method:"POST",header:a,success:function(e){n(e)},fail:function(e){r(e)},complete:function(e){if(e&&e.errMsg&&t._timeout&&-1!==t._restrictedMethods.indexOf("post")&&"request:fail timeout"===e.errMsg){console.warn(t._timeoutMsg);try{u.abort()}catch(e){}}}})})},t.prototype.upload=function(e){var t=this,n=this;return new Promise(function(r){return a(t,void 0,void 0,function(){var t,o,i,a,c,f;return u(this,function(u){return t=e.url,o=e.file,i=e.data,a=e.headers,c=e.onUploadProgress,f=wx.uploadFile({url:t,filePath:o,name:"file",formData:s({},i),header:a,timeout:this._timeout,success:function(e){var t={statusCode:e.statusCode,data:e.data||{}};200===e.statusCode&&i.success_action_status&&(t.statusCode=parseInt(i.success_action_status,10)),r(t)},fail:function(e){r(e)},complete:function(e){if(e&&e.errMsg&&n._timeout&&-1!==n._restrictedMethods.indexOf("upload")&&"request:fail timeout"===e.errMsg){console.warn(n._timeoutMsg);try{f.abort()}catch(e){}}}}),c&&f.onProgressUpdate(function(e){c(e)}),[2]})})})},t.prototype.download=function(e){var t=this,n=this;return new Promise(function(r,i){var s=e.url,a=e.headers,u=wx.downloadFile({url:(0,o.formatUrl)("https:",s),header:a,timeout:t._timeout,success:function(e){200===e.statusCode&&e.tempFilePath?r({statusCode:200,tempFilePath:e.tempFilePath}):r(e)},fail:function(e){i(e)},complete:function(e){if(e&&e.errMsg&&n._timeout&&-1!==n._restrictedMethods.indexOf("download")&&"request:fail timeout"===e.errMsg){console.warn(n._timeoutMsg);try{u.abort()}catch(e){}}}})})},t}(o.AbstractSDKRequest);t.WxRequest=c;var f={setItem:function(e,t){wx.setStorageSync(e,t)},getItem:function(e){return wx.getStorageSync(e)},removeItem:function(e){wx.removeStorageSync(e)},clear:function(){wx.clearStorageSync()}};t.wxMpStorage=f;var l=function(e,t){void 0===t&&(t={});var n=wx.connectSocket(s({url:e},t));return{set onopen(e){n.onOpen(e)},set onmessage(e){n.onMessage(e)},set onclose(e){n.onClose(e)},set onerror(e){n.onError(e)},send:function(e){return n.send({data:e})},close:function(e,t){return n.close({code:e,reason:t})},get readyState(){return n.readyState},CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3}};t.WxMpWebSocket=l;var p={genAdapter:function(){return{root:{},reqClass:c,wsClass:l,localStorage:f,primaryStorage:o.StorageType.local,getAppSign:function(){var e=wx.getAccountInfoSync();return"undefined"!=typeof App||"undefined"!=typeof getApp||wx.onAppHide||wx.offAppHide||wx.onAppShow||wx.offAppShow?e&&e.miniProgram?e.miniProgram.appId:"":e&&e.plugin?e.plugin.appId:""}}},isMatch:function(){if("undefined"==typeof wx)return!1;if("undefined"==typeof Page)return!1;if(!wx.getSystemInfoSync)return!1;if(!wx.getStorageSync)return!1;if(!wx.setStorageSync)return!1;if(!wx.connectSocket)return!1;if(!wx.request)return!1;try{if(!wx.getSystemInfoSync())return!1;if("qq"===wx.getSystemInfoSync().AppPlatform)return!1}catch(e){return!1}return!0},runtime:"wx_mp"};t.default=p},9935:function(e,t,n){"use strict";var r,o,i,s,a=n(3483)(n(3988));s=function(){var e=e||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},o=r.lib={},i=o.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=o.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var s=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=s<<24-(r+i)%4*8}else for(i=0;i<o;i+=4)t[r+i>>>2]=n[i>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],o=function(t){t=t;var n=987654321,r=4294967295;return function(){var o=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return o/=4294967296,(o+=.5)*(e.random()>.5?1:-1)}},i=0;i<t;i+=4){var a=o(4294967296*(n||e.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,t)}}),a=r.enc={},u=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new s.init(n,t/2)}},c=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new s.init(n,t)}},f=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},l=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,o=n.sigBytes,i=this.blockSize,a=o/(4*i),u=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*i,c=e.min(4*u,o);if(u){for(var f=0;f<u;f+=i)this._doProcessBlock(r,f);var l=r.splice(0,u);n.sigBytes-=c}return new s.init(l,c)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),p=(o.Hasher=l.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math);return e},"object"===(0,a.default)(t)?e.exports=t=s():(o=[],void 0===(i="function"==typeof(r=s)?r.apply(t,o):r)||(e.exports=i))},4544:function(e,t,n){"use strict";var r,o,i,s,a=n(3483)(n(3988));s=function(e){var t,n;return n=(t=e).lib.WordArray,t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],i=0;i<n;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<n;a++)o.push(r.charAt(s>>>6*(3-a)&63));var u=r.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(e){var t=e.length,r=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<r.length;i++)o[r.charCodeAt(i)]=i}var s=r.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return function(e,t,r){for(var o=[],i=0,s=0;s<t;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2,u=r[e.charCodeAt(s)]>>>6-s%4*2;o[i>>>2]|=(a|u)<<24-i%4*8,i++}return n.create(o,i)}(e,t,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},"object"===(0,a.default)(t)?e.exports=t=s(n(9935)):(o=[n(9935)],void 0===(i="function"==typeof(r=s)?r.apply(t,o):r)||(e.exports=i))},1801:function(e,t,n){"use strict";var r,o,i,s,a=n(3483)(n(3988));s=function(e){return e.enc.Utf8},"object"===(0,a.default)(t)?e.exports=t=s(n(9935)):(o=[n(9935)],void 0===(i="function"==typeof(r=s)?r.apply(t,o):r)||(e.exports=i))},6443:function(e,t,n){"use strict";var r,o,i,s,a=n(3483)(n(3988));s=function(e){return e.HmacSHA256},"object"===(0,a.default)(t)?e.exports=t=s(n(9935),n(2803),n(8836)):(o=[n(9935),n(2803),n(8836)],void 0===(i="function"==typeof(r=s)?r.apply(t,o):r)||(e.exports=i))},8836:function(e,t,n){"use strict";var r,o,i,s,a=n(3483)(n(3988));s=function(e){var t,n,r;n=(t=e).lib.Base,r=t.enc.Utf8,t.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,o=4*n;t.sigBytes>o&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),s=this._iKey=t.clone(),a=i.words,u=s.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;i.sigBytes=s.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})},"object"===(0,a.default)(t)?e.exports=t=s(n(9935)):(o=[n(9935)],void 0===(i="function"==typeof(r=s)?r.apply(t,o):r)||(e.exports=i))},2803:function(e,t,n){"use strict";var r,o,i,s,a=n(3483)(n(3988));s=function(e){return function(t){var n=e,r=n.lib,o=r.WordArray,i=r.Hasher,s=n.algo,a=[],u=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,o=0;o<64;)e(r)&&(o<8&&(a[o]=n(t.pow(r,.5))),u[o]=n(t.pow(r,1/3)),o++),r++}();var c=[],f=s.SHA256=i.extend({_doReset:function(){this._hash=new o.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],f=n[5],l=n[6],p=n[7],d=0;d<64;d++){if(d<16)c[d]=0|e[t+d];else{var h=c[d-15],y=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,v=c[d-2],g=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;c[d]=y+c[d-7]+g+c[d-16]}var _=r&o^r&i^o&i,m=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),b=p+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&f^~a&l)+u[d]+c[d];p=l,l=f,f=a,a=s+b|0,s=i,i=o,o=r,r=b+(m+_)|0}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+f|0,n[6]=n[6]+l|0,n[7]=n[7]+p|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,o=8*e.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(o+64>>>9<<4)]=t.floor(r/4294967296),n[15+(o+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=i._createHelper(f),n.HmacSHA256=i._createHmacHelper(f)}(Math),e.SHA256},"object"===(0,a.default)(t)?e.exports=t=s(n(9935)):(o=[n(9935)],void 0===(i="function"==typeof(r=s)?r.apply(t,o):r)||(e.exports=i))},5306:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n,r,o,i=e[1]||"",s=e[3];if(!s)return i;if(t&&"function"==typeof btoa){var a=(n=s,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(o," */")),u=s.sources.map(function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")});return[i].concat(u).concat([a]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n}).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(o[s]=!0)}for(var a=0;a<e.length;a++){var u=[].concat(e[a]);r&&o[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},3355:function(e,t,n){"use strict";e=n.nmd(e);var r=n(3483)(n(3988)),o=function(e){function t(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}function n(e,t,n,r){var s=t&&t.prototype instanceof i?t:i,a=Object.create(s.prototype),u=new d(r||[]);return a._invoke=function(e,t,n){var r=w;return function(i,s){if(r===E)throw new Error("Generator is already running");if(r===N){if("throw"===i)throw s;return y()}for(n.method=i,n.arg=s;;){var a=n.delegate;if(a){var u=f(a,n);if(u){if(u===T)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===w)throw r=N,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=E;var c=o(e,t,n);if("normal"===c.type){if(r=n.done?N:S,c.arg===T)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=N,n.method="throw",n.arg=c.arg)}}}(e,n,u),a}function o(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function s(){}function a(){}function u(e){["next","throw","return"].forEach(function(n){t(e,n,function(e){return this._invoke(n,e)})})}function c(e,t){function n(i,s,a,u){var c=o(e[i],e,s);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"===(0,r.default)(l)&&_.call(l,"__await")?t.resolve(l.__await).then(function(e){n("next",e,a,u)},function(e){n("throw",e,a,u)}):t.resolve(l).then(function(e){f.value=e,a(f)},function(e){return n("throw",e,a,u)})}u(c.arg)}var i;this._invoke=function(e,r){function o(){return new t(function(t,o){n(e,r,t,o)})}return i=i?i.then(o,o):o()}}function f(e,t){var n=e.iterator[t.method];if(n===v){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=v,f(e,t),"throw"===t.method))return T;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var r=o(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,T;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=v),t.delegate=null,T):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,T)}function l(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(l,this),this.reset(!0)}function h(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(_.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=v,t.done=!0,t};return r.next=r}}return{next:y}}function y(){return{value:v,done:!0}}var v,g=Object.prototype,_=g.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},b=m.iterator||"@@iterator",O=m.asyncIterator||"@@asyncIterator",A=m.toStringTag||"@@toStringTag";try{t({},"")}catch(e){t=function(e,t,n){return e[t]=n}}e.wrap=n;var w="suspendedStart",S="suspendedYield",E="executing",N="completed",T={},I={};I[b]=function(){return this};var B=Object.getPrototypeOf,P=B&&B(B(h([])));P&&P!==g&&_.call(P,b)&&(I=P)
;var L=a.prototype=i.prototype=Object.create(I);return s.prototype=L.constructor=a,a.constructor=s,s.displayName=t(a,A,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===s||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,t(e,A,"GeneratorFunction")),e.prototype=Object.create(L),e},e.awrap=function(e){return{__await:e}},u(c.prototype),c.prototype[O]=function(){return this},e.AsyncIterator=c,e.async=function(t,r,o,i,s){void 0===s&&(s=Promise);var a=new c(n(t,r,o,i),s);return e.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},u(L),t(L,A,"Generator"),L[b]=function(){return this},L.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=h,d.prototype={constructor:d,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(p),!e)for(var t in this)"t"===t.charAt(0)&&_.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=v)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=v),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var s=_.call(o,"catchLoc"),a=_.call(o,"finallyLoc");if(s&&a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&_.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,T):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),T},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),p(n),T}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;p(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=v),T}},e}("object"===(0,r.default)(e)?e.exports:{});try{regeneratorRuntime=o}catch(e){Function("r","regeneratorRuntime = r")(o)}},9785:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var o=r(n(6978)),i=r(n(4920)),s=r(n(7054)),a={components:{XkFooter:o.default,XkIssue:i.default,XkInfo:s.default}};t.Z=a},5272:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var o=r(n(8252)),i={props:["bbData","name","avatar","fromColor"],data:function(){return{content:"",date:"",from:""}},computed:{time_title:function(){return new Date(this.bbData.date).toLocaleString()}},mounted:function(){this.content=this.formatBody(this.bbData.content),this.from=this.bbData.from;var e=this.bbData.date,t=(new Date).getTime()-new Date(e).getTime(),n=new Date(this.bbData.date).getTime()+288e5,r=new Date(n).toJSON();r=r.substr(0,10).replace("T"," "),this.date=t>26784e5?r:timeago.format(this.bbData.date,"zh_CN")},methods:{formatBody:function(e){if(o.default.prototype.$marked){var t=o.default.prototype.$marked,n={image:function(e,t,n){return console.log(e),'<a href="'.concat(e,'" target="_blank" data-fancybox="group" class="fancybox">\n           <img src="').concat(e,"\" alt='").concat(n,"'>\n          </a>")}};return t.use({renderer:n}),t(e,{breaks:!0,gfm:!0})}var r;return r=(r=(r=(r=(r=e).replace(/<img [^>]*src=['"]([^'"]+)[^>]*>/gm,function(e,t,n,r){return t})).replace(/!\[(.*?)\]\((.*?)\)/gm,function(e,t,n){return n})).replace(/\bhttps?:[^:<>"]*\/([^:<>"]*)(\.(jpeg)|(png)|(jpg)|(webp))/g,function(e){return'<a href="'.concat(e,'" target="_blank" data-fancybox="group" class="fancybox">\n            <img src="').concat(e,'" ></a>')})).replace(/\bhttps?:\/\/(?!\S+(?:jpe?g|png|bmp|gif|webp|gif|mp4))\S+/g,function(e){return"<a href='".concat(e,"' rel='noopener' target='_blank'>↘链接↙</a>")}),window.qqWechatEmotionParser&&(r=qqWechatEmotionParser(r)),r}}};t.Z=i},739:function(e,t,n){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var r=n(306),o={data:function(){return{version:r.version,name:r.name}},methods:{},mounted:function(){}};t.Z=o},317:function(e,t){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,t.Z={props:["count"]}},4667:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var o=r(n(6304)),i=r(n(7402)),s=r(n(6247)),a=r(n(8252)),u=r(n(3505)),c=r(n(7054)),f=r(n(7362));n(1598),n(8722);var l={components:(0,s.default)({XkCard:u.default,XkInfo:c.default},"XkInfo",c.default),data:function(){return{envId:"",region:"",name:"",avatar:"",bbList:[],total:0,message:"正在加载...",loading:!0,page:1,limit:5,app:null,showMessage:!1,fromColor:"",loadingImg:"https://7.dusays.com/2021/03/04/d2d5e983e2961.gif",dbName:"talks"}},methods:{login:function(e){return(0,i.default)(o.default.mark(function t(){var n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=e.auth({persistence:"local"})).hasLoginState()){t.next=4;break}return t.next=4,n.anonymousAuthProvider().signIn();case 4:case"end":return t.stop()}},t)}))()},getCount:function(){var e=this;return(0,i.default)(o.default.mark(function t(){var n,r,i;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.app.database();case 2:return n=t.sent,t.next=5,n.collection(e.dbName).count();case 5:r=t.sent,i=r.total,e.total=i;case 8:case"end":return t.stop()}},t)}))()},getData:function(){var e=this;return(0,i.default)(o.default.mark(function t(){var n,r,i,s;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,e.showMessage=!0,n=e.app,r=n.database(),t.prev=4,t.next=7,r.collection("talks").limit(e.limit).skip((e.page-1)*e.limit).orderBy("date","desc").get();case 7:i=t.sent,s=i.data,e.bbList=e.bbList.concat(s),e.loading=!1,e.showMessage=!1,e.page++,t.next=20;break;case 15:t.prev=15,t.t0=t.catch(4),e.loading=!1,e.showMessage=!0,e.message=t.t0;case 20:case"end":return t.stop()}},t,null,[[4,15]])}))()}},mounted:function(){var e=this;return(0,i.default)(o.default.mark(function t(){var n,r,i,s,u,c,l,p,d,h,y,v,g,_,m;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.default.prototype.$speakData,r=n.name,i=n.avatar,s=n.envId,u=n.limit,c=void 0===u?5:u,l=n.dbName,p=void 0===l?"talks":l,d=n.region,h=void 0===d?"ap-shanghai":d,y=n.fromColor,v=void 0===y?"rgb(245, 150, 170)":y,g=n.loadingImg,_=void 0===g?"https://7.dusays.com/2021/03/04/d2d5e983e2961.gif":g,e.name=r,e.envId=s,e.avatar=i,e.fromColor=v,e.region=h,e.dbName=p,e.limit=Number(c),e.loadingImg=_,m=f.default.init({env:e.envId,region:e.region}),e.app=m,t.next=13,e.login(e.app);case 13:return t.next=15,e.getData();case 15:return t.next=17,e.getCount();case 17:case"end":return t.stop()}},t)}))()}};t.Z=l},1658:function(e,t){"use strict";t.Z=function(e,t){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],s=i[0],a=i[1],u=i[2],c=i[3],f={id:e+":"+o,css:a,media:u,sourceMap:c};r[s]?r[s].parts.push(f):n.push(r[s]={id:s,parts:[f]})}return n}},8252:function(e,t,n){"use strict";function r(e){return null==e}function o(e){return null!=e}function i(e){return!0===e}function s(e){return"string"==typeof e||"number"==typeof e||"symbol"===(0,fn.default)(e)||"boolean"==typeof e}function a(e){return null!==e&&"object"===(0,fn.default)(e)}function u(e){return"[object Object]"===pn.call(e)}function c(e){return"[object RegExp]"===pn.call(e)}function f(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function l(e){return o(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function p(e){return null==e?"":Array.isArray(e)||u(e)&&e.toString===pn?JSON.stringify(e,null,2):String(e)}function d(e){var t=parseFloat(e);return isNaN(t)?e:t}function h(e,t){for(var n=Object.create(null),r=e.split(","),o=0;o<r.length;o++)n[r[o]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}function y(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}function v(e,t){return yn.call(e,t)}function g(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}function _(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;)r[n]=e[n+t];return r}function m(e,t){for(var n in t)e[n]=t[n];return e}function b(e){for(var t={},n=0;n<e.length;n++)e[n]&&m(t,e[n]);return t}function O(e,t,n){}function A(e,t){if(e===t)return!0;var n=a(e),r=a(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var o=Array.isArray(e),i=Array.isArray(t);if(o&&i)return e.length===t.length&&e.every(function(e,n){return A(e,t[n])});if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(o||i)return!1;var s=Object.keys(e),u=Object.keys(t);return s.length===u.length&&s.every(function(n){return A(e[n],t[n])})}catch(e){return!1}}function w(e,t){for(var n=0;n<e.length;n++)if(A(e[n],t))return n;return-1}function S(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function E(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function N(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function T(e){return"function"==typeof e&&/native code/.test(e.toString())}function I(e){Jn.push(e),Kn.target=e}function B(){Jn.pop(),Kn.target=Jn[Jn.length-1]}function P(e){return new Qn(void 0,void 0,void 0,String(e))}function L(e){var t=new Qn(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}function D(e){rr=e}function R(e,t){var n;if(a(e)&&!(e instanceof Qn))return v(e,"__ob__")&&e.__ob__ instanceof or?n=e.__ob__:rr&&!Gn()&&(Array.isArray(e)||u(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new or(e)),t&&n&&n.vmCount++,n}function M(e,t,n,r,o){var i=new Kn,s=Object.getOwnPropertyDescriptor(e,t);if(!s||!1!==s.configurable){var a=s&&s.get,u=s&&s.set;a&&!u||2!==arguments.length||(n=e[t]);var c=!o&&R(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=a?a.call(e):n;return Kn.target&&(i.depend(),c&&(c.dep.depend(),Array.isArray(t)&&k(t))),t},set:function(t){var r=a?a.call(e):n;t===r||t!=t&&r!=r||a&&!u||(u?u.call(e,t):n=t,c=!o&&R(t),i.notify())}})}}function C(e,t,n){if(Array.isArray(e)&&f(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?n:r?(M(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function x(e,t){if(Array.isArray(e)&&f(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||v(e,t)&&(delete e[t],n&&n.dep.notify())}}function k(e){for(var t=void 0,n=0,r=e.length;n<r;n++)(t=e[n])&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&k(t)}function U(e,t){if(!t)return e;for(var n,r,o,i=zn?Reflect.ownKeys(t):Object.keys(t),s=0;s<i.length;s++)"__ob__"!==(n=i[s])&&(r=e[n],o=t[n],v(e,n)?r!==o&&u(r)&&u(o)&&U(r,o):C(e,n,o));return e}function j(e,t,n){return n?function(){var r="function"==typeof t?t.call(n,n):t,o="function"==typeof e?e.call(n,n):e;return r?U(r,o):o}:t?e?function(){return U("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function Y(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(n):n}function $(e,t,n,r){var o=Object.create(e||null);return t?m(o,t):o}function q(e,t,n){function r(r){var o=ir[r]||ar;a[r]=o(e[r],t[r],n,r)}if("function"==typeof t&&(t=t.options),function(e,t){var n=e.props;if(n){var r,o,i={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(o=n[r])&&(i[gn(o)]={type:null});else if(u(n))for(var s in n)o=n[s],i[gn(s)]=u(o)?o:{type:o};e.props=i}}(t),function(e,t){var n=e.inject;if(n){var r=e.inject={};if(Array.isArray(n))for(var o=0;o<n.length;o++)r[n[o]]={from:n[o]};else if(u(n))for(var i in n){var s=n[i];r[i]=u(s)?m({from:i},s):{from:s}}}}(t),function(e){var t=e.directives;if(t)for(var n in t){var r=t[n];"function"==typeof r&&(t[n]={bind:r,update:r})}}(t),!t._base&&(t.extends&&(e=q(e,t.extends,n)),t.mixins))for(var o=0,i=t.mixins.length;o<i;o++)e=q(e,t.mixins[o],n);var s,a={};for(s in e)r(s);for(s in t)v(e,s)||r(s);return a}function F(e,t,n,r){if("string"==typeof n){var o=e[t];if(v(o,n))return o[n];var i=gn(n);if(v(o,i))return o[i];var s=_n(i);return v(o,s)?o[s]:o[n]||o[i]||o[s]}}function G(e,t,n,r){var o=t[e],i=!v(n,e),s=n[e],a=H(Boolean,o.type);if(a>-1)if(i&&!v(o,"default"))s=!1;else if(""===s||s===bn(e)){var u=H(String,o.type);(u<0||a<u)&&(s=!0)}if(void 0===s){s=function(e,t,n){if(v(t,"default")){var r=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"==typeof r&&"Function"!==W(t.type)?r.call(e):r}}(r,o,e);var c=rr;D(!0),R(s),D(c)}return s}function W(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function z(e,t){return W(e)===W(t)}function H(e,t){if(!Array.isArray(t))return z(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(z(t[n],e))return n;return-1}function V(e,t,n){I();try{if(t)for(var r=t;r=r.$parent;){var o=r.$options.errorCaptured;if(o)for(var i=0;i<o.length;i++)try{if(!1===o[i].call(r,e,t,n))return}catch(e){J(e,r,"errorCaptured hook")}}J(e,t,n)}finally{B()}}function K(e,t,n,r,o){var i;try{(i=n?e.apply(t,n):e.call(t))&&!i._isVue&&l(i)&&!i._handled&&(i.catch(function(e){return V(e,r,o+" (Promise/async)")}),i._handled=!0)}catch(e){V(e,r,o)}return i}function J(e,t,n){if(Tn.errorHandler)try{return Tn.errorHandler.call(null,e,t,n)}catch(t){t!==e&&Q(t)}Q(e)}function Q(e,t,n){if(!Ln&&!Dn||"undefined"==typeof console)throw e;console.error(e)}function X(){fr=!1;var e=cr.slice(0);cr.length=0;for(var t=0;t<e.length;t++)e[t]()}function Z(e,t){var n;if(cr.push(function(){if(e)try{e.call(t)}catch(e){V(e,t,"nextTick")}else n&&n(t)}),fr||(fr=!0,sr()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){n=e})}function ee(e){te(e,yr),yr.clear()}function te(e,t){var n,r,o=Array.isArray(e);if(!(!o&&!a(e)||Object.isFrozen(e)||e instanceof Qn)){if(e.__ob__){var i=e.__ob__.dep.id;if(t.has(i))return;t.add(i)}if(o)for(n=e.length;n--;)te(e[n],t);else for(n=(r=Object.keys(e)).length;n--;)te(e[r[n]],t)}}function ne(e,t){function n(){var e=arguments,r=n.fns;if(!Array.isArray(r))return K(r,null,arguments,t,"v-on handler");for(var o=r.slice(),i=0;i<o.length;i++)K(o[i],null,e,t,"v-on handler")}return n.fns=e,n}function re(e,t,n,o,s,a){var u,c,f,l;for(u in e)c=e[u],f=t[u],l=vr(u),r(c)||(r(f)?(r(c.fns)&&(c=e[u]=ne(c,a)),i(l.once)&&(c=e[u]=s(l.name,c,l.capture)),n(l.name,c,l.capture,l.passive,l.params)):c!==f&&(f.fns=c,e[u]=f));for(u in t)r(e[u])&&o((l=vr(u)).name,t[u],l.capture)}function oe(e,t,n){function s(){n.apply(this,arguments),y(a.fns,s)}var a;e instanceof Qn&&(e=e.data.hook||(e.data.hook={}));var u=e[t];r(u)?a=ne([s]):o(u.fns)&&i(u.merged)?(a=u).fns.push(s):a=ne([u,s]),a.merged=!0,e[t]=a}function ie(e,t,n,r,i){if(o(t)){if(v(t,n))return e[n]=t[n],i||delete t[n],!0;if(v(t,r))return e[n]=t[r],i||delete t[r],!0}return!1}function se(e){return s(e)?[P(e)]:Array.isArray(e)?ue(e):void 0}function ae(e){return o(e)&&o(e.text)&&!1===e.isComment}function ue(e,t){var n,a,u,c,f=[];for(n=0;n<e.length;n++)r(a=e[n])||"boolean"==typeof a||(c=f[u=f.length-1],Array.isArray(a)?a.length>0&&(ae((a=ue(a,(t||"")+"_"+n))[0])&&ae(c)&&(f[u]=P(c.text+a[0].text),a.shift()),f.push.apply(f,a)):s(a)?ae(c)?f[u]=P(c.text+a):""!==a&&f.push(P(a)):ae(a)&&ae(c)?f[u]=P(c.text+a.text):(i(e._isVList)&&o(a.tag)&&r(a.key)&&o(t)&&(a.key="__vlist"+t+"_"+n+"__"),f.push(a)));return f}function ce(e,t){if(e){for(var n=Object.create(null),r=zn?Reflect.ownKeys(e):Object.keys(e),o=0;o<r.length;o++){var i=r[o];if("__ob__"!==i){for(var s=e[i].from,a=t;a;){if(a._provided&&v(a._provided,s)){n[i]=a._provided[s];break}a=a.$parent}if(!a&&"default"in e[i]){var u=e[i].default;n[i]="function"==typeof u?u.call(t):u}}}return n}}function fe(e,t){if(!e||!e.length)return{};for(var n={},r=0,o=e.length;r<o;r++){var i=e[r],s=i.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,i.context!==t&&i.fnContext!==t||!s||null==s.slot)(n.default||(n.default=[])).push(i);else{var a=s.slot,u=n[a]||(n[a]=[]);"template"===i.tag?u.push.apply(u,i.children||[]):u.push(i)}}for(var c in n)n[c].every(le)&&delete n[c];return n}function le(e){return e.isComment&&!e.asyncFactory||" "===e.text}function pe(e,t,n){var r,o=Object.keys(t).length>0,i=e?!!e.$stable:!o,s=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(i&&n&&n!==ln&&s===n.$key&&!o&&!n.$hasNormal)return n;for(var a in r={},e)e[a]&&"$"!==a[0]&&(r[a]=de(t,a,e[a]))}else r={};for(var u in t)u in r||(r[u]=he(t,u));return e&&Object.isExtensible(e)&&(e._normalized=r),N(r,"$stable",i),N(r,"$key",s),N(r,"$hasNormal",o),r}function de(e,t,n){var r=function(){var e=arguments.length?n.apply(null,arguments):n({});return(e=e&&"object"===(0,fn.default)(e)&&!Array.isArray(e)?[e]:se(e))&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function he(e,t){return function(){return e[t]}}function ye(e,t){var n,r,i,s,u;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),r=0,i=e.length;r<i;r++)n[r]=t(e[r],r);else if("number"==typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(a(e))if(zn&&e[Symbol.iterator]){n=[];for(var c=e[Symbol.iterator](),f=c.next();!f.done;)n.push(t(f.value,n.length)),f=c.next()}else for(s=Object.keys(e),n=new Array(s.length),r=0,i=s.length;r<i;r++)u=s[r],n[r]=t(e[u],u,r);return o(n)||(n=[]),n._isVList=!0,n}function ve(e,t,n,r){var o,i=this.$scopedSlots[e];i?(n=n||{},r&&(n=m(m({},r),n)),o=i(n)||t):o=this.$slots[e]||t;var s=n&&n.slot;return s?this.$createElement("template",{slot:s},o):o}function ge(e){return F(this.$options,"filters",e)||wn}function _e(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function me(e,t,n,r,o){var i=Tn.keyCodes[t]||n;return o&&r&&!Tn.keyCodes[t]?_e(o,r):i?_e(i,e):r?bn(r)!==t:void 0}function be(e,t,n,r,o){if(n&&a(n)){var i;Array.isArray(n)&&(n=b(n));var s=function(s){if("class"===s||"style"===s||hn(s))i=e;else{var a=e.attrs&&e.attrs.type;i=r||Tn.mustUseProp(t,a,s)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var u=gn(s),c=bn(s);u in i||c in i||(i[s]=n[s],o&&((e.on||(e.on={}))["update:"+s]=function(e){n[s]=e}))};for(var u in n)s(u)}return e}function Oe(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||we(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),r}function Ae(e,t,n){return we(e,"__once__"+t+(n?"_"+n:""),!0),e}function we(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!=typeof e[r]&&Se(e[r],t+"_"+r,n);else Se(e,t,n)}function Se(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function Ee(e,t){if(t&&u(t)){var n=e.on=e.on?m({},e.on):{};for(var r in t){var o=n[r],i=t[r];n[r]=o?[].concat(o,i):i}}return e}function Ne(e,t,n,r){t=t||{$stable:!n};for(var o=0;o<e.length;o++){var i=e[o];Array.isArray(i)?Ne(i,t,n):i&&(i.proxy&&(i.fn.proxy=!0),t[i.key]=i.fn)}return r&&(t.$key=r),t}function Te(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"==typeof r&&r&&(e[t[n]]=t[n+1])}return e}function Ie(e,t){return"string"==typeof e?t+e:e}function Be(e){e._o=Ae,e._n=d,e._s=p,e._l=ye,e._t=ve,e._q=A,e._i=w,e._m=Oe,e._f=ge,e._k=me,e._b=be,e._v=P,e._e=Zn,e._u=Ne,e._g=Ee,e._d=Te,e._p=Ie}function Pe(e,t,n,r,o){var s,a=this,u=o.options;v(r,"_uid")?(s=Object.create(r))._original=r:(s=r,r=r._original);var c=i(u._compiled),f=!c;this.data=e,this.props=t,this.children=n,this.parent=r,this.listeners=e.on||ln,this.injections=ce(u.inject,r),this.slots=function(){return a.$slots||pe(e.scopedSlots,a.$slots=fe(n,r)),a.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return pe(e.scopedSlots,this.slots())}}),c&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=pe(e.scopedSlots,this.$slots)),u._scopeId?this._c=function(e,t,n,o){var i=Ce(s,e,t,n,o,f);return i&&!Array.isArray(i)&&(i.fnScopeId=u._scopeId,i.fnContext=r),i}:this._c=function(e,t,n,r){return Ce(s,e,t,n,r,f)}}function Le(e,t,n,r,o){var i=L(e);return i.fnContext=n,i.fnOptions=r,t.slot&&((i.data||(i.data={})).slot=t.slot),i}function De(e,t){for(var n in t)e[gn(n)]=t[n]}function Re(e,t,n,s,u){if(!r(e)){var c=n.$options._base;if(a(e)&&(e=c.extend(e)),"function"==typeof e){var f;if(r(e.cid)&&void 0===(e=function(e,t){if(i(e.error)&&o(e.errorComp))return e.errorComp;if(o(e.resolved))return e.resolved;var n=br;if(n&&o(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),i(e.loading)&&o(e.loadingComp))return e.loadingComp;if(n&&!o(e.owners)){var s=e.owners=[n],u=!0,c=null,f=null;n.$on("hook:destroyed",function(){return y(s,n)});var p=function(e){for(var t=0,n=s.length;t<n;t++)s[t].$forceUpdate();e&&(s.length=0,null!==c&&(clearTimeout(c),c=null),null!==f&&(clearTimeout(f),f=null))},d=S(function(n){e.resolved=ke(n,t),u?s.length=0:p(!0)}),h=S(function(t){o(e.errorComp)&&(e.error=!0,p(!0))}),v=e(d,h);return a(v)&&(l(v)?r(e.resolved)&&v.then(d,h):l(v.component)&&(v.component.then(d,h),o(v.error)&&(e.errorComp=ke(v.error,t)),o(v.loading)&&(e.loadingComp=ke(v.loading,t),0===v.delay?e.loading=!0:c=setTimeout(function(){c=null,r(e.resolved)&&r(e.error)&&(e.loading=!0,p(!1))},v.delay||200)),o(v.timeout)&&(f=setTimeout(function(){f=null,r(e.resolved)&&h(null)},v.timeout)))),u=!1,e.loading?e.loadingComp:e.resolved}}(f=e,c)))return function(e,t,n,r,o){var i=Zn();return i.asyncFactory=e,i.asyncMeta={data:t,context:n,children:r,tag:o},i}(f,t,n,s,u);t=t||{},nt(e),o(t.model)&&function(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var i=t.on||(t.on={}),s=i[r],a=t.model.callback;o(s)?(Array.isArray(s)?-1===s.indexOf(a):s!==a)&&(i[r]=[a].concat(s)):i[r]=a}(e.options,t);var p=function(e,t,n){var i=t.options.props;if(!r(i)){var s={},a=e.attrs,u=e.props;if(o(a)||o(u))for(var c in i){var f=bn(c);ie(s,u,c,f,!0)||ie(s,a,c,f,!1)}return s}}(t,e);if(i(e.options.functional))return function(e,t,n,r,i){var s=e.options,a={},u=s.props;if(o(u))for(var c in u)a[c]=G(c,u,t||ln);else o(n.attrs)&&De(a,n.attrs),o(n.props)&&De(a,n.props);var f=new Pe(n,a,i,r,e),l=s.render.call(null,f._c,f);if(l instanceof Qn)return Le(l,n,f.parent,s);if(Array.isArray(l)){for(var p=se(l)||[],d=new Array(p.length),h=0;h<p.length;h++)d[h]=Le(p[h],n,f.parent,s);return d}}(e,p,t,n,s);var d=t.on;if(t.on=t.nativeOn,i(e.options.abstract)){var h=t.slot;t={},h&&(t.slot=h)}!function(e){for(var t=e.hook||(e.hook={}),n=0;n<mr.length;n++){var r=mr[n],o=t[r],i=_r[r];o===i||o&&o._merged||(t[r]=o?Me(i,o):i)}}(t);var v=e.options.name||u;return new Qn("vue-component-"+e.cid+(v?"-"+v:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:p,listeners:d,tag:u,children:s},f)}}}function Me(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}function Ce(e,t,n,r,u,c){return(Array.isArray(n)||s(n))&&(u=r,r=n,n=void 0),i(c)&&(u=2),function(e,t,n,r,i){return o(n)&&o(n.__ob__)?Zn():(o(n)&&o(n.is)&&(t=n.is),t?(Array.isArray(r)&&"function"==typeof r[0]&&((n=n||{}).scopedSlots={default:r[0]},r.length=0),2===i?r=se(r):1===i&&(r=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(r)),"string"==typeof t?(u=e.$vnode&&e.$vnode.ns||Tn.getTagNamespace(t),s=Tn.isReservedTag(t)?new Qn(Tn.parsePlatformTagName(t),n,r,void 0,void 0,e):n&&n.pre||!o(c=F(e.$options,"components",t))?new Qn(t,n,r,void 0,void 0,e):Re(c,n,e,r,t)):s=Re(t,n,e,r),Array.isArray(s)?s:o(s)?(o(u)&&xe(s,u),o(n)&&function(e){a(e.style)&&ee(e.style),a(e.class)&&ee(e.class)}(n),s):Zn()):Zn());var s,u,c}(e,t,n,r,u)}function xe(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),o(e.children))for(var s=0,a=e.children.length;s<a;s++){var u=e.children[s];o(u.tag)&&(r(u.ns)||i(n)&&"svg"!==u.tag)&&xe(u,t,n)}}function ke(e,t){return(e.__esModule||zn&&"Module"===e[Symbol.toStringTag])&&(e=e.default),a(e)?t.extend(e):e}function Ue(e){return e.isComment&&e.asyncFactory}function je(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(o(n)&&(o(n.componentOptions)||Ue(n)))return n}}function Ye(e,t){gr.$on(e,t)}function $e(e,t){gr.$off(e,t)}function qe(e,t){var n=gr;return function r(){var o=t.apply(null,arguments);null!==o&&n.$off(e,r)}}function Fe(e,t,n){gr=e,re(t,n||{},Ye,$e,qe,e),gr=void 0}function Ge(e){var t=Or;return Or=e,function(){Or=t}}function We(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function ze(e,t){if(t){if(e._directInactive=!1,We(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)ze(e.$children[n]);Ve(e,"activated")}}function He(e,t){if(!(t&&(e._directInactive=!0,We(e))||e._inactive)){e._inactive=!0;for(var n=0;n<e.$children.length;n++)He(e.$children[n]);Ve(e,"deactivated")}}function Ve(e,t){I();var n=e.$options[t],r=t+" hook";if(n)for(var o=0,i=n.length;o<i;o++)K(n[o],e,null,e,r);e._hasHookEvent&&e.$emit("hook:"+t),B()}function Ke(){var e,t;for(Ir=Br(),Nr=!0,Ar.sort(function(e,t){return e.id-t.id}),Tr=0;Tr<Ar.length;Tr++)(e=Ar[Tr]).before&&e.before(),t=e.id,Sr[t]=null,e.run();var n=wr.slice(),r=Ar.slice();Tr=Ar.length=wr.length=0,Sr={},Er=Nr=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,ze(e[t],!0)}(n),function(e){for(var t=e.length;t--;){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&Ve(r,"updated")}}(r),Wn&&Tn.devtools&&Wn.emit("flush")}function Je(e,t,n){Rr.get=function(){return this[t][n]},Rr.set=function(e){this[t][n]=e},Object.defineProperty(e,n,Rr)}function Qe(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var n=e.$options.propsData||{},r=e._props={},o=e.$options._propKeys=[];e.$parent&&D(!1);var i=function(i){o.push(i);var s=G(i,t,n,e);M(r,i,s),i in e||Je(e,"_props",i)};for(var s in t)i(s);D(!0)}(e,t.props),t.methods&&function(e,t){for(var n in e.$options.props,t)e[n]="function"!=typeof t[n]?O:On(t[n],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;u(t=e._data="function"==typeof t?function(e,t){I();try{return e.call(t,t)}catch(e){return V(e,t,"data()"),{}}finally{B()}}(t,e):t||{})||(t={});for(var n=Object.keys(t),r=e.$options.props,o=(e.$options.methods,n.length);o--;){var i=n[o];r&&v(r,i)||E(i)||Je(e,"_data",i)}R(t,!0)}(e):R(e._data={},!0),t.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),r=Gn();for(var o in t){var i=t[o],s="function"==typeof i?i:i.get;r||(n[o]=new Dr(e,s||O,O,Mr)),o in e||Xe(e,o,i)}}(e,t.computed),t.watch&&t.watch!==Yn&&function(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var o=0;o<r.length;o++)tt(e,n,r[o]);else tt(e,n,r)}}(e,t.watch)}function Xe(e,t,n){var r=!Gn();"function"==typeof n?(Rr.get=r?Ze(t):et(n),Rr.set=O):(Rr.get=n.get?r&&!1!==n.cache?Ze(t):et(n.get):O,Rr.set=n.set||O),Object.defineProperty(e,t,Rr)}function Ze(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),Kn.target&&t.depend(),t.value}}function et(e){return function(){return e.call(this,this)}}function tt(e,t,n,r){return u(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,r)}function nt(e){var t=e.options;if(e.super){var n=nt(e.super);if(n!==e.superOptions){e.superOptions=n;var r=function(e){var t,n=e.options,r=e.sealedOptions;for(var o in n)n[o]!==r[o]&&(t||(t={}),t[o]=n[o]);return t}(e);r&&m(e.extendOptions,r),(t=e.options=q(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function rt(e){this._init(e)}function ot(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,o=e._Ctor||(e._Ctor={});if(o[r])return o[r];var i=e.name||n.options.name,s=function(e){this._init(e)};return(s.prototype=Object.create(n.prototype)).constructor=s,s.cid=t++,s.options=q(n.options,e),s.super=n,s.options.props&&function(e){var t=e.options.props;for(var n in t)Je(e.prototype,"_props",n)}(s),s.options.computed&&function(e){var t=e.options.computed;for(var n in t)Xe(e.prototype,n,t[n])}(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,En.forEach(function(e){s[e]=n[e]}),i&&(s.options.components[i]=s),s.superOptions=n.options,s.extendOptions=e,s.sealedOptions=m({},s.options),o[r]=s,s}}function it(e){return e&&(e.Ctor.options.name||e.tag)}function st(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!c(e)&&e.test(t)}function at(e,t){var n=e.cache,r=e.keys,o=e._vnode;for(var i in n){var s=n[i];if(s){var a=it(s.componentOptions);a&&!t(a)&&ut(n,i,r,o)}}}function ut(e,t,n,r){var o=e[t];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),e[t]=null,y(n,t)}function ct(e){for(var t=e.data,n=e,r=e;o(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(t=ft(r.data,t));for(;o(n=n.parent);)n&&n.data&&(t=ft(t,n.data));return i=t.staticClass,s=t.class,o(i)||o(s)?lt(i,pt(s)):"";var i,s}function ft(e,t){return{staticClass:lt(e.staticClass,t.staticClass),class:o(e.class)?[e.class,t.class]:t.class}}function lt(e,t){return e?t?e+" "+t:e:t||""}function pt(e){return Array.isArray(e)?function(e){for(var t,n="",r=0,i=e.length;r<i;r++)o(t=pt(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}(e):a(e)?function(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}(e):"string"==typeof e?e:""}function dt(e,t){var n=e.data.ref;if(o(n)){var r=e.context,i=e.componentInstance||e.elm,s=r.$refs;t?Array.isArray(s[n])?y(s[n],i):s[n]===i&&(s[n]=void 0):e.data.refInFor?Array.isArray(s[n])?s[n].indexOf(i)<0&&s[n].push(i):s[n]=[i]:s[n]=i}}function ht(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&o(e.data)===o(t.data)&&function(e,t){if("input"!==e.tag)return!0;var n,r=o(n=e.data)&&o(n=n.attrs)&&n.type,i=o(n=t.data)&&o(n=n.attrs)&&n.type;return r===i||to(r)&&to(i)}(e,t)||i(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&r(t.asyncFactory.error))}function yt(e,t,n){var r,i,s={};for(r=t;r<=n;++r)o(i=e[r].key)&&(s[i]=r);return s}function vt(e,t){(e.data.directives||t.data.directives)&&function(e,t){var n,r,o,i=e===oo,s=t===oo,a=gt(e.data.directives,e.context),u=gt(t.data.directives,t.context),c=[],f=[];for(n in u)r=a[n],o=u[n],r?(o.oldValue=r.value,o.oldArg=r.arg,mt(o,"update",t,e),o.def&&o.def.componentUpdated&&f.push(o)):(mt(o,"bind",t,e),o.def&&o.def.inserted&&c.push(o));if(c.length){var l=function(){for(var n=0;n<c.length;n++)mt(c[n],"inserted",t,e)};i?oe(t,"insert",l):l()}if(f.length&&oe(t,"postpatch",function(){for(var n=0;n<f.length;n++)mt(f[n],"componentUpdated",t,e)}),!i)for(n in a)u[n]||mt(a[n],"unbind",e,e,s)}(e,t)}function gt(e,t){var n,r,o=Object.create(null);if(!e)return o;for(n=0;n<e.length;n++)(r=e[n]).modifiers||(r.modifiers=ao),o[_t(r)]=r,r.def=F(t.$options,"directives",r.name);return o}function _t(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}
function mt(e,t,n,r,o){var i=e.def&&e.def[t];if(i)try{i(n.elm,e,n,r,o)}catch(r){V(r,n.context,"directive "+e.name+" "+t+" hook")}}function bt(e,t){var n=t.componentOptions;if(!(o(n)&&!1===n.Ctor.options.inheritAttrs||r(e.data.attrs)&&r(t.data.attrs))){var i,s,a=t.elm,u=e.data.attrs||{},c=t.data.attrs||{};for(i in o(c.__ob__)&&(c=t.data.attrs=m({},c)),c)s=c[i],u[i]!==s&&Ot(a,i,s);for(i in(Cn||kn)&&c.value!==u.value&&Ot(a,"value",c.value),u)r(c[i])&&(Hr(i)?a.removeAttributeNS(zr,Vr(i)):Fr(i)||a.removeAttribute(i))}}function Ot(e,t,n){e.tagName.indexOf("-")>-1?At(e,t,n):Wr(t)?Kr(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Fr(t)?e.setAttribute(t,function(e,t){return Kr(t)||"false"===t?"false":"contenteditable"===e&&Gr(t)?t:"true"}(t,n)):Hr(t)?Kr(n)?e.removeAttributeNS(zr,Vr(t)):e.setAttributeNS(zr,t,n):At(e,t,n)}function At(e,t,n){Kr(n)?e.removeAttribute(t):(!Cn||xn||"TEXTAREA"!==e.tagName||"placeholder"!==t||""===n||e.__ieph||(e.addEventListener("input",function t(n){n.stopImmediatePropagation(),e.removeEventListener("input",t)}),e.__ieph=!0),e.setAttribute(t,n))}function wt(e,t){var n=t.elm,i=t.data,s=e.data;if(!(r(i.staticClass)&&r(i.class)&&(r(s)||r(s.staticClass)&&r(s.class)))){var a=ct(t),u=n._transitionClasses;o(u)&&(a=lt(a,pt(u))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}function St(e,t,n){var r=Ur;return function o(){var i=t.apply(null,arguments);null!==i&&Nt(e,o,n,r)}}function Et(e,t,n,r){if(lo){var o=Ir,i=t;t=i._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=o||e.timeStamp<=0||e.target.ownerDocument!==document)return i.apply(this,arguments)}}Ur.addEventListener(e,t,$n?{capture:n,passive:r}:n)}function Nt(e,t,n,r){(r||Ur).removeEventListener(e,t._wrapper||t,n)}function Tt(e,t){if(!r(e.data.on)||!r(t.data.on)){var n=t.data.on||{},i=e.data.on||{};Ur=t.elm,function(e){if(o(e.__r)){var t=Cn?"change":"input";e[t]=[].concat(e.__r,e[t]||[]),delete e.__r}o(e.__c)&&(e.change=[].concat(e.__c,e.change||[]),delete e.__c)}(n),re(n,i,Et,Nt,St,t.context),Ur=void 0}}function It(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var n,i,s=t.elm,a=e.data.domProps||{},u=t.data.domProps||{};for(n in o(u.__ob__)&&(u=t.data.domProps=m({},u)),a)n in u||(s[n]="");for(n in u){if(i=u[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),i===a[n])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===n&&"PROGRESS"!==s.tagName){s._value=i;var c=r(i)?"":String(i);Bt(s,c)&&(s.value=c)}else if("innerHTML"===n&&Xr(s.tagName)&&r(s.innerHTML)){(jr=jr||document.createElement("div")).innerHTML="<svg>"+i+"</svg>";for(var f=jr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;f.firstChild;)s.appendChild(f.firstChild)}else if(i!==a[n])try{s[n]=i}catch(e){}}}}function Bt(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}(e,t)||function(e,t){var n=e.value,r=e._vModifiers;if(o(r)){if(r.number)return d(n)!==d(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}(e,t))}function Pt(e){var t=Lt(e.style);return e.staticStyle?m(e.staticStyle,t):t}function Lt(e){return Array.isArray(e)?b(e):"string"==typeof e?yo(e):e}function Dt(e,t){var n=t.data,i=e.data;if(!(r(n.staticStyle)&&r(n.style)&&r(i.staticStyle)&&r(i.style))){var s,a,u=t.elm,c=i.staticStyle,f=i.normalizedStyle||i.style||{},l=c||f,p=Lt(t.data.style)||{};t.data.normalizedStyle=o(p.__ob__)?m({},p):p;var d=function(e,t){var n,r={};if(t)for(var o=e;o.componentInstance;)(o=o.componentInstance._vnode)&&o.data&&(n=Pt(o.data))&&m(r,n);(n=Pt(e.data))&&m(r,n);for(var i=e;i=i.parent;)i.data&&(n=Pt(i.data))&&m(r,n);return r}(t,!0);for(a in l)r(d[a])&&_o(u,a,"");for(a in d)(s=d[a])!==l[a]&&_o(u,a,null==s?"":s)}}function Rt(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Ao).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Mt(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Ao).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function Ct(e){if(e){if("object"===(0,fn.default)(e)){var t={};return!1!==e.css&&m(t,wo(e.name||"v")),m(t,e),t}return"string"==typeof e?wo(e):void 0}}function xt(e){Lo(function(){Lo(e)})}function kt(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),Rt(e,t))}function Ut(e,t){e._transitionClasses&&y(e._transitionClasses,t),Mt(e,t)}function jt(e,t,n){var r=Yt(e,t),o=r.type,i=r.timeout,s=r.propCount;if(!o)return n();var a=o===Eo?Io:Po,u=0,c=function(){e.removeEventListener(a,f),n()},f=function(t){t.target===e&&++u>=s&&c()};setTimeout(function(){u<s&&c()},i+1),e.addEventListener(a,f)}function Yt(e,t){var n,r=window.getComputedStyle(e),o=(r[To+"Delay"]||"").split(", "),i=(r[To+"Duration"]||"").split(", "),s=$t(o,i),a=(r[Bo+"Delay"]||"").split(", "),u=(r[Bo+"Duration"]||"").split(", "),c=$t(a,u),f=0,l=0;return t===Eo?s>0&&(n=Eo,f=s,l=i.length):t===No?c>0&&(n=No,f=c,l=u.length):l=(n=(f=Math.max(s,c))>0?s>c?Eo:No:null)?n===Eo?i.length:u.length:0,{type:n,timeout:f,propCount:l,hasTransform:n===Eo&&Do.test(r[To+"Property"])}}function $t(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,n){return qt(t)+qt(e[n])}))}function qt(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Ft(e,t){var n=e.elm;o(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=Ct(e.data.transition);if(!r(i)&&!o(n._enterCb)&&1===n.nodeType){for(var s=i.css,u=i.type,c=i.enterClass,f=i.enterToClass,l=i.enterActiveClass,p=i.appearClass,h=i.appearToClass,y=i.appearActiveClass,v=i.beforeEnter,g=i.enter,_=i.afterEnter,m=i.enterCancelled,b=i.beforeAppear,O=i.appear,A=i.afterAppear,w=i.appearCancelled,E=i.duration,N=Or,T=Or.$vnode;T&&T.parent;)N=T.context,T=T.parent;var I=!N._isMounted||!e.isRootInsert;if(!I||O||""===O){var B=I&&p?p:c,P=I&&y?y:l,L=I&&h?h:f,D=I&&b||v,R=I&&"function"==typeof O?O:g,M=I&&A||_,C=I&&w||m,x=d(a(E)?E.enter:E),k=!1!==s&&!xn,U=zt(R),j=n._enterCb=S(function(){k&&(Ut(n,L),Ut(n,P)),j.cancelled?(k&&Ut(n,B),C&&C(n)):M&&M(n),n._enterCb=null});e.data.show||oe(e,"insert",function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),R&&R(n,j)}),D&&D(n),k&&(kt(n,B),kt(n,P),xt(function(){Ut(n,B),j.cancelled||(kt(n,L),U||(Wt(x)?setTimeout(j,x):jt(n,u,j)))})),e.data.show&&(t&&t(),R&&R(n,j)),k||U||j()}}}function Gt(e,t){function n(){w.cancelled||(!e.data.show&&i.parentNode&&((i.parentNode._pending||(i.parentNode._pending={}))[e.key]=e),h&&h(i),b&&(kt(i,f),kt(i,p),xt(function(){Ut(i,f),w.cancelled||(kt(i,l),O||(Wt(A)?setTimeout(w,A):jt(i,c,w)))})),y&&y(i,w),b||O||w())}var i=e.elm;o(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var s=Ct(e.data.transition);if(r(s)||1!==i.nodeType)return t();if(!o(i._leaveCb)){var u=s.css,c=s.type,f=s.leaveClass,l=s.leaveToClass,p=s.leaveActiveClass,h=s.beforeLeave,y=s.leave,v=s.afterLeave,g=s.leaveCancelled,_=s.delayLeave,m=s.duration,b=!1!==u&&!xn,O=zt(y),A=d(a(m)?m.leave:m),w=i._leaveCb=S(function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[e.key]=null),b&&(Ut(i,l),Ut(i,p)),w.cancelled?(b&&Ut(i,f),g&&g(i)):(t(),v&&v(i)),i._leaveCb=null});_?_(n):n()}}function Wt(e){return"number"==typeof e&&!isNaN(e)}function zt(e){if(r(e))return!1;var t=e.fns;return o(t)?zt(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Ht(e,t){!0!==t.data.show&&Ft(t)}function Vt(e,t,n){Kt(e,t),(Cn||kn)&&setTimeout(function(){Kt(e,t)},0)}function Kt(e,t,n){var r=t.value,o=e.multiple;if(!o||Array.isArray(r)){for(var i,s,a=0,u=e.options.length;a<u;a++)if(s=e.options[a],o)i=w(r,Qt(s))>-1,s.selected!==i&&(s.selected=i);else if(A(Qt(s),r))return void(e.selectedIndex!==a&&(e.selectedIndex=a));o||(e.selectedIndex=-1)}}function Jt(e,t){return t.every(function(t){return!A(t,e)})}function Qt(e){return"_value"in e?e._value:e.value}function Xt(e){e.target.composing=!0}function Zt(e){e.target.composing&&(e.target.composing=!1,en(e.target,"input"))}function en(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function tn(e){return!e.componentInstance||e.data&&e.data.transition?e:tn(e.componentInstance._vnode)}function nn(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?nn(je(t.children)):e}function rn(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var o=n._parentListeners;for(var i in o)t[gn(i)]=o[i];return t}function on(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function sn(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function an(e){e.data.newPos=e.elm.getBoundingClientRect()}function un(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,o=t.top-n.top;if(r||o){e.data.moved=!0;var i=e.elm.style;i.transform=i.WebkitTransform="translate("+r+"px,"+o+"px)",i.transitionDuration="0s"}}var cn=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var fn=cn(n(3988)),ln=Object.freeze({}),pn=Object.prototype.toString;h("slot,component",!0);var dn,hn=h("key,ref,slot,slot-scope,is"),yn=Object.prototype.hasOwnProperty,vn=/-(\w)/g,gn=g(function(e){return e.replace(vn,function(e,t){return t?t.toUpperCase():""})}),_n=g(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),mn=/\B([A-Z])/g,bn=g(function(e){return e.replace(mn,"-$1").toLowerCase()}),On=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n},An=function(e,t,n){return!1},wn=function(e){return e},Sn="data-server-rendered",En=["component","directive","filter"],Nn=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],Tn={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:An,isReservedAttr:An,isUnknownElement:An,getTagNamespace:O,parsePlatformTagName:wn,mustUseProp:An,async:!0,_lifecycleHooks:Nn},In=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/,Bn=new RegExp("[^"+In.source+".$_\\d]"),Pn="__proto__"in{},Ln="undefined"!=typeof window,Dn="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Rn=Dn&&WXEnvironment.platform.toLowerCase(),Mn=Ln&&window.navigator.userAgent.toLowerCase(),Cn=Mn&&/msie|trident/.test(Mn),xn=Mn&&Mn.indexOf("msie 9.0")>0,kn=Mn&&Mn.indexOf("edge/")>0,Un=(Mn&&Mn.indexOf("android"),Mn&&/iphone|ipad|ipod|ios/.test(Mn)||"ios"===Rn),jn=(Mn&&/chrome\/\d+/.test(Mn),Mn&&/phantomjs/.test(Mn),Mn&&Mn.match(/firefox\/(\d+)/)),Yn={}.watch,$n=!1;if(Ln)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){$n=!0}}),window.addEventListener("test-passive",null,qn)}catch(e){}var Fn,Gn=function(){return void 0===dn&&(dn=!Ln&&!Dn&&void 0!==n.g&&n.g.process&&"server"===n.g.process.env.VUE_ENV),dn},Wn=Ln&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,zn="undefined"!=typeof Symbol&&T(Symbol)&&"undefined"!=typeof Reflect&&T(Reflect.ownKeys);Fn="undefined"!=typeof Set&&T(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var Hn=O,Vn=0,Kn=function(){this.id=Vn++,this.subs=[]};Kn.prototype.addSub=function(e){this.subs.push(e)},Kn.prototype.removeSub=function(e){y(this.subs,e)},Kn.prototype.depend=function(){Kn.target&&Kn.target.addDep(this)},Kn.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++)e[t].update()},Kn.target=null;var Jn=[],Qn=function(e,t,n,r,o,i,s,a){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=o,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},Xn={child:{configurable:!0}};Xn.child.get=function(){return this.componentInstance},Object.defineProperties(Qn.prototype,Xn);var Zn=function(e){void 0===e&&(e="");var t=new Qn;return t.text=e,t.isComment=!0,t},er=Array.prototype,tr=Object.create(er);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=er[e];N(tr,e,function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var o,i=t.apply(this,n),s=this.__ob__;switch(e){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2)}return o&&s.observeArray(o),s.dep.notify(),i})});var nr=Object.getOwnPropertyNames(tr),rr=!0,or=function(e){this.value=e,this.dep=new Kn,this.vmCount=0,N(e,"__ob__",this),Array.isArray(e)?(Pn?function(e,t){e.__proto__=t}(e,tr):function(e,t,n){for(var r=0,o=n.length;r<o;r++){var i=n[r];N(e,i,t[i])}}(e,tr,nr),this.observeArray(e)):this.walk(e)};or.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)M(e,t[n])},or.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)R(e[t])};var ir=Tn.optionMergeStrategies;ir.data=function(e,t,n){return n?j(e,t,n):t&&"function"!=typeof t?e:j(e,t)},Nn.forEach(function(e){ir[e]=Y}),En.forEach(function(e){ir[e+"s"]=$}),ir.watch=function(e,t,n,r){if(e===Yn&&(e=void 0),t===Yn&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var o={};for(var i in m(o,e),t){var s=o[i],a=t[i];s&&!Array.isArray(s)&&(s=[s]),o[i]=s?s.concat(a):Array.isArray(a)?a:[a]}return o},ir.props=ir.methods=ir.inject=ir.computed=function(e,t,n,r){if(!e)return t;var o=Object.create(null);return m(o,e),t&&m(o,t),o},ir.provide=j;var sr,ar=function(e,t){return void 0===t?e:t},ur=!1,cr=[],fr=!1;if("undefined"!=typeof Promise&&T(Promise)){var lr=Promise.resolve();sr=function(){lr.then(X),Un&&setTimeout(O)},ur=!0}else if(Cn||"undefined"==typeof MutationObserver||!T(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())sr="undefined"!=typeof setImmediate&&T(setImmediate)?function(){setImmediate(X)}:function(){setTimeout(X,0)};else{var pr=1,dr=new MutationObserver(X),hr=document.createTextNode(String(pr));dr.observe(hr,{characterData:!0}),sr=function(){pr=(pr+1)%2,hr.data=String(pr)},ur=!0}var yr=new Fn,vr=g(function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),r="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=r?e.slice(1):e,once:n,capture:r,passive:t}});Be(Pe.prototype);var gr,_r={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;_r.prepatch(n,n)}else(e.componentInstance=function(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return o(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}(e,Or)).$mount(t?e.elm:void 0,t)},prepatch:function(e,t){var n=t.componentOptions;!function(e,t,n,r,o){var i=r.data.scopedSlots,s=e.$scopedSlots,a=!!(i&&!i.$stable||s!==ln&&!s.$stable||i&&e.$scopedSlots.$key!==i.$key),u=!!(o||e.$options._renderChildren||a);if(e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=o,e.$attrs=r.data.attrs||ln,e.$listeners=n||ln,t&&e.$options.props){D(!1);for(var c=e._props,f=e.$options._propKeys||[],l=0;l<f.length;l++){var p=f[l],d=e.$options.props;c[p]=G(p,d,t,e)}D(!0),e.$options.propsData=t}n=n||ln;var h=e.$options._parentListeners;e.$options._parentListeners=n,Fe(e,n,h),u&&(e.$slots=fe(o,r.context),e.$forceUpdate())}(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t,n=e.context,r=e.componentInstance;r._isMounted||(r._isMounted=!0,Ve(r,"mounted")),e.data.keepAlive&&(n._isMounted?((t=r)._inactive=!1,wr.push(t)):ze(r,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?He(t,!0):t.$destroy())}},mr=Object.keys(_r),br=null,Or=null,Ar=[],wr=[],Sr={},Er=!1,Nr=!1,Tr=0,Ir=0,Br=Date.now;if(Ln&&!Cn){var Pr=window.performance;Pr&&"function"==typeof Pr.now&&Br()>document.createEvent("Event").timeStamp&&(Br=function(){return Pr.now()})}var Lr=0,Dr=function(e,t,n,r,o){this.vm=e,o&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Lr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Fn,this.newDepIds=new Fn,this.expression="","function"==typeof t?this.getter=t:(this.getter=function(e){if(!Bn.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}(t),this.getter||(this.getter=O)),this.value=this.lazy?void 0:this.get()};Dr.prototype.get=function(){var e;I(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;V(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ee(e),B(),this.cleanupDeps()}return e},Dr.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},Dr.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Dr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==Sr[t]){if(Sr[t]=!0,Nr){for(var n=Ar.length-1;n>Tr&&Ar[n].id>e.id;)n--;Ar.splice(n+1,0,e)}else Ar.push(e);Er||(Er=!0,Z(Ke))}}(this)},Dr.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||a(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){V(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},Dr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Dr.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},Dr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var Rr={enumerable:!0,configurable:!0,get:O,set:O},Mr={lazy:!0},Cr=0;!function(e){e.prototype._init=function(e){var t=this;t._uid=Cr++,t._isVue=!0,e&&e._isComponent?function(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var o=r.componentOptions;n.propsData=o.propsData,n._parentListeners=o.listeners,n._renderChildren=o.children,n._componentTag=o.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}(t,e):t.$options=q(nt(t.constructor),e||{},t),t._renderProxy=t,t._self=t,function(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(t),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Fe(e,t)}(t),function(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,r=n&&n.context;e.$slots=fe(t._renderChildren,r),e.$scopedSlots=ln,e._c=function(t,n,r,o){return Ce(e,t,n,r,o,!1)},e.$createElement=function(t,n,r,o){return Ce(e,t,n,r,o,!0)};var o=n&&n.data;M(e,"$attrs",o&&o.attrs||ln,null,!0),M(e,"$listeners",t._parentListeners||ln,null,!0)}(t),Ve(t,"beforeCreate"),function(e){var t=ce(e.$options.inject,e);t&&(D(!1),Object.keys(t).forEach(function(n){M(e,n,t[n])}),D(!0))}(t),Qe(t),function(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}(t),Ve(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(rt),function(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=C,e.prototype.$delete=x,e.prototype.$watch=function(e,t,n){var r=this;if(u(t))return tt(r,e,t,n);(n=n||{}).user=!0;var o=new Dr(r,e,t,n);if(n.immediate)try{t.call(r,o.value)}catch(e){V(e,r,'callback for immediate watcher "'+o.expression+'"')}return function(){o.teardown()}}}(rt),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this;if(Array.isArray(e))for(var o=0,i=e.length;o<i;o++)r.$on(e[o],n);else(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){function n(){r.$off(e,n),t.apply(r,arguments)}var r=this;return n.fn=t,r.$on(e,n),r},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var r=0,o=e.length;r<o;r++)n.$off(e[r],t);return n}var i,s=n._events[e];if(!s)return n;if(!t)return n._events[e]=null,n;for(var a=s.length;a--;)if((i=s[a])===t||i.fn===t){s.splice(a,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?_(n):n;for(var r=_(arguments,1),o='event handler for "'+e+'"',i=0,s=n.length;i<s;i++)K(n[i],t,r,t,o)}return t}}(rt),function(e){e.prototype._update=function(e,t){var n=this,r=n.$el,o=n._vnode,i=Ge(n);n._vnode=e,n.$el=o?n.__patch__(o,e):n.__patch__(n.$el,e,t,!1),i(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Ve(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||y(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Ve(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(rt),function(e){Be(e.prototype),e.prototype.$nextTick=function(e){return Z(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,r=n.render,o=n._parentVnode;o&&(t.$scopedSlots=pe(o.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=o;try{br=t,e=r.call(t._renderProxy,t.$createElement)}catch(n){V(n,t,"render"),e=t._vnode}finally{br=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof Qn||(e=Zn()),e.parent=o,e}}(rt);var xr=[String,RegExp,Array],kr={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:xr,exclude:xr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)ut(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",function(t){at(e,function(e){return st(t,e)})}),this.$watch("exclude",function(t){at(e,function(e){return!st(t,e)})})},render:function(){var e=this.$slots.default,t=je(e),n=t&&t.componentOptions;if(n){var r=it(n),o=this.include,i=this.exclude;if(o&&(!r||!st(o,r))||i&&r&&st(i,r))return t;var s=this.cache,a=this.keys,u=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;s[u]?(t.componentInstance=s[u].componentInstance,y(a,u),a.push(u)):(s[u]=t,a.push(u),this.max&&a.length>parseInt(this.max)&&ut(s,a[0],a,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}}};!function(e){var t={get:function(){return Tn}};Object.defineProperty(e,"config",t),e.util={warn:Hn,extend:m,mergeOptions:q,defineReactive:M},e.set=C,e.delete=x,e.nextTick=Z,e.observable=function(e){return R(e),e},e.options=Object.create(null),En.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,m(e.options.components,kr),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=_(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=q(this.options,e),this}}(e),ot(e),function(e){En.forEach(function(t){e[t]=function(e,n){return n?("component"===t&&u(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}})}(e)}(rt),Object.defineProperty(rt.prototype,"$isServer",{get:Gn}),Object.defineProperty(rt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(rt,"FunctionalRenderContext",{value:Pe}),rt.version="2.6.12";var Ur,jr,Yr,$r=h("style,class"),qr=h("input,textarea,option,select,progress"),Fr=h("contenteditable,draggable,spellcheck"),Gr=h("events,caret,typing,plaintext-only"),Wr=h("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),zr="http://www.w3.org/1999/xlink",Hr=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Vr=function(e){return Hr(e)?e.slice(6,e.length):""},Kr=function(e){return null==e||!1===e},Jr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Qr=h("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Xr=h("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Zr=function(e){return Qr(e)||Xr(e)},eo=Object.create(null),to=h("text,number,password,search,email,tel,url"),no=Object.freeze({createElement:function(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(e,t){return document.createElementNS(Jr[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),ro={create:function(e,t){dt(t)},update:function(e,t){e.data.ref!==t.data.ref&&(dt(e,!0),dt(t))},destroy:function(e){dt(e,!0)}},oo=new Qn("",{},[]),io=["create","activate","update","remove","destroy"],so={create:vt,update:vt,destroy:function(e){vt(e,oo)}},ao=Object.create(null),uo=[ro,so],co={create:bt,update:bt},fo={create:wt,update:wt},lo=ur&&!(jn&&Number(jn[1])<=53),po={create:Tt,update:Tt},ho={create:It,update:It},yo=g(function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach(function(e){if(e){var r=e.split(n);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}),vo=/^--/,go=/\s*!important$/,_o=function(e,t,n){if(vo.test(t))e.style.setProperty(t,n);else if(go.test(n))e.style.setProperty(bn(t),n.replace(go,""),"important");else{var r=bo(t);if(Array.isArray(n))for(var o=0,i=n.length;o<i;o++)e.style[r]=n[o];else e.style[r]=n}},mo=["Webkit","Moz","ms"],bo=g(function(e){if(Yr=Yr||document.createElement("div").style,"filter"!==(e=gn(e))&&e in Yr)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<mo.length;n++){var r=mo[n]+t;if(r in Yr)return r}}),Oo={create:Dt,update:Dt},Ao=/\s+/,wo=g(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),So=Ln&&!xn,Eo="transition",No="animation",To="transition",Io="transitionend",Bo="animation",Po="animationend";So&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(To="WebkitTransition",Io="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Bo="WebkitAnimation",Po="webkitAnimationEnd"));var Lo=Ln?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()},Do=/\b(transform|all)(,|$)/,Ro=function(e){function t(e){var t=N.parentNode(e);o(t)&&N.removeChild(t,e)}function n(e,t,n,r,s,f,d){if(o(e.elm)&&o(f)&&(e=f[d]=L(e)),e.isRootInsert=!s,!function(e,t,n,r){var s=e.data;if(o(s)){var c=o(e.componentInstance)&&s.keepAlive;if(o(s=s.hook)&&o(s=s.init)&&s(e,!1),o(e.componentInstance))return a(e,t),u(n,e.elm,r),i(c)&&function(e,t,n,r){for(var i,s=e;s.componentInstance;)if(o(i=(s=s.componentInstance._vnode).data)&&o(i=i.transition)){for(i=0;i<S.activate.length;++i)S.activate[i](oo,s);t.push(s);break}u(n,e.elm,r)}(e,t,n,r),!0}}(e,t,n,r)){var h=e.data,y=e.children,v=e.tag;o(v)?(e.elm=e.ns?N.createElementNS(e.ns,v):N.createElement(v,e),p(e),c(e,y,t),o(h)&&l(e,t),u(n,e.elm,r)):i(e.isComment)?(e.elm=N.createComment(e.text),u(n,e.elm,r)):(e.elm=N.createTextNode(e.text),u(n,e.elm,r))}}function a(e,t){o(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,f(e)?(l(e,t),p(e)):(dt(e),t.push(e))}function u(e,t,n){o(e)&&(o(n)?N.parentNode(n)===e&&N.insertBefore(e,t,n):N.appendChild(e,t))}function c(e,t,r){if(Array.isArray(t))for(var o=0;o<t.length;++o)n(t[o],r,e.elm,null,!0,t,o);else s(e.text)&&N.appendChild(e.elm,N.createTextNode(String(e.text)))}function f(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return o(e.tag)}function l(e,t){for(var n=0;n<S.create.length;++n)S.create[n](oo,e);o(A=e.data.hook)&&(o(A.create)&&A.create(oo,e),o(A.insert)&&t.push(e))}function p(e){var t;if(o(t=e.fnScopeId))N.setStyleScope(e.elm,t);else for(var n=e;n;)o(t=n.context)&&o(t=t.$options._scopeId)&&N.setStyleScope(e.elm,t),n=n.parent;o(t=Or)&&t!==e.context&&t!==e.fnContext&&o(t=t.$options._scopeId)&&N.setStyleScope(e.elm,t)}function d(e,t,r,o,i,s){for(;o<=i;++o)n(r[o],s,e,t,!1,r,o)}function y(e){var t,n,r=e.data;if(o(r))for(o(t=r.hook)&&o(t=t.destroy)&&t(e),t=0;t<S.destroy.length;++t)S.destroy[t](e);if(o(t=e.children))for(n=0;n<e.children.length;++n)y(e.children[n])}function v(e,n,r){for(;n<=r;++n){var i=e[n];o(i)&&(o(i.tag)?(g(i),y(i)):t(i.elm))}}function g(e,n){if(o(n)||o(e.data)){var r,i=S.remove.length+1;for(o(n)?n.listeners+=i:n=function(e,n){function r(){0==--r.listeners&&t(e)}return r.listeners=n,r}(e.elm,i),o(r=e.componentInstance)&&o(r=r._vnode)&&o(r.data)&&g(r,n),r=0;r<S.remove.length;++r)S.remove[r](e,n);o(r=e.data.hook)&&o(r=r.remove)?r(e,n):n()}else t(e.elm)}function _(e,t,n,r){for(var i=n;i<r;i++){var s=t[i];if(o(s)&&ht(e,s))return i}}function m(e,t,s,a,u,c){
if(e!==t){o(t.elm)&&o(a)&&(t=a[u]=L(t));var l=t.elm=e.elm;if(i(e.isAsyncPlaceholder))o(t.asyncFactory.resolved)?O(e.elm,t,s):t.isAsyncPlaceholder=!0;else if(i(t.isStatic)&&i(e.isStatic)&&t.key===e.key&&(i(t.isCloned)||i(t.isOnce)))t.componentInstance=e.componentInstance;else{var p,h=t.data;o(h)&&o(p=h.hook)&&o(p=p.prepatch)&&p(e,t);var y=e.children,g=t.children;if(o(h)&&f(t)){for(p=0;p<S.update.length;++p)S.update[p](e,t);o(p=h.hook)&&o(p=p.update)&&p(e,t)}r(t.text)?o(y)&&o(g)?y!==g&&function(e,t,i,s,a){for(var u,c,f,l=0,p=0,h=t.length-1,y=t[0],g=t[h],b=i.length-1,O=i[0],A=i[b],w=!a;l<=h&&p<=b;)r(y)?y=t[++l]:r(g)?g=t[--h]:ht(y,O)?(m(y,O,s,i,p),y=t[++l],O=i[++p]):ht(g,A)?(m(g,A,s,i,b),g=t[--h],A=i[--b]):ht(y,A)?(m(y,A,s,i,b),w&&N.insertBefore(e,y.elm,N.nextSibling(g.elm)),y=t[++l],A=i[--b]):ht(g,O)?(m(g,O,s,i,p),w&&N.insertBefore(e,g.elm,y.elm),g=t[--h],O=i[++p]):(r(u)&&(u=yt(t,l,h)),r(c=o(O.key)?u[O.key]:_(O,t,l,h))?n(O,s,e,y.elm,!1,i,p):ht(f=t[c],O)?(m(f,O,s,i,p),t[c]=void 0,w&&N.insertBefore(e,f.elm,y.elm)):n(O,s,e,y.elm,!1,i,p),O=i[++p]);l>h?d(e,r(i[b+1])?null:i[b+1].elm,i,p,b,s):p>b&&v(t,l,h)}(l,y,g,s,c):o(g)?(o(e.text)&&N.setTextContent(l,""),d(l,null,g,0,g.length-1,s)):o(y)?v(y,0,y.length-1):o(e.text)&&N.setTextContent(l,""):e.text!==t.text&&N.setTextContent(l,t.text),o(h)&&o(p=h.hook)&&o(p=p.postpatch)&&p(e,t)}}}function b(e,t,n){if(i(n)&&o(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}function O(e,t,n,r){var s,u=t.tag,f=t.data,p=t.children;if(r=r||f&&f.pre,t.elm=e,i(t.isComment)&&o(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(o(f)&&(o(s=f.hook)&&o(s=s.init)&&s(t,!0),o(s=t.componentInstance)))return a(t,n),!0;if(o(u)){if(o(p))if(e.hasChildNodes())if(o(s=f)&&o(s=s.domProps)&&o(s=s.innerHTML)){if(s!==e.innerHTML)return!1}else{for(var d=!0,h=e.firstChild,y=0;y<p.length;y++){if(!h||!O(h,p[y],n,r)){d=!1;break}h=h.nextSibling}if(!d||h)return!1}else c(t,p,n);if(o(f)){var v=!1;for(var g in f)if(!T(g)){v=!0,l(t,n);break}!v&&f.class&&ee(f.class)}}else e.data!==t.text&&(e.data=t.text);return!0}var A,w,S={},E=e.modules,N=e.nodeOps;for(A=0;A<io.length;++A)for(S[io[A]]=[],w=0;w<E.length;++w)o(E[w][io[A]])&&S[io[A]].push(E[w][io[A]]);var T=h("attrs,class,staticClass,staticStyle,key");return function(e,t,s,a){if(!r(t)){var u,c=!1,l=[];if(r(e))c=!0,n(t,l);else{var p=o(e.nodeType);if(!p&&ht(e,t))m(e,t,l,null,null,a);else{if(p){if(1===e.nodeType&&e.hasAttribute(Sn)&&(e.removeAttribute(Sn),s=!0),i(s)&&O(e,t,l))return b(t,l,!0),e;u=e,e=new Qn(N.tagName(u).toLowerCase(),{},[],void 0,u)}var d=e.elm,h=N.parentNode(d);if(n(t,l,d._leaveCb?null:h,N.nextSibling(d)),o(t.parent))for(var g=t.parent,_=f(t);g;){for(var A=0;A<S.destroy.length;++A)S.destroy[A](g);if(g.elm=t.elm,_){for(var w=0;w<S.create.length;++w)S.create[w](oo,g);var E=g.data.hook.insert;if(E.merged)for(var T=1;T<E.fns.length;T++)E.fns[T]()}else dt(g);g=g.parent}o(h)?v([e],0,0):o(e.tag)&&y(e)}}return b(t,l,c),t.elm}o(e)&&y(e)}}({nodeOps:no,modules:[co,fo,po,ho,Oo,Ln?{create:Ht,activate:Ht,remove:function(e,t){!0!==e.data.show?Gt(e,t):t()}}:{}].concat(uo)});xn&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&en(e,"input")});var Mo={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?oe(n,"postpatch",function(){Mo.componentUpdated(e,t,n)}):Vt(e,t,n.context),e._vOptions=[].map.call(e.options,Qt)):("textarea"===n.tag||to(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Xt),e.addEventListener("compositionend",Zt),e.addEventListener("change",Zt),xn&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Vt(e,t,n.context);var r=e._vOptions,o=e._vOptions=[].map.call(e.options,Qt);o.some(function(e,t){return!A(e,r[t])})&&(e.multiple?t.value.some(function(e){return Jt(e,o)}):t.value!==t.oldValue&&Jt(t.value,o))&&en(e,"change")}}},Co={model:Mo,show:{bind:function(e,t,n){var r=t.value,o=(n=tn(n)).data&&n.data.transition,i=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&o?(n.data.show=!0,Ft(n,function(){e.style.display=i})):e.style.display=r?i:"none"},update:function(e,t,n){var r=t.value;!r!=!t.oldValue&&((n=tn(n)).data&&n.data.transition?(n.data.show=!0,r?Ft(n,function(){e.style.display=e.__vOriginalDisplay}):Gt(n,function(){e.style.display="none"})):e.style.display=r?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,r,o){o||(e.style.display=e.__vOriginalDisplay)}}},xo={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},ko=function(e){return e.tag||Ue(e)},Uo=function(e){return"show"===e.name},jo={name:"transition",props:xo,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(ko)).length){var r=this.mode,o=n[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return o;var i=nn(o);if(!i)return o;if(this._leaving)return on(e,o);var a="__transition-"+this._uid+"-";i.key=null==i.key?i.isComment?a+"comment":a+i.tag:s(i.key)?0===String(i.key).indexOf(a)?i.key:a+i.key:i.key;var u=(i.data||(i.data={})).transition=rn(this),c=this._vnode,f=nn(c);if(i.data.directives&&i.data.directives.some(Uo)&&(i.data.show=!0),f&&f.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(i,f)&&!Ue(f)&&(!f.componentInstance||!f.componentInstance._vnode.isComment)){var l=f.data.transition=m({},u);if("out-in"===r)return this._leaving=!0,oe(l,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),on(e,o);if("in-out"===r){if(Ue(i))return c;var p,d=function(){p()};oe(u,"afterEnter",d),oe(u,"enterCancelled",d),oe(l,"delayLeave",function(e){p=e})}}return o}}},Yo=m({tag:String,moveClass:String},xo);delete Yo.mode;var $o={Transition:jo,TransitionGroup:{props:Yo,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var o=Ge(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,o(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],i=this.children=[],s=rn(this),a=0;a<o.length;a++){var u=o[a];u.tag&&null!=u.key&&0!==String(u.key).indexOf("__vlist")&&(i.push(u),n[u.key]=u,(u.data||(u.data={})).transition=s)}if(r){for(var c=[],f=[],l=0;l<r.length;l++){var p=r[l];p.data.transition=s,p.data.pos=p.elm.getBoundingClientRect(),n[p.key]?c.push(p):f.push(p)}this.kept=e(t,null,c),this.removed=f}return e(t,null,i)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(sn),e.forEach(an),e.forEach(un),this._reflow=document.body.offsetHeight,e.forEach(function(e){if(e.data.moved){var n=e.elm,r=n.style;kt(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Io,n._moveCb=function e(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Io,e),n._moveCb=null,Ut(n,t))})}}))},methods:{hasMove:function(e,t){if(!So)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){Mt(n,e)}),Rt(n,t),n.style.display="none",this.$el.appendChild(n);var r=Yt(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};rt.config.mustUseProp=function(e,t,n){return"value"===n&&qr(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},rt.config.isReservedTag=Zr,rt.config.isReservedAttr=$r,rt.config.getTagNamespace=function(e){return Xr(e)?"svg":"math"===e?"math":void 0},rt.config.isUnknownElement=function(e){if(!Ln)return!0;if(Zr(e))return!1;if(e=e.toLowerCase(),null!=eo[e])return eo[e];var t=document.createElement(e);return e.indexOf("-")>-1?eo[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:eo[e]=/HTMLUnknownElement/.test(t.toString())},m(rt.options.directives,Co),m(rt.options.components,$o),rt.prototype.__patch__=Ln?Ro:O,rt.prototype.$mount=function(e,t){return function(e,t,n){var r;return e.$el=t,e.$options.render||(e.$options.render=Zn),Ve(e,"beforeMount"),r=function(){e._update(e._render(),n)},new Dr(e,r,O,{before:function(){e._isMounted&&!e._isDestroyed&&Ve(e,"beforeUpdate")}},!0),n=!1,null==e.$vnode&&(e._isMounted=!0,Ve(e,"mounted")),e}(this,e=e&&Ln?function(e){return"string"==typeof e?document.querySelector(e)||document.createElement("div"):e}(e):void 0,t)},Ln&&setTimeout(function(){Tn.devtools&&Wn&&Wn.emit("init",rt)},0);var qo=rt;t.default=qo},653:function(e,t,n){"use strict";var r=n(3483);Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;var o=r(n(8252)),i=r(n(2925)),s=new o.default;t.render=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return o.default.prototype.$marked=t,o.default.prototype.$speakData=e,o.default.prototype.$eventHub=s,new o.default({render:function(e){return e(i.default)}}).$mount(e.el||"#ispeak")}},6299:function(e,t,n){(t=n(5306)(!1)).push([e.id,"\n.xk-card[data-v-185689ea] {\n  padding: 10px 20px;\n  border-radius: 10px;\n  background: rgba(255, 255, 255, 0.1);\n  box-shadow: 0 3px 8px 6px rgba(7, 17, 27, 0.06);\n  overflow: hidden;\n  margin-top: 20px;\n  user-select: none;\n}\n.xk-card[data-v-185689ea]:hover {\n  box-shadow: 0 5px 10px 8px rgba(7, 17, 27, 0.16);\n  transition: all .15s ease-in-out;\n}\n.xk-card .xk-card-time[data-v-185689ea] {\n  font-size: 12px;\n  text-shadow: #d9d9d9 0 0 1px, #fffffb 0 0 1px, #fffffb 0 0 2px;\n  margin-left: 10px;\n}\n.xk-card .xk-card-header[data-v-185689ea] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.xk-card .xk-card-header .xk-card-name[data-v-185689ea] {\n  display: flex;\n  align-items: center;\n}\n.xk-card .xk-card-header .xk-card-name .is-badge[data-v-185689ea] {\n  height: 17px;\n  width: 17px;\n  margin-left: 5px;\n}\n.xk-card .xk-card-header .xk-card-name .avatar[data-v-185689ea] {\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  margin-right: 10px;\n}\n.xk-card .xk-card-header .xk-card-name .avatar-img[data-v-185689ea] {\n  width: 100%;\n  height: unset;\n  border-radius: 50%;\n}\n.xk-card .xk-card-content[data-v-185689ea] {\n  padding: 0.8rem 0;\n}\n@media screen and (min-width: 768px) {\n#article-container .xk-card-content[data-v-185689ea] .fancybox,\n  #article-container .xk-card-content[data-v-185689ea] video {\n    display: inline-block;\n    max-width: 50%;\n}\n}\n@media screen and (max-width: 768px) {\n#article-container .xk-card-content[data-v-185689ea] .fancybox,\n  #article-container .xk-card-content[data-v-185689ea] video {\n    display: inline-block;\n    max-width: 100%;\n}\n}\n.xk-card .xk-card-footer[data-v-185689ea] {\n  display: flex;\n  padding-bottom: 10px;\n}\n.xk-card .xk-card-footer .xk-card-label[data-v-185689ea] {\n  border-radius: 5px;\n  padding: 0 5px;\n  font-weight: 550;\n  border-radius: 3px;\n  box-shadow: inset 0 -1px 0 rgb(27 31 35 / 12%);\n  font-size: 14px;\n  cursor: pointer;\n  user-select: none;\n  margin-right: 10px;\n}\n",""]),e.exports=t},7273:function(e,t,n){(t=n(5306)(!1)).push([e.id,"\n.xk-footer[data-v-83222954] {\n  width: 100%;\n  text-align: end;\n  font-size: 0.75em;\n  color: #999999;\n  margin-top: 1em;\n}\n",""]),e.exports=t},3139:function(e,t,n){(t=n(5306)(!1)).push([e.id,"\n.xk-info[data-v-0224b4ae] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.xk-info .count[data-v-0224b4ae] {\n  font-weight: 700;\n  font-size: 16px;\n  /* color: #49b1f5; */\n}\n.xk-info .count i[data-v-0224b4ae] {\n  /* color: black; */\n  font-size: 20px;\n}\n@font-face {\n  font-family: 'iconfont';\n  src: url('//at.alicdn.com/t/font_2434936_h1orv7ic88t.eot?t=1616336275189'); /* IE9 */\n  src: url('//at.alicdn.com/t/font_2434936_h1orv7ic88t.eot?t=1616336275189#iefix')\n      format('embedded-opentype'),\n    /* IE6-IE8 */\n      url('data:application/x-font-woff2;charset=utf-8;base64,d09GMgABAAAAAAMUAAsAAAAABswAAALIAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHEIGVgCCcAqBWIFdATYCJAMICwYABCAFhG0HMBsDBsiemjwpUokNLPAZtJlEAoQIov3Yz947VJNLIopHtaRJSyVBhhYowRL5awlvck0zIE7JjQhkMf8FTPMDhUDn5xDUpuZ2E47y4rM+PUz6Di6nP8VbB5TLHJPHBAwsDXCsRZEVSGDeIruI7YlHxHECtXr4M1jLzC8H5jIYF4hbGS0E5g2vLBuJaqGSsjSLFxWq01O6BsBz9v34D0LDnKSiACXbNxkSkPyrB1OMGsoG5wmCt5wZxioKTAEysU+1bjIqolOM1HpRYwPAsQqDX/7LhHvYPx5BVIL8etAlc5+JF/EfNT+BXHSvAy4mXU2aIe6KHBubHndZtXp7q3r9rnz+LG942RidnFhxDUOv0Xh0TCvpfvkKeWkoP6BPE3RtTXlVja+vjjqXj4y6FSxNPCFP/9cWMbjH+Vr8HJw1ut80qkdWEp41nEkP1fYpibiTYR+wW5ODOSm89IJsVvIfIxgL2yCsVPRXsw6wUuzttbP2T3cpoRceFtw8Qi9NSOn5G8O6c2SUFT+SAZQfxUoR8HN/47U4O+XbzW1el8HP1cOZu/zIYJgdqL4FW/AreQObsi8AXcouj2pP1ieFE2oxQAmcrT6mKjvuOxmqddy9vUp3BYVqQ2gmp6BCnVmoVG0Rak3KWl2nDWYkcg0mtEoQmu1D0ugdCs1u0Ey+Q4VO31CpOYyg1mG0bVlnJGSWqxgJCZJAUR2UiTVqihiIZV5YimhGKcR1QUapRFgvC8CQwOB2IgupEV5ihr6aDiWEghTWqGCmdBpSKjVQizVyJCaBUkK0sUFBFO1NgWKNClhahSFCBCIBidSBZMQ01KikM2HZ+XwphMZQEsKcsh5zJQTTk/UOhQgUPADNkqoHlT3KK3rVaKEIggJRMA0VKFMahCgpaUBa+iA5RIwIJJ0Q1ooVhO2oodLA7eWqH8gxqgBVCuxXqHyUqZWMGgA=')\n      format('woff2'),\n    url('//at.alicdn.com/t/font_2434936_h1orv7ic88t.woff?t=1616336275189')\n      format('woff'),\n    url('//at.alicdn.com/t/font_2434936_h1orv7ic88t.ttf?t=1616336275189')\n      format('truetype'),\n    /* chrome, firefox, opera, Safari, Android, iOS 4.2+ */\n      url('//at.alicdn.com/t/font_2434936_h1orv7ic88t.svg?t=1616336275189#iconfont')\n      format('svg'); /* iOS 4.1- */\n}\n.iconfont[data-v-0224b4ae] {\n  font-family: 'iconfont' !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.icon-pinlun[data-v-0224b4ae]:before {\n  content: '\\e61e';\n}\n",""]),e.exports=t},9442:function(e,t,n){(t=n(5306)(!1)).push([e.id,"\n.list-enter-active[data-v-b9fd4424],\n.list-leave-active[data-v-b9fd4424] {\n  transition: all 0.2s cubic-bezier(0.55, 0.085, 0.68, 0.53);\n  transform-origin: 50% 50%;\n}\n.list-enter[data-v-b9fd4424],\n.list-leave-to[data-v-b9fd4424] {\n  transform-origin: 50% 50%;\n  transform: scaleY(0) translateZ(0);\n  opacity: 0;\n}\n.loading[data-v-b9fd4424] {\n  text-align: center;\n}\n@keyframes Gradient-data-v-b9fd4424 {\n0% {\n    background-position: 0 50%;\n}\n50% {\n    background-position: 100% 50%;\n}\nto {\n    background-position: 0 50%;\n}\n}\nbutton[data-v-b9fd4424] {\n  cursor: pointer;\n  color: #fff;\n  border: 0;\n  margin: 20px auto;\n  border-radius: 0.3125rem;\n  display: block;\n  padding: 0 1rem;\n  height: 40px;\n  font-weight: 500;\n  text-align: center;\n  transition: all 0.5s ease-out;\n  background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);\n  background-size: 1000% 1000%;\n  animation: Gradient-data-v-b9fd4424 90s linear infinite;\n  outline: 0;\n  box-shadow: 0 0px 5px 2px rgb(7 17 27 / 15%);\n}\nbutton[data-v-b9fd4424]:hover {\n  box-shadow: 0 0px 8px 6px rgb(7 17 27 / 16%);\n}\n",""]),e.exports=t},2925:function(e,t,n){"use strict";n.r(t),n.d(t,{__esModule:function(){return o.X},default:function(){return a}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ispeak",attrs:{id:"ispeak"}},[n("xk-issue"),e._v(" "),n("xk-footer")],1)};r._withStripped=!0;var o=n(9785),i=o.Z,s=(0,n(1900).Z)(i,r,[],!1,null,"1a1fd4f0",null);s.options.__file="src/view/App.vue";var a=s.exports},3505:function(e,t,n){"use strict";n.r(t),n.d(t,{__esModule:function(){return o.X},default:function(){return a}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"xk-card wow animate__zoomIn"},[n("div",{staticClass:"xk-card-header"},[n("div",{staticClass:"xk-card-name"},[n("div",{staticClass:"avatar"},[n("img",{staticClass:"avatar-img",attrs:{src:e.avatar}})]),e._v(" "),n("div",{staticClass:"name"},[e._v(e._s(e.name))]),e._v(" "),n("svg",{staticClass:"is-badge",attrs:{viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"m512 268c0 17.9-4.3 34.5-12.9 49.7s-20.1 27.1-34.6 35.4c.4 2.7.6 6.9.6 12.6 0 27.1-9.1 50.1-27.1 69.1-18.1 19.1-39.9 28.6-65.4 28.6-11.4 0-22.3-2.1-32.6-6.3-8 16.4-19.5 29.6-34.6 39.7-15 10.2-31.5 15.2-49.4 15.2-18.3 0-34.9-4.9-49.7-14.9-14.9-9.9-26.3-23.2-34.3-40-10.3 4.2-21.1 6.3-32.6 6.3-25.5 0-47.4-9.5-65.7-28.6-18.3-19-27.4-42.1-27.4-69.1 0-3 .4-7.2 1.1-12.6-14.5-8.4-26-20.2-34.6-35.4-8.5-15.2-12.8-31.8-12.8-49.7 0-19 4.8-36.5 14.3-52.3s22.3-27.5 38.3-35.1c-4.2-11.4-6.3-22.9-6.3-34.3 0-27 9.1-50.1 27.4-69.1s40.2-28.6 65.7-28.6c11.4 0 22.3 2.1 32.6 6.3 8-16.4 19.5-29.6 34.6-39.7 15-10.1 31.5-15.2 49.4-15.2s34.4 5.1 49.4 15.1c15 10.1 26.6 23.3 34.6 39.7 10.3-4.2 21.1-6.3 32.6-6.3 25.5 0 47.3 9.5 65.4 28.6s27.1 42.1 27.1 69.1c0 12.6-1.9 24-5.7 34.3 16 7.6 28.8 19.3 38.3 35.1 9.5 15.9 14.3 33.4 14.3 52.4zm-266.9 77.1 105.7-158.3c2.7-4.2 3.5-8.8 2.6-13.7-1-4.9-3.5-8.8-7.7-11.4-4.2-2.7-8.8-3.6-13.7-2.9-5 .8-9 3.2-12 7.4l-93.1 140-42.9-42.8c-3.8-3.8-8.2-5.6-13.1-5.4-5 .2-9.3 2-13.1 5.4-3.4 3.4-5.1 7.7-5.1 12.9 0 5.1 1.7 9.4 5.1 12.9l58.9 58.9 2.9 2.3c3.4 2.3 6.9 3.4 10.3 3.4 6.7-.1 11.8-2.9 15.2-8.7z",fill:"#1da1f2"}})]),e._v(" "),n("span",{staticClass:"xk-card-time",attrs:{title:e.time_title}},[e._v(e._s(e.date))])])]),e._v(" "),n("div",{staticClass:"xk-card-content",domProps:{innerHTML:e._s(e.content)}}),e._v(" "),n("div",{staticClass:"xk-card-footer"},[n("div",{staticClass:"xk-card-label",style:"background: "+e.fromColor+";color:white"},[e._v("\n      "+e._s(e.from)+"\n    ")])])])};r._withStripped=!0;var o=n(5272),i=o.Z,s=(n(6032),(0,n(1900).Z)(i,r,[],!1,null,"185689ea",null));s.options.__file="src/view/components/XkCard.vue";var a=s.exports},6978:function(e,t,n){"use strict";n.r(t),n.d(t,{__esModule:function(){return o.X},default:function(){return a}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"xk-footer"},[e._v("\n  Powered by\n  "),n("a",{attrs:{href:"https://github.com/kuole-o/bber-ispeak",target:"_blank"}},[e._v(e._s(e.name))]),e._v(" v"+e._s(e.version)+"\n")])};r._withStripped=!0;var o=n(739),i=o.Z,s=(n(9083),(0,n(1900).Z)(i,r,[],!1,null,"83222954",null));s.options.__file="src/view/components/XkFooter.vue";var a=s.exports},7054:function(e,t,n){"use strict";n.r(t),n.d(t,{__esModule:function(){return o.X},default:function(){return a}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"xk-info"},[n("div",{staticClass:"count"},[n("i",{staticClass:"fas fa-dragon"}),e._v("\n    共扯了 "+e._s(e.count)+" 条犊子🤪🤪\n  ")])])};r._withStripped=!0;var o=n(317),i=o.Z,s=(n(5135),(0,n(1900).Z)(i,r,[],!1,null,"0224b4ae",null));s.options.__file="src/view/components/XkInfo.vue";var a=s.exports},4920:function(e,t,n){"use strict";n.r(t),n.d(t,{__esModule:function(){return o.X},default:function(){return a}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("xk-info",{attrs:{count:e.total}}),e._v(" "),n("transition-group",{attrs:{name:"list",tag:"div"}},[e._l(e.bbList,function(t){return[n("xk-card",{key:t._id,attrs:{bbData:t,name:e.name,avatar:e.avatar,fromColor:e.fromColor}})]})],2),e._v(" "),e.loading?n("div",{staticClass:"loading"},[n("img",{attrs:{src:e.loadingImg,alt:"loading"}})]):e._e(),e._v(" "),e.bbList.length<e.total?n("button",{staticClass:"next",on:{click:e.getData}},[e._v("再翻翻")]):e._e(),e._v(" "),e.showMessage?n("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[e._v("\n    "+e._s(e.message)+"\n  ")]):e._e()],1)};r._withStripped=!0;var o=n(4667),i=o.Z,s=(n(2e3),(0,n(1900).Z)(i,r,[],!1,null,"b9fd4424",null));s.options.__file="src/view/components/XkIssue.vue";var a=s.exports},1900:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,a){var u,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=u):o&&(u=a?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),u)if(c.functional){c._injectStyles=u;var f=c.render;c.render=function(e,t){return u.call(t),f(e,t)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,u):[u]}return{exports:e,options:c}}n.d(t,{Z:function(){return r}})},6032:function(e,t,n){var r=n(6299);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(7913).Z)("19ed7160",r,!1,{})},9083:function(e,t,n){var r=n(7273);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(7913).Z)("a9027d0c",r,!1,{})},5135:function(e,t,n){var r=n(3139);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(7913).Z)("07e281e7",r,!1,{})},2000:function(e,t,n){var r=n(9442);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(7913).Z)("526027c0",r,!1,{})},7913:function(e,t,n){"use strict";function r(e,t,n,r){v=n,_=r||{};var i=(0,c.Z)(e,t);return o(i),function(t){for(var n=[],r=0;r<i.length;r++){var s=i[r];(a=p[s.id]).refs--,n.push(a)}for(t?o(i=(0,c.Z)(e,t)):i=[],r=0;r<n.length;r++){var a;if(0===(a=n[r]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete p[a.id]}}}}function o(e){for(var t=0;t<e.length;t++){var n=e[t],r=p[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(s(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var i=[];for(o=0;o<n.parts.length;o++)i.push(s(n.parts[o]));p[n.id]={id:n.id,refs:1,parts:i}}}}function i(){var e=document.createElement("style");return e.type="text/css",d.appendChild(e),e}function s(e){var t,n,r=document.querySelector("style["+m+'~="'+e.id+'"]');if(r){if(v)return g;r.parentNode.removeChild(r)}if(b){var o=y++;r=h||(h=i()),t=a.bind(null,r,o,!1),n=a.bind(null,r,o,!0)}else r=i(),t=u.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}function a(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=O(t,o);else{var i=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function u(e,t){var n=t.css,r=t.media,o=t.sourceMap;if(r&&e.setAttribute("media",r),_.ssrId&&e.setAttribute(m,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}n.d(t,{Z:function(){return r}});var c=n(1658),f="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!f)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l,p={},d=f&&(document.head||document.getElementsByTagName("head")[0]),h=null,y=0,v=!1,g=function(){},_=null,m="data-vue-ssr-id",b="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase()),O=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")})},306:function(e){"use strict";e.exports=JSON.parse('{"name":"bber-ispeak","version":"1.4.6","description":"bber-ispeak前端展示","main":"dist/ispeak-bber.min.js","dependencies":{"@cloudbase/js-sdk":"^1.4.1","axios":"^0.21.1","marked":"^2.0.0","vue":"^2.6.12"},"devDependencies":{"@babel/cli":"^7.12.13","@babel/core":"^7.12.13","@babel/plugin-transform-modules-commonjs":"^7.12.13","@babel/plugin-transform-runtime":"^7.12.15","@babel/preset-env":"^7.12.13","@babel/runtime":"^7.12.13","@webpack-cli/serve":"^1.3.0","babel-loader":"^8.2.2","copy-webpack-plugin":"^7.0.0","cross-env":"^7.0.3","css-loader":"^3.6.0","eslint":"^7.19.0","eslint-config-standard":"^16.0.2","eslint-plugin-import":"^2.22.1","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-standard":"^4.1.0","eslint-plugin-vue":"^7.5.0","svg-inline-loader":"^0.8.2","terser-webpack-plugin":"^5.1.1","vue-loader":"^15.9.6","vue-template-compiler":"^2.6.12","webpack":"^5.21.2","webpack-bundle-analyzer":"^4.4.0","webpack-cli":"^4.5.0","webpack-dev-server":"^4.0.0-beta.0"},"homepage":"https://blog.aihch.com/fkbb.html","scripts":{"dev":"webpack serve --mode development","serve":"webpack serve --mode development","build":"webpack --mode production","analyze":"webpack --profile --json > stats.json && webpack-bundle-analyzer stats.json","lint":"eslint src/** --ignore-path .eslintignore"},"repository":{"type":"git","url":"git+ssh://git@github.com/kuole-o/bber-ispeak.git"},"author":"guole","license":"Apache-2.0","bugs":{"url":"https://github.com/kuole-o/bber-ispeak/issues"}}')}},n={};e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var r={};return function(){"use strict";function t(e){return n.apply(this,arguments)}function n(){return(n=(0,a.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,u.render)(t);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var o=r,i=e(3483);Object.defineProperty(o,"__esModule",{value:!0}),o.init=t,o.default=void 0;var s=i(e(6304)),a=i(e(7402)),u=e(653),c=t;o.default=c}(),r}()},"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ispeakBber=t():e.ispeakBber=t();